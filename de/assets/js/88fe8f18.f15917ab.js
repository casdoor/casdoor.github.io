"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[4302],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>m});var r=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=r.createContext({}),p=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},l=function(e){var n=p(e.components);return r.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},c=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,l=d(e,["components","mdxType","originalType","parentName"]),c=p(t),m=i,f=c["".concat(s,".").concat(m)]||c[m]||u[m]||a;return t?r.createElement(f,o(o({ref:n},l),{},{components:t})):r.createElement(f,o({ref:n},l))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=c;var d={};for(var s in n)hasOwnProperty.call(n,s)&&(d[s]=n[s]);d.originalType=e,d.mdxType="string"==typeof e?e:i,o[1]=d;for(var p=2;p<a;p++)o[p]=t[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"},20546:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>d,toc:()=>p});var r=t(87462),i=(t(67294),t(3905));const a={title:"Benutzerdefiniertes OAuth",description:"F\xfcgen Sie Ihren benutzerdefinierten OAuth-Anbieter zu Casdoor hinzu",keywords:["Benutzerdefinierter Anbieter","OAuth","Casdoor"],authors:["halozhy"]},o=void 0,d={unversionedId:"provider/oauth/CustomProvider",id:"provider/oauth/CustomProvider",title:"Benutzerdefiniertes OAuth",description:"F\xfcgen Sie Ihren benutzerdefinierten OAuth-Anbieter zu Casdoor hinzu",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/provider/oauth/CustomProvider.md",sourceDirName:"provider/oauth",slug:"/provider/oauth/CustomProvider",permalink:"/de/docs/provider/oauth/CustomProvider",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/provider/oauth/CustomProvider.md",tags:[],version:"current",frontMatter:{title:"Benutzerdefiniertes OAuth",description:"F\xfcgen Sie Ihren benutzerdefinierten OAuth-Anbieter zu Casdoor hinzu",keywords:["Benutzerdefinierter Anbieter","OAuth","Casdoor"],authors:["halozhy"]},sidebar:"tutorialSidebar",previous:{title:"Azure AD B2C",permalink:"/de/docs/provider/oauth/azureADb2c"},next:{title:"Okta",permalink:"/de/docs/provider/oauth/okta"}},s={},p=[],l={toc:p};function u(e){let{components:n,...a}=e;return(0,i.kt)("wrapper",(0,r.Z)({},l,a,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Casdoor unterst\xfctzt benutzerdefinierte Anbieter. Die benutzerdefinierten Anbieter m\xfcssen jedoch dem standardm\xe4\xdfigen 3-legged OAuth-Prozess folgen, und die R\xfcckgabewerte von ",(0,i.kt)("inlineCode",{parentName:"p"},"Token URL")," und ",(0,i.kt)("inlineCode",{parentName:"p"},"UserInfo URL")," m\xfcssen dem von Casdoor festgelegten Format entsprechen.")),(0,i.kt)("p",null,"Um einen neuen benutzerdefinierten Anbieter zu erstellen, navigieren Sie zur Anbieterseite von Casdoor und w\xe4hlen Sie \u201eCustom\u201c im Feld Typ aus. Sie m\xfcssen dann ",(0,i.kt)("inlineCode",{parentName:"p"},"Client ID"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Client Secret"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Auth URL"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Scope"),",",(0,i.kt)("inlineCode",{parentName:"p"},"Token URL"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"UserInfo URL")," und ",(0,i.kt)("inlineCode",{parentName:"p"},"Favicon")," ausf\xfcllen."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20220418100744005",src:t(38744).Z,width:"685",height:"676"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Auth URL")," ist die Adresse der OAuth-Anmeldeseite des benutzerdefinierten Anbieters."),(0,i.kt)("p",{parentName:"li"},"Wenn Sie ",(0,i.kt)("inlineCode",{parentName:"p"},"https://door.casdoor.com/login/oauth/authorize")," als ",(0,i.kt)("inlineCode",{parentName:"p"},"Auth URL")," eintragen, wird der Browser zuerst zu dieser Adresse umleiten, wenn sich ein Benutzer mit diesem benutzerdefinierten Anbieter anmeldet."),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-url"},"https://door.casdoor.com/login/oauth/authorize?client_id={ClientID}&redirect_uri=https://{your-casdoor-hostname}/callback&state={State_generated_by_Casdoor}&response_type=code&scope={Scope}` \n")),(0,i.kt)("p",{parentName:"li"},"Nachdem die Autorisierung abgeschlossen ist, sollte der benutzerdefinierte Anbieter umleiten zu"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-url"},"https://{your-casdoor-hostname}/callback?code={code}\n")),(0,i.kt)("p",{parentName:"li"},"Nach diesem Schritt wird Casdoor den Code-Parameter in der URL erkennen.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Scope")," ist der Scope-Parameter, der beim Zugriff auf die ",(0,i.kt)("inlineCode",{parentName:"p"},"Auth URL")," \xfcbertragen wird, und Sie sollten ihn gem\xe4\xdf den Anforderungen des benutzerdefinierten Anbieters ausf\xfcllen.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Token URL")," ist der API-Endpunkt zum Erhalten des accessToken."),(0,i.kt)("p",{parentName:"li"},"Sobald Sie den Code im vorherigen Schritt erhalten haben, sollte Casdoor ihn verwenden, um den accessToken zu bekommen."),(0,i.kt)("p",{parentName:"li"},"Wenn Sie ",(0,i.kt)("inlineCode",{parentName:"p"},"https://door.casdoor.com/api/login/oauth/access_token")," als ",(0,i.kt)("inlineCode",{parentName:"p"},"Token URL")," eintragen, wird Casdoor darauf mit dem folgenden Befehl zugreifen"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X POST -u "{ClientID}:{ClientSecret}" --data-binary "code={code}&grant_type=authorization_code&redirect_uri=https://{your-casdoor-hostname}/callback" https://door.casdoor.com/api/login/oauth/access_token\n')),(0,i.kt)("p",{parentName:"li"},"Der benutzerdefinierte Anbieter sollte mindestens die folgenden Informationen zur\xfcckgeben:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "access_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6Ixxxxxxxxxxxxxx",\n  "refresh_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6xxxxxxxxxxxxxx",\n  "token_type": "Bearer",\n  "expires_in": 10080,\n  "scope": "openid profile email"\n}\n'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"UserInfo URL")," ist der API-Endpunkt zum Erhalten von Benutzerinformationen \xfcber den accessToken."),(0,i.kt)("p",{parentName:"li"},"Wenn Sie ",(0,i.kt)("inlineCode",{parentName:"p"},"https://door.casdoor.com/api/userinfo")," als ",(0,i.kt)("inlineCode",{parentName:"p"},"UserInfo URL")," eintragen, wird Casdoor darauf mit dem folgenden Befehl zugreifen"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X GET -H "Authorization: Bearer {accessToken}" https://door.casdoor.com/api/userinfo\n')),(0,i.kt)("p",{parentName:"li"},"Der benutzerdefinierte Anbieter sollte mindestens die folgenden Informationen zur\xfcckgeben:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "admin",\n  "preferred_username": "Admin",\n  "email": "admin@example.com",\n  "picture": "https://casbin.org/img/casbin.svg"\n}\n'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"Favicon")," ist die Logo-URL eines benutzerdefinierten Anbieters."),(0,i.kt)("p",{parentName:"li"},"Dieses Logo wird auf der Anmeldeseite von Casdoor zusammen mit anderen Drittanbieter-Login-Anbietern angezeigt."))))}u.isMDXComponent=!0},38744:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/customprovider-16ebdacc5cde9ec89c0fb2cd4d42a536.png"}}]);