"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[1076],{3905:(e,a,o)=>{o.d(a,{Zo:()=>d,kt:()=>m});var r=o(67294);function t(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}function n(e,a){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),o.push.apply(o,r)}return o}function i(e){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?n(Object(o),!0).forEach((function(a){t(e,a,o[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))}))}return e}function s(e,a){if(null==e)return{};var o,r,t=function(e,a){if(null==e)return{};var o,r,t={},n=Object.keys(e);for(r=0;r<n.length;r++)o=n[r],a.indexOf(o)>=0||(t[o]=e[o]);return t}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}var c=r.createContext({}),l=function(e){var a=r.useContext(c),o=a;return e&&(o="function"==typeof e?e(a):i(i({},a),e)),o},d=function(e){var a=l(e.components);return r.createElement(c.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},p=r.forwardRef((function(e,a){var o=e.components,t=e.mdxType,n=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=l(o),m=t,g=p["".concat(c,".").concat(m)]||p[m]||u[m]||n;return o?r.createElement(g,i(i({ref:a},d),{},{components:o})):r.createElement(g,i({ref:a},d))}));function m(e,a){var o=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var n=o.length,i=new Array(n);i[0]=p;var s={};for(var c in a)hasOwnProperty.call(a,c)&&(s[c]=a[c]);s.originalType=e,s.mdxType="string"==typeof e?e:t,i[1]=s;for(var l=2;l<n;l++)i[l]=o[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,o)}p.displayName="MDXCreateElement"},69739:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>n,metadata:()=>s,toc:()=>l});var r=o(87462),t=(o(67294),o(3905));const n={title:"ELK",description:"Descripci\xf3n general de casdoor/elk-auth-casdoor",keywords:["ELK"],authors:["ComradeProgrammer"]},i=void 0,s={unversionedId:"integration/go/elk",id:"integration/go/elk",title:"ELK",description:"Descripci\xf3n general de casdoor/elk-auth-casdoor",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/integration/go/elk.md",sourceDirName:"integration/go",slug:"/integration/go/elk",permalink:"/es/docs/integration/go/elk",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/integration/go/elk.md",tags:[],version:"current",frontMatter:{title:"ELK",description:"Descripci\xf3n general de casdoor/elk-auth-casdoor",keywords:["ELK"],authors:["ComradeProgrammer"]},sidebar:"tutorialSidebar",previous:{title:"Bytebase",permalink:"/es/docs/integration/go/Bytebase"},next:{title:"Gitea",permalink:"/es/docs/integration/go/gitea"}},c={},l=[{value:"Descripci\xf3n general de casdoor/elk-auth-casdoor",id:"descripci\xf3n-general-de-casdoorelk-auth-casdoor",level:2},{value:"\xbfC\xf3mo ejecutarlo?",id:"c\xf3mo-ejecutarlo",level:2}],d={toc:l};function u(e){let{components:a,...o}=e;return(0,t.kt)("wrapper",(0,r.Z)({},d,o,{components:a,mdxType:"MDXLayout"}),(0,t.kt)("h2",{id:"descripci\xf3n-general-de-casdoorelk-auth-casdoor"},"Descripci\xf3n general de casdoor/elk-auth-casdoor"),(0,t.kt)("p",null,'Uno de los mayores inconvenientes de ELK (Elasticsearch, Logstash y Kibana) es que originalmente estos productos no ten\xedan un mecanismo de autenticaci\xf3n. Como resultado, cualquiera con la URL de Kibana o Elasticsearch pod\xeda acceder al tablero de Kibana. M\xe1s tarde, ELK integr\xf3 un sistema de autenticaci\xf3n incorporado llamado "Xpack". Sin embargo, sus funciones avanzadas (como OAuth, OIDC, LDAP, SAML) no son gratuitas. Solo la autenticaci\xf3n simple, utilizando un conjunto de cuentas y contrase\xf1as, est\xe1 disponible de forma gratuita, lo cual es bastante inconveniente. Este enfoque no nos permite proporcionar una cuenta \xfanica para todos en una corporaci\xf3n.'),(0,t.kt)("p",null,"Para abordar este problema, hemos desarrollado una soluci\xf3n de autenticaci\xf3n de elk basada en Casdoor. Esta soluci\xf3n es gratuita, de c\xf3digo abierto, est\xe1 en mantenimiento continuo y admite una amplia gama de funciones avanzadas. Casdoor es una plataforma centralizada de autenticaci\xf3n/Inicio de Sesi\xf3n \xdanico basada en OAuth 2.0/OIDC. Casdoor/elk-auth-casdoor act\xfaa como un proxy inverso dise\xf1ado para interceptar todo el flujo de datos HTTP hacia la pila ELK/Kibana. Gu\xeda a los usuarios que no han iniciado sesi\xf3n para que lo hagan. Este proxy inverso opera de manera transparente siempre que el usuario haya iniciado sesi\xf3n."),(0,t.kt)("p",null,"Si un usuario no ha sido autenticado correctamente, la solicitud ser\xe1 almacenada temporalmente y el usuario ser\xe1 redirigido a la p\xe1gina de inicio de sesi\xf3n de Casdoor. Una vez que el usuario inicia sesi\xf3n a trav\xe9s de Casdoor, la solicitud almacenada se restaurar\xe1 y se enviar\xe1 a Kibana. Por lo tanto, si se intercepta una solicitud POST (o cualquier otro tipo de solicitud adem\xe1s de GET), el usuario no necesitar\xe1 volver a llenar el formulario y reenviar la solicitud. El proxy inverso lo recordar\xe1 por usted."),(0,t.kt)("p",null,"El repositorio casdoor/elk-auth-casdoor se encuentra en ",(0,t.kt)("a",{parentName:"p",href:"https://github.com/casdoor/elk-auth-casdoor"},"https://github.com/casdoor/elk-auth-casdoor"),"."),(0,t.kt)("h2",{id:"c\xf3mo-ejecutarlo"},"\xbfC\xf3mo ejecutarlo?"),(0,t.kt)("ol",{start:0},(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Aseg\xfarese de tener instalado el entorno del lenguaje de programaci\xf3n Go.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Vaya a ",(0,t.kt)("a",{parentName:"p",href:"https://github.com/casdoor/elk-auth-casdoor"},"casdoor/elk-auth-casdoor")," y obtenga el c\xf3digo.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Registre su proxy como una aplicaci\xf3n con Casdoor.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Modifique la configuraci\xf3n."),(0,t.kt)("p",{parentName:"li"},'El archivo de configuraci\xf3n se encuentra en "conf/app.conf". Aqu\xed hay un ejemplo, que debe personalizar seg\xfan sus necesidades espec\xedficas.'),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{parentName:"pre",className:"language-ini"},'appname = .\n# port on which the reverse proxy shall be run\nhttpport = 8080\nrunmode = dev\n# EDIT IT IF NECESSARY. The URL of this reverse proxy.\npluginEndpoint = "http://localhost:8080"\n# EDIT IT IF NECESSARY. The URL of the Kibana.\ntargetEndpoint = "http://localhost:5601"\n# EDIT IT. The URL of Casdoor.\ncasdoorEndpoint = "http://localhost:8000"\n# EDIT IT. The clientID of your reverse proxy in Casdoor.\nclientID = ceb6eb261ab20174548d\n# EDIT IT. The clientSecret of your reverse proxy in Casdoor.\nclientSecret = af928f0ef1abc1b1195ca58e0e609e9001e134f4\n# EDIT IT. The application name of your reverse proxy in Casdoor.\nappName = ELKProxy\n# EDIT IT. The organization to which your reverse proxy belongs in Casdoor.\norganization = built-in\n'))),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Visite ",(0,t.kt)("a",{parentName:"p",href:"http://localhost:8080"},"http://localhost:8080")," (en el ejemplo anterior) e inicie sesi\xf3n siguiendo la gu\xeda de redirecci\xf3n. Entonces deber\xeda ver Kibana protegido y autenticado por Casdoor.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Si todo funciona bien, no olvide bloquear el acceso externo al puerto original de Kibana configurando su firewall (u otro m\xe9todo). Esto asegura que los forasteros solo puedan acceder a Kibana a trav\xe9s de este proxy inverso."))))}u.isMDXComponent=!0}}]);