(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[4299],{3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return d},kt:function(){return k}});var i=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=i.createContext({}),u=function(e){var n=i.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=u(e.components);return i.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},p=i.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=u(t),k=r,m=p["".concat(s,".").concat(k)]||p[k]||c[k]||a;return t?i.createElement(m,o(o({ref:n},d),{},{components:t})):i.createElement(m,o({ref:n},d))}));function k(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,o=new Array(a);o[0]=p;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<a;u++)o[u]=t[u];return i.createElement.apply(null,o)}return i.createElement.apply(null,t)}p.displayName="MDXCreateElement"},9151:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return d},default:function(){return p}});var i=t(4034),r=t(9973),a=(t(7294),t(3905)),o=["components"],l={sidebar_position:1,title:"Jenkins (OIDC)"},s=void 0,u={unversionedId:"integration/jenkins",id:"integration/jenkins",isDocsHomePage:!1,title:"Jenkins (OIDC)",description:"Casdoor kann das OIDC-Protokoll als IDP verwenden, um verschiedene Anwendungen zu verbinden. Hier werden wir Jenkins als Beispiel benutzen, um Ihnen zu zeigen, wie Sie mit OIDC eine Verbindung zu Ihren Anwendungen herstellen.",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/integration/jenkins.md",sourceDirName:"integration",slug:"/integration/jenkins",permalink:"/de/docs/integration/jenkins",editUrl:"https://github.com/casdoor/casdoor-website/tree/master/docs/integration/jenkins.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Jenkins (OIDC)"},sidebar:"tutorialSidebar",previous:{title:"Fr\xfchlingsstart",permalink:"/de/docs/integration/spring-boot"},next:{title:"APISIX",permalink:"/de/docs/integration/apisix"}},d=[{value:"Schritt1. Deploy Casdoor und Jenkins",id:"schritt1-deploy-casdoor-und-jenkins",children:[],level:2},{value:"Schritt 2. Casdoor Anwendung konfigurieren",id:"schritt-2-casdoor-anwendung-konfigurieren",children:[],level:2},{value:"Schritt3. Jenkins konfigurieren",id:"schritt3-jenkins-konfigurieren",children:[],level:2}],c={toc:d};function p(e){var n=e.components,l=(0,r.Z)(e,o);return(0,a.kt)("wrapper",(0,i.Z)({},c,l,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Casdoor kann das OIDC-Protokoll als IDP verwenden, um verschiedene Anwendungen zu verbinden. Hier werden wir Jenkins als Beispiel benutzen, um Ihnen zu zeigen, wie Sie mit OIDC eine Verbindung zu Ihren Anwendungen herstellen."),(0,a.kt)("p",null,"Folgendes sind einige der Namen in der Konfiguration:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"CASDOOR_HOSTNAME"),": Dom\xe4nenname oder IP-Adresse, auf dem Casdoor-Server eingesetzt wird."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"JENKINS_HOSTNAME"),": Domainname oder IP-Adresse, wo Jenkins eingesetzt wird."),(0,a.kt)("h2",{id:"schritt1-deploy-casdoor-und-jenkins"},"Schritt1. Deploy Casdoor und Jenkins"),(0,a.kt)("p",null,"Zuerst sollten die ",(0,a.kt)("a",{parentName:"p",href:"/docs/basic/server-installation"},"Casdoor")," und ",(0,a.kt)("a",{parentName:"p",href:"https://www.jenkins.io/doc/book/installing/"},"Jenkins")," eingesetzt werden."),(0,a.kt)("p",null,"Nach einem erfolgreichen Einsatz musst du sicherstellen:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Setze Jenkins URL(Verwalte Jenkins -> System -> Jenkins Location) auf ",(0,a.kt)("inlineCode",{parentName:"li"},"JENKINS_HOSTNAME"),". ",(0,a.kt)("img",{alt:"Jenkins URL",src:t(8e3).Z})),(0,a.kt)("li",{parentName:"ol"},"Casdoor kann eingeloggt und normal verwendet werden."),(0,a.kt)("li",{parentName:"ol"},"Legen Sie den Wert `",(0,a.kt)("inlineCode",{parentName:"li"},"(conf/app.conf) auf"),"CASDOOR_HOSTNAME` fest. ",(0,a.kt)("img",{alt:"Casdoor conf",src:t(9541).Z}))),(0,a.kt)("h2",{id:"schritt-2-casdoor-anwendung-konfigurieren"},"Schritt 2. Casdoor Anwendung konfigurieren"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Erstellen oder verwenden Sie eine bestehende Casdoor-Anwendung."),(0,a.kt)("li",{parentName:"ol"},"URL hinzuf\xfcgen: ",(0,a.kt)("inlineCode",{parentName:"li"},"http://JENKINS_HOSTNAME/securityRealm/finishLogin")," ",(0,a.kt)("img",{alt:"Casdoor Anwendung Einstellung",src:t(4312).Z})),(0,a.kt)("li",{parentName:"ol"},"F\xfcgen Sie den gew\xfcnschten Provider hinzu und erg\xe4nzen Sie andere Einstellungen.")),(0,a.kt)("p",null,"Wenig \xfcberraschend, du kannst zwei Werte auf der App-Einstellungsseite erhalten: ",(0,a.kt)("inlineCode",{parentName:"p"},"Client ID")," und ",(0,a.kt)("inlineCode",{parentName:"p"},"Client Secret")," wie das Bild oben, wir werden sie im n\xe4chsten Schritt verwenden."),(0,a.kt)("p",null,"\xd6ffnen Sie Ihren bevorzugten Browser und besuchen Sie: ",(0,a.kt)("strong",{parentName:"p"},"http://",(0,a.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/.well-known/openid-configuration"),", Sie sehen die OIDC Konfiguration von Casdoor."),(0,a.kt)("h2",{id:"schritt3-jenkins-konfigurieren"},"Schritt3. Jenkins konfigurieren"),(0,a.kt)("p",null,"Jenkins unterst\xfctzt OIDC nicht nativ, daher m\xfcssen wir ",(0,a.kt)("a",{parentName:"p",href:"https://plugins.jenkins.io/oic-auth/"},"OpenId Connect Authentifizierung")," installieren."),(0,a.kt)("p",null,"Nach Abschluss der Installation gehen Sie zu Verwalten von Jenkins -> Globale Sicherheit konfigurieren."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Vorschlag"),": Sichern Sie die Jenkins ",(0,a.kt)("inlineCode",{parentName:"p"},"config.xml")," Datei und verwenden Sie sie, um sie im Falle von Setup-Fehlern wiederherzustellen."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},'In Access Control w\xe4hlen Sie "Login mit Openid Connect".'),(0,a.kt)("li",{parentName:"ol"},"Geben Sie in der Client-ID die ",(0,a.kt)("inlineCode",{parentName:"li"},"Client-ID")," an, die oben erw\xe4hnt wurde."),(0,a.kt)("li",{parentName:"ol"},"Geben Sie im Kundengeheimnis das ",(0,a.kt)("inlineCode",{parentName:"li"},"Client Secret")," an, das oben vermerkt wurde."),(0,a.kt)("li",{parentName:"ol"},"W\xe4hlen Sie im Konfigurationsmodus ",(0,a.kt)("inlineCode",{parentName:"li"},"Automatische Konfiguration")," und f\xfcllen Sie ",(0,a.kt)("strong",{parentName:"li"},"http://",(0,a.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/.well-known/openid-configuration")," in den bekannten Konfigurations-Endpunkt aus.",(0,a.kt)("img",{alt:"Jenkins&#39; Einstellung",src:t(407).Z}),"Wenn Ihre Casdoor lokal eingesetzt wird, m\xfcssen Sie ",(0,a.kt)("inlineCode",{parentName:"li"},"Manuelle Konfiguration")," ausw\xe4hlen und einige Informationen eingeben:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Token Server url"),": ",(0,a.kt)("strong",{parentName:"li"},"http://",(0,a.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/api/login/oauth/access_token")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Autorisierungsserver url"),": ",(0,a.kt)("strong",{parentName:"li"},"http://",(0,a.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/login/oauth/authorize")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"UserInfo Server url"),": ",(0,a.kt)("strong",{parentName:"li"},"http://",(0,a.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/api/get-account")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Bereiche"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"Adresse Telefon openid Profil offline_access E-Mail")," ",(0,a.kt)("img",{alt:"Manuelle Konfiguration",src:t(5125).Z})))),(0,a.kt)("li",{parentName:"ol"},"Klicken Sie auf Erweiterte Einstellung. F\xfcllen Sie folgendes aus:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Geben Sie im Feld Benutzername ",(0,a.kt)("inlineCode",{parentName:"li"},"Daten an.name")),(0,a.kt)("li",{parentName:"ul"},"Geben Sie im vollen Namen feild ",(0,a.kt)("inlineCode",{parentName:"li"},"data.displayName")," an"),(0,a.kt)("li",{parentName:"ul"},"Geben Sie im E-Mail-Feld ",(0,a.kt)("inlineCode",{parentName:"li"},"Daten.email")," ein ",(0,a.kt)("img",{alt:"Benutzerinfo-Feldeinstellung",src:t(4245).Z})))),(0,a.kt)("li",{parentName:"ol"},'\xdcberpr\xfcfen Sie im Abschnitt Authorisierung die Option \u201eEingeloggte Benutzer k\xf6nnen irgendetwas tun\u201c. Deaktiviere "Anonymen Lese-Zugriff erlauben". Sie k\xf6nnen sp\xe4ter komplexere Autorisierungen konfigurieren, und pr\xfcfen Sie, ob OpenID tats\xe4chlich funktioniert.')),(0,a.kt)("p",null,"Abmelden von Jenkins, es sollte Sie nun zur Kasse weiterleiten, um sich zu authentifizieren. ",(0,a.kt)("img",{alt:"Jenkins Anmeldeseite",src:t(1265).Z})))}p.isMDXComponent=!0},4312:function(e,n,t){"use strict";n.Z=t.p+"assets/images/appseeting_jenkins-6e0a2968614d0735005951278f44c008.png"},9541:function(e,n,t){"use strict";n.Z=t.p+"assets/images/casdoor_origin-8f5d9e44f6b58828ce69e6e6d896e122.png"},407:function(e,n,t){"use strict";n.Z=t.p+"assets/images/jenkins_auto-acde42e269bf8ed09bf57320d1eecdc0.png"},4245:function(e,n,t){"use strict";n.Z=t.p+"assets/images/jenkins_field-0ddab1487978368743985b6545c4f2f0.png"},1265:function(e,n,t){"use strict";n.Z=t.p+"assets/images/jenkins_login-d7c2179fcdc73e29ca6b90c494cba55b.png"},5125:function(e,n,t){"use strict";n.Z=t.p+"assets/images/jenkins_manual-e28d6e6af536025049ea2a3a22f38eb3.png"},8e3:function(e,n,t){"use strict";n.Z=t.p+"assets/images/jenkins_url-9e8f261138a88501bdfce79ee1c1f3fa.png"}}]);