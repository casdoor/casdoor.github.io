"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[4859],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>k});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=i.createContext({}),s=function(e){var t=i.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=s(e.components);return i.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),u=s(n),k=a,N=u["".concat(p,".").concat(k)]||u[k]||d[k]||r;return n?i.createElement(N,l(l({ref:t},m),{},{components:n})):i.createElement(N,l({ref:t},m))}));function k(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var s=2;s<r;s++)l[s]=n[s];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},68982:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>s});var i=n(87462),a=(n(67294),n(3905));const r={title:"Overview",description:"Managing Users in Casdoor",keywords:["user","properties","import"],authors:["sh1luo"]},l=void 0,o={unversionedId:"user/overview",id:"user/overview",title:"Overview",description:"Managing Users in Casdoor",source:"@site/docs/user/overview.md",sourceDirName:"user",slug:"/user/overview",permalink:"/docs/user/overview",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/user/overview.md",tags:[],version:"current",frontMatter:{title:"Overview",description:"Managing Users in Casdoor",keywords:["user","properties","import"],authors:["sh1luo"]},sidebar:"tutorialSidebar",previous:{title:"Users",permalink:"/docs/category/users"},next:{title:"MFA / 2FA",permalink:"/docs/user/multi-factor-authentication"}},p={},s=[{value:"User Properties",id:"user-properties",level:2},{value:"Using the Properties Field",id:"using-the-properties-field",level:2},{value:"Importing Users from XLSX File",id:"importing-users-from-xlsx-file",level:2},{value:"Bypass password encryption",id:"bypass-password-encryption",level:2}],m={toc:s};function d(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,i.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"user-properties"},"User Properties"),(0,a.kt)("p",null,"As an authentication platform, Casdoor is able to manage users. Every user has the following properties:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Owner"),": The organization that owns the user"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Name"),": The unique username"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"CreatedTime")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"UpdatedTime")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Id"),": Unique identifier for each user"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Type")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Password")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"PasswordSalt")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"PasswordOptions"),": Password complexity options"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"DisplayName"),": Displayed in the user interface"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"FirstName")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"LastName")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Avatar"),": A link to the user's avatar"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"PermanentAvatar")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Email")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Phone")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Location")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Address")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Affiliation")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Title")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"IdCardType")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"IdCard")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Homepage")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Bio")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Tag")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Region")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Language")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Gender")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Birthday")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Education")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Score")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Karma")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Ranking")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"IsDefaultAvatar")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"IsOnline")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"IsAdmin"),": Indicates whether the user is an admin of their organization"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"IsGlobalAdmin"),": Indicates whether the user has permission to manage the Casdoor"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"IsForbidden")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"IsDeleted"),": When a user is soft-deleted (",(0,a.kt)("inlineCode",{parentName:"li"},"IsDeleted = true"),"), they cannot sign in through any authentication method, including OAuth providers. This prevents deleted users from re-registering via third-party login."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"SignupApplication")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Hash")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"PreHash")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"CreatedIp")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"LastSigninTime")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"LastSigninIp")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Roles"),": An array of the user's roles"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Permissions"),": An array of the user's permissions")),(0,a.kt)("p",null,"Unique IDs for social platform logins:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Github")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Google")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"QQ")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"WeChat")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Facebook")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"DingTalk")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Weibo")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Gitee")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"LinkedIn")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Wecom")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Lark")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Gitlab")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Adfs")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Baidu")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Casdoor")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Infoflow")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Apple")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Azure AD")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Azure AD B2C")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Slack")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Steam")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Ldap"))),(0,a.kt)("h2",{id:"using-the-properties-field"},"Using the Properties Field"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"Properties")," field is a flexible key-value map (",(0,a.kt)("inlineCode",{parentName:"p"},"map[string]string"),") that allows you to store custom attributes for users beyond the predefined fields in the User schema. This is particularly useful when you need to:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Store organization-specific user attributes"),(0,a.kt)("li",{parentName:"ul"},"Add custom metadata that doesn't fit into standard fields"),(0,a.kt)("li",{parentName:"ul"},"Extend user profiles without modifying the core schema")),(0,a.kt)("h2",{id:"importing-users-from-xlsx-file"},"Importing Users from XLSX File"),(0,a.kt)("p",null,"You can add new users or update existing Casdoor users by uploading an XLSX file containing user information."),(0,a.kt)("p",null,"In the Admin Console, go to Users and click the ",(0,a.kt)("strong",{parentName:"p"},"Upload (.xlsx)")," button."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Importing Users",src:n(19501).Z,width:"2560",height:"1374"})),(0,a.kt)("p",null,"Select your XLSX file and click Open. The users will be imported."),(0,a.kt)("p",null,"We provide a ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/xlsx/user_test.xlsx"},"template XLSX file")," named ",(0,a.kt)("inlineCode",{parentName:"p"},"user_test.xlsx")," in the ",(0,a.kt)("inlineCode",{parentName:"p"},"xlsx")," folder. The template includes 5 test users and headers for some required user properties."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Import Successful",src:n(65667).Z,width:"2560",height:"1374"})),(0,a.kt)("h2",{id:"bypass-password-encryption"},"Bypass password encryption"),(0,a.kt)("p",null,"When migrating users from an external database to Casdoor, there might be situations where you want to bypass or control the default encryption method provided by ",(0,a.kt)("inlineCode",{parentName:"p"},"organization")," default Password type method."),(0,a.kt)("p",null,"This can be achieved by using the ",(0,a.kt)("inlineCode",{parentName:"p"},"passwordType")," field during user import."),(0,a.kt)("admonition",{title:"User with Bycrypt password",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Below is an example of a POST body request for the API route ",(0,a.kt)("inlineCode",{parentName:"p"},"/api/add-user"),"."),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "owner": "organization",\n    "signupApplication": "first-app",\n    "email":"dev@dev.com",\n    "name": "dev",\n    "displayName": "developper",\n    "password": "$2a$10$.o/iVyDE9Xk8ioywHDnQRu72RviOi6FPa1ujhusbSCZeg7VOa6MY6",\n    "passwordType":"bcrypt",\n}\n')),(0,a.kt)("p",{parentName:"admonition"},"Here, the user's password is already encrypted using the bcrypt algorithm, so we specify the ",(0,a.kt)("inlineCode",{parentName:"p"},"passwordType"),' as "bcrypt" to inform Casdoor not to encrypt it again.')))}d.isMDXComponent=!0},65667:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/import_success-8be0db7efa60235af1149e529292948b.png"},19501:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/import_users-8ff88d9eb5619863117e1cf13cba96ff.png"}}]);