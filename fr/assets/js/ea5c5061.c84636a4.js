"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[4659],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var o=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=o.createContext({}),u=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},c=function(e){var n=u(e.components);return o.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},p=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=u(t),m=r,f=p["".concat(l,".").concat(m)]||p[m]||d[m]||a;return t?o.createElement(f,s(s({ref:n},c),{},{components:t})):o.createElement(f,s({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,s=new Array(a);s[0]=p;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var u=2;u<a;u++)s[u]=t[u];return o.createElement.apply(null,s)}return o.createElement.apply(null,t)}p.displayName="MDXCreateElement"},2254:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>u});var o=t(87462),r=(t(67294),t(3905));const a={title:"D\xe9ploiement sur Kubernetes",description:"Apprenez \xe0 d\xe9ployer Casdoor dans un cluster Kubernetes",keywords:["k8s","Kubernetes","Casdoor","deployment"],authors:["ComradeProgrammer"]},s=void 0,i={unversionedId:"deployment/k8s",id:"deployment/k8s",title:"D\xe9ploiement sur Kubernetes",description:"Apprenez \xe0 d\xe9ployer Casdoor dans un cluster Kubernetes",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/deployment/k8s.md",sourceDirName:"deployment",slug:"/deployment/k8s",permalink:"/fr/docs/deployment/k8s",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/deployment/k8s.md",tags:[],version:"current",frontMatter:{title:"D\xe9ploiement sur Kubernetes",description:"Apprenez \xe0 d\xe9ployer Casdoor dans un cluster Kubernetes",keywords:["k8s","Kubernetes","Casdoor","deployment"],authors:["ComradeProgrammer"]},sidebar:"tutorialSidebar",previous:{title:"D\xe9ploiement sur NGINX",permalink:"/fr/docs/deployment/nginx"},next:{title:"Initialisation des donn\xe9es",permalink:"/fr/docs/deployment/data-initialization"}},l={},u=[{value:"D\xe9ployez Casdoor dans Kubernetes (k8s)",id:"d\xe9ployez-casdoor-dans-kubernetes-k8s",level:2}],c={toc:u};function d(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,o.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"d\xe9ployez-casdoor-dans-kubernetes-k8s"},"D\xe9ployez Casdoor dans Kubernetes (k8s)"),(0,r.kt)("p",null,'Nous fournissons un exemple de base pour d\xe9ployer Casdoor dans un cluster Kubernetes. Dans le dossier racine de Casdoor, vous trouverez un fichier nomm\xe9 "k8s.yaml". Ce fichier contient un exemple de configuration pour d\xe9ployer Casdoor dans Kubernetes, incluant un d\xe9ploiement et un service.'),(0,r.kt)("p",null,"Avant de commencer le d\xe9ploiement, assurez-vous d'avoir modifi\xe9 le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"conf/app.conf")," afin que Casdoor puisse se connecter \xe0 la base de donn\xe9es avec succ\xe8s et que la base de donn\xe9es elle-m\xeame soit en fonctionnement. De plus, assurez-vous que Kubernetes puisse t\xe9l\xe9charger les images n\xe9cessaires."),(0,r.kt)("p",null,"Pour d\xe9ployer Casdoor, ex\xe9cutez la commande suivante :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl apply -f k8s.yaml\n")),(0,r.kt)("p",null,"Vous pouvez v\xe9rifier l'\xe9tat du d\xe9ploiement en ex\xe9cutant la commande ",(0,r.kt)("inlineCode",{parentName:"p"},"kubectl get pods"),"."),(0,r.kt)("p",null,"Voici le contenu de ",(0,r.kt)("inlineCode",{parentName:"p"},"k8s.yaml")," :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"# this is only an EXAMPLE of deploying casddor in kubernetes\n# please modify this file according to your requirements\napiVersion: v1\nkind: Service\nmetadata:\n  #EDIT IT: if you don't want to run casdoor in default namespace, please modify this field\n  #namespace: casdoor\n  name: casdoor-svc\n  labels:\n    app: casdoor\nspec:\n  #EDIT IT: if you don't want to run casdoor in default namespace, please modify this filed\n  type: NodePort\n  ports:\n    - port: 8000\n  selector:\n    app: casdoor\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  #EDIT IT: if you don't want to run casdoor in default namespace, please modify this field\n  #namespace: casdoor\n  name: casdoor-deployment\n  labels:\n    app: casdoor\nspec:\n  #EDIT IT: if you don't use redis, casdoor should not have multiple replicas\n  replicas: 1\n  selector:\n    matchLabels:\n      app: casdoor\n  template:\n    metadata:\n      labels:\n        app: casdoor\n    spec:\n      containers:\n        - name: casdoor-container\n          image: casbin/casdoor:latest\n          imagePullPolicy: Always\n          ports:\n            - containerPort: 8000\n          volumeMounts:\n            # the mounted directory path in THE CONTAINER\n            - mountPath: /conf\n              name: conf\n          env:       \n            - name: RUNNING_IN_DOCKER\n              value: \"true\"\n      #if you want to deploy this in real prod env, consider the config map\n      volumes:\n        - name: conf\n          hostPath:\n            #EDIT IT: the mounted directory path in THE HOST\n            path: /conf\n\n")),(0,r.kt)("p",null,"Veuillez noter que ce fichier est seulement un exemple. Vous pouvez effectuer diverses modifications selon vos besoins, telles que l'utilisation d'un autre espace de noms, type de service, ou un ConfigMap pour monter le fichier de configuration. L'utilisation d'un ConfigMap est une approche recommand\xe9e dans Kubernetes pour monter des fichiers de configuration dans un environnement de production."))}d.isMDXComponent=!0}}]);