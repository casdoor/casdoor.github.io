"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[7575],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>u});var n=o(67294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},c=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(o),u=r,m=d["".concat(p,".").concat(u)]||d[u]||h[u]||a;return o?n.createElement(m,i(i({ref:t},c),{},{components:o})):n.createElement(m,i({ref:t},c))}));function u(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<a;s++)i[s]=o[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},95940:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var n=o(87462),r=(o(67294),o(3905));const a={title:"Wechat",description:"Add Wechat OAuth provider to your application",keywords:["Wechat","OAuth"],authors:["Marvelousp4"]},i=void 0,l={unversionedId:"provider/oauth/Wechat",id:"provider/oauth/Wechat",title:"Wechat",description:"Add Wechat OAuth provider to your application",source:"@site/docs/provider/oauth/Wechat.md",sourceDirName:"provider/oauth",slug:"/provider/oauth/Wechat",permalink:"/de/docs/provider/oauth/Wechat",draft:!1,editUrl:"https://crowdin.com/project/casdoor-website/de",tags:[],version:"current",frontMatter:{title:"Wechat",description:"Add Wechat OAuth provider to your application",keywords:["Wechat","OAuth"],authors:["Marvelousp4"]},sidebar:"tutorialSidebar",previous:{title:"Weibo",permalink:"/de/docs/provider/oauth/Weibo"},next:{title:"WeCom",permalink:"/de/docs/provider/oauth/weCom"}},p={},s=[{value:"WeChat\u2714\ufe0f",id:"wechat\ufe0f",level:2}],c={toc:s};function h(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"wechat\ufe0f"},"WeChat\u2714\ufe0f"),(0,r.kt)("p",null,"Visit ",(0,r.kt)("a",{parentName:"p",href:"https://open.weixin.qq.com/"},"WeChat developer platform"),", and register as a developer. After your web application or your mobile application is approved, then you get your App Id and App Secret."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"wechat",src:o(25193).Z,width:"1258",height:"882"})),(0,r.kt)("p",null,"The WeChat provider offers two different sets of keypairs:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The first keypair (",(0,r.kt)("inlineCode",{parentName:"p"},"Client ID"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Client Secret"),") is for ",(0,r.kt)("inlineCode",{parentName:"p"},"WeChat Open Platform (\u5fae\u4fe1\u5f00\u653e\u5e73\u53f0)"),", it's only for the PC login scenario. It can show QR code in PC browser and the user can use the WeChat APP in mobile phone to scan the code, so the PC browser will allow to sign in with WeChat.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The second keypair (",(0,r.kt)("inlineCode",{parentName:"p"},"Client ID 2"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Client Secret 2"),") is for ",(0,r.kt)("inlineCode",{parentName:"p"},"WeChat Media Platform (\u5fae\u4fe1\u516c\u4f17\u5e73\u53f0)"),", it's only for the inside-WeChat-app login scenario. It allows the user to log in with WeChat built-in browser inside WeChat mobile APP, it will jump to your ",(0,r.kt)("inlineCode",{parentName:"p"},"WeChat Official Account (\u5fae\u4fe1\u516c\u4f17\u53f7)")," to log in. It's notable that in the mobile scenario, WeChat itself doesn't support logging in outside of WeChat APP, like in other mobile browsers (H5) or APPs. This is a limitation of WeChat instead of Casdoor."))),(0,r.kt)("p",null,"If you fill in the second keypair (",(0,r.kt)("inlineCode",{parentName:"p"},"Client ID 2"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Client Secret 2"),") and enable the ",(0,r.kt)("inlineCode",{parentName:"p"},"Enable QR code")," switch, when the user clicks on the WeChat button to log in, ",(0,r.kt)("strong",{parentName:"p"},"Casdoor will first ask the user to follow the WeChat official account (\u5fae\u4fe1\u516c\u4f17\u53f7)"),", then continue the login process. It's notable that this is only available in PC login scenario because a mobile phone cannot scan the QR code by itself. Casdoor will automatically skip this step when used in mobile scenario (aka the WeChat built-in browser inside WeChat mobile APP)."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"We recommend setting the two key sets at the same time, and linking your ",(0,r.kt)("inlineCode",{parentName:"p"},"WeChat Open Platform (\u5fae\u4fe1\u5f00\u653e\u5e73\u53f0)")," account and ",(0,r.kt)("inlineCode",{parentName:"p"},"WeChat Media Platform (\u5fae\u4fe1\u516c\u4f17\u5e73\u53f0)")," account together inside ",(0,r.kt)("inlineCode",{parentName:"p"},"WeChat Open Platform (\u5fae\u4fe1\u5f00\u653e\u5e73\u53f0)"),". So a WeChat user logged-in through PC and mobile can be recognized as the same user in Casdoor.")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Due to the limitations of WeChat OAuth, there is currently no way to log in via WeChat in a 3rd-party mobile APP or in a mobile browser other than WeChat APP. The mobile login must happen inside WeChat APP for now.")),(0,r.kt)("p",null,"For more detailed information, please visit ",(0,r.kt)("a",{parentName:"p",href:"https://developers.weixin.qq.com/doc/oplatform/en/Website_App/WeChat_Login/Wechat_Login.html"},"WeChat Open Platform"),"."))}h.isMDXComponent=!0},25193:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/wechat-daff5f7d0755ab606290542d8f3d0b42.png"}}]);