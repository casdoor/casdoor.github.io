"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[5049],{3905:(e,a,n)=>{n.d(a,{Zo:()=>d,kt:()=>m});var t=n(67294);function o(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){o(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function i(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=t.createContext({}),c=function(e){var a=t.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):s(s({},a),e)),n},d=function(e){var a=c(e.components);return t.createElement(l.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},u=t.forwardRef((function(e,a){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),u=c(n),m=o,k=u["".concat(l,".").concat(m)]||u[m]||p[m]||r;return n?t.createElement(k,s(s({ref:a},d),{},{components:n})):t.createElement(k,s({ref:a},d))}));function m(e,a){var n=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=u;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var c=2;c<r;c++)s[c]=n[c];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}u.displayName="MDXCreateElement"},34960:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var t=n(87462),o=(n(67294),n(3905));const r={title:"(Opcional) Prueba con Docker",description:"Prueba Casdoor con Docker",keywords:["Casdoor","Docker"],authors:["hsluoyz"]},s=void 0,i={unversionedId:"basic/try-with-docker",id:"basic/try-with-docker",title:"(Opcional) Prueba con Docker",description:"Prueba Casdoor con Docker",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/basic/try-with-docker.md",sourceDirName:"basic",slug:"/basic/try-with-docker",permalink:"/es/docs/basic/try-with-docker",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/basic/try-with-docker.md",tags:[],version:"current",frontMatter:{title:"(Opcional) Prueba con Docker",description:"Prueba Casdoor con Docker",keywords:["Casdoor","Docker"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"Instalaci\xf3n del Servidor",permalink:"/es/docs/basic/server-installation"},next:{title:"(Opcional) Prueba con K8s Helm",permalink:"/es/docs/basic/try-with-helm"}},l={},c=[{value:"Requisitos",id:"requisitos",level:2},{value:"Hardware",id:"hardware",level:3},{value:"SO",id:"so",level:3},{value:"Docker",id:"docker",level:3},{value:"Obtener la imagen",id:"obtener-la-imagen",level:2},{value:"<strong>Opci\xf3n-1</strong>: Usa la base de datos de juguete",id:"opci\xf3n-1-usa-la-base-de-datos-de-juguete",level:3},{value:"<strong>Opci\xf3n-2</strong>: Prueba directamente con la imagen est\xe1ndar",id:"opci\xf3n-2-prueba-directamente-con-la-imagen-est\xe1ndar",level:3},{value:"<strong>Opci\xf3n-3</strong>: Prueba con docker-compose",id:"opci\xf3n-3-prueba-con-docker-compose",level:3}],d={toc:c};function p(e){let{components:a,...n}=e;return(0,o.kt)("wrapper",(0,t.Z)({},d,n,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"requisitos"},"Requisitos"),(0,o.kt)("h3",{id:"hardware"},"Hardware"),(0,o.kt)("p",null,"Si quieres construir la imagen de Docker t\xfa mismo, por favor aseg\xfarate de que tu m\xe1quina tenga al menos ",(0,o.kt)("strong",{parentName:"p"},"2GB")," de memoria. El frontend de Casdoor es un proyecto NPM de React. Construir el frontend requiere al menos ",(0,o.kt)("strong",{parentName:"p"},"2GB")," de memoria. Tener menos de ",(0,o.kt)("strong",{parentName:"p"},"2GB")," de memoria puede resultar en un fallo de construcci\xf3n del frontend."),(0,o.kt)("p",null,"Si solo necesitas ejecutar la imagen preconstruida, por favor aseg\xfarate de que tu m\xe1quina tenga al menos ",(0,o.kt)("strong",{parentName:"p"},"100MB")," de memoria."),(0,o.kt)("h3",{id:"so"},"SO"),(0,o.kt)("p",null,"Todos los sistemas operativos (Linux, Windows y macOS) son compatibles."),(0,o.kt)("h3",{id:"docker"},"Docker"),(0,o.kt)("p",null,"Puedes usar ",(0,o.kt)("strong",{parentName:"p"},"Docker (versi\xf3n de docker-engine >= 17.05)")," en Linux o ",(0,o.kt)("strong",{parentName:"p"},"Docker Desktop")," en Windows y macOS."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.docker.com/get-docker/"},"Docker"))),(0,o.kt)("p",null,"Independientemente del sistema operativo, los usuarios deben asegurarse de que tienen ",(0,o.kt)("strong",{parentName:"p"},"versi\xf3n de docker-engine >= 17.05"),". Esto se debe a que utilizamos la caracter\xedstica de construcci\xf3n en m\xfaltiples etapas en el docker-compose.yml, que es compatible con las versiones 17.05 y superiores. Para m\xe1s informaci\xf3n, consulta ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/develop/develop-images/multistage-build/"},"https://docs.docker.com/develop/develop-images/multistage-build/"),"."),(0,o.kt)("p",null,"Si tambi\xe9n est\xe1s usando docker-compose, por favor aseg\xfarate de que tienes ",(0,o.kt)("strong",{parentName:"p"},"versi\xf3n de docker-compose >= 2.2"),". Para los usuarios de Linux, tambi\xe9n necesitas asegurarte de que docker-compose est\xe1 instalado, ya que es independiente de docker-engine."),(0,o.kt)("h2",{id:"obtener-la-imagen"},"Obtener la imagen"),(0,o.kt)("p",null,"Hemos proporcionado dos im\xe1genes de DockerHub:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Nombre"),(0,o.kt)("th",{parentName:"tr",align:null},"Descripci\xf3n"),(0,o.kt)("th",{parentName:"tr",align:null},"Sugerencia"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://hub.docker.com/r/casbin/casdoor-all-in-one"},"casdoor-all-in-one")),(0,o.kt)("td",{parentName:"tr",align:null},"Tanto Casdoor como una base de datos MySQL est\xe1n incluidos en la imagen"),(0,o.kt)("td",{parentName:"tr",align:null},"Esta imagen ya incluye una base de datos de juguete y es solo para prop\xf3sitos de prueba")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://hub.docker.com/r/casbin/casdoor"},"casdoor")),(0,o.kt)("td",{parentName:"tr",align:null},"Solo Casdoor est\xe1 incluido en la imagen"),(0,o.kt)("td",{parentName:"tr",align:null},"Esta imagen se puede conectar a tu propia base de datos y usarse en producci\xf3n")))),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"casbin/casdoor-all-in-one: Esta imagen incluye el binario de casdoor, una base de datos MySQL y todas las configuraciones necesarias. Est\xe1 dise\xf1ada para nuevos usuarios que quieren probar Casdoor r\xe1pidamente. Con esta imagen, puedes iniciar Casdoor inmediatamente con solo uno o dos comandos, sin ninguna configuraci\xf3n compleja. Sin embargo, por favor ten en cuenta que ",(0,o.kt)("strong",{parentName:"li"},"no recomendamos")," usar esta imagen en un entorno de producci\xf3n.")),(0,o.kt)("h3",{id:"opci\xf3n-1-usa-la-base-de-datos-de-juguete"},(0,o.kt)("strong",{parentName:"h3"},"Opci\xf3n-1"),": Usa la base de datos de juguete"),(0,o.kt)("p",null,"Ejecuta el contenedor con el puerto ",(0,o.kt)("inlineCode",{parentName:"p"},"8000")," expuesto al host. La imagen se descargar\xe1 autom\xe1ticamente si no existe en el host local."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker run -p 8000:8000 casbin/casdoor-all-in-one\n")),(0,o.kt)("p",null,"Visita ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,o.kt)("strong",{parentName:"a"},"http://localhost:8000"))," en tu navegador. Inicia sesi\xf3n en el panel de control de Casdoor con la cuenta de administrador global predeterminada: ",(0,o.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,o.kt)("h3",{id:"opci\xf3n-2-prueba-directamente-con-la-imagen-est\xe1ndar"},(0,o.kt)("strong",{parentName:"h3"},"Opci\xf3n-2"),": Prueba directamente con la imagen est\xe1ndar"),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Si no es conveniente montar el archivo de configuraci\xf3n en un contenedor, usar variables de entorno tambi\xe9n es una soluci\xf3n posible."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="example"',title:'"example"'},"\ndocker run \\\n  -e driverName=mysql \\\n  -e dataSourceName='user:password@tcp(x.x.x.x:3306)/' \\\n  -p 8000:8000 \\\n  casbin/casdoor:latest\n\n"))),(0,o.kt)("p",null,"Crea ",(0,o.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),". Puedes copiarlo de ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},"conf/app.conf")," en Casdoor. Para m\xe1s detalles sobre ",(0,o.kt)("inlineCode",{parentName:"p"},"app.conf"),", puedes ver ",(0,o.kt)("a",{parentName:"p",href:"/docs/basic/server-installation#via-ini-file"},"Via Ini file"),"."),(0,o.kt)("p",null,"Luego ejecuta"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker run  -p 8000:8000 -v /folder/of/app.conf:/conf casbin/casdoor:latest\n")),(0,o.kt)("p",null,"De todos modos, solo ",(0,o.kt)("strong",{parentName:"p"},"monta el app.conf en /conf/app.conf")," y comienza el contenedor."),(0,o.kt)("p",null,"Visita ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,o.kt)("strong",{parentName:"a"},"http://localhost:8000"))," en tu navegador. Inicia sesi\xf3n en el panel de control de Casdoor con la cuenta de administrador global predeterminada: ",(0,o.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,o.kt)("h3",{id:"opci\xf3n-3-prueba-con-docker-compose"},(0,o.kt)("strong",{parentName:"h3"},"Opci\xf3n-3"),": Prueba con docker-compose"),(0,o.kt)("p",null,"Crea un directorio ",(0,o.kt)("inlineCode",{parentName:"p"},"conf/app.conf")," en el mismo nivel de directorio que el archivo ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose.yml"),". Luego, copia ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},"app.conf")," de Casdoor. Para m\xe1s detalles sobre ",(0,o.kt)("inlineCode",{parentName:"p"},"app.conf"),", puedes ver ",(0,o.kt)("a",{parentName:"p",href:"/docs/basic/server-installation#via-ini-file"},"Via Ini file"),"."),(0,o.kt)("p",null,"Crea una base de datos separada usando docker-compose:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose up\n")),(0,o.kt)("p",null,"\xa1Eso es todo! \ud83d\udee9\ufe0f"),(0,o.kt)("p",null,"Visita ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,o.kt)("strong",{parentName:"a"},"http://localhost:8000"))," en tu navegador. Inicia sesi\xf3n en el panel de control de Casdoor con la cuenta de administrador global predeterminada: ",(0,o.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Si profundizas en el archivo docker-compose.yml, puede que te confunda la variable de entorno que creamos llamada \"RUNNING_IN_DOCKER\". Cuando la base de datos 'db' se crea a trav\xe9s de docker-compose, est\xe1 disponible en el localhost de tu PC pero no en el localhost del contenedor de Casdoor. Para evitar que tengas problemas al modificar app.conf, lo cual puede ser bastante dif\xedcil para un usuario nuevo, proporcionamos esta variable de entorno y la preasignamos en el docker-compose.yml. Cuando esta variable de entorno est\xe1 configurada en verdadero, localhost ser\xe1 reemplazado con host.docker.internal para que Casdoor pueda acceder a la base de datos.")))}p.isMDXComponent=!0}}]);