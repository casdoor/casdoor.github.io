"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[2637],{3905:(e,t,o)=>{o.d(t,{Zo:()=>d,kt:()=>u});var a=o(67294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t){if(null==e)return{};var o,a,n=function(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=a.createContext({}),s=function(e){var t=a.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},d=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),k=s(o),u=n,m=k["".concat(l,".").concat(u)]||k[u]||p[u]||r;return o?a.createElement(m,i(i({ref:t},d),{},{components:o})):a.createElement(m,i({ref:t},d))}));function u(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=o.length,i=new Array(r);i[0]=k;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var s=2;s<r;s++)i[s]=o[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,o)}k.displayName="MDXCreateElement"},88886:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>c,toc:()=>s});var a=o(87462),n=(o(67294),o(3905));const r={title:"Keycloak",description:"Using Casdoor as SAML IdP",keywords:["SAML","IdP"],authors:["seriouszyx"]},i=void 0,c={unversionedId:"how-to-connect/saml/keycloak",id:"how-to-connect/saml/keycloak",title:"Keycloak",description:"Using Casdoor as SAML IdP",source:"@site/docs/how-to-connect/saml/keycloak.md",sourceDirName:"how-to-connect/saml",slug:"/how-to-connect/saml/keycloak",permalink:"/docs/how-to-connect/saml/keycloak",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/how-to-connect/saml/keycloak.md",tags:[],version:"current",frontMatter:{title:"Keycloak",description:"Using Casdoor as SAML IdP",keywords:["SAML","IdP"],authors:["seriouszyx"]},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/docs/how-to-connect/saml/overview"},next:{title:"Google Workspcae",permalink:"/docs/how-to-connect/saml/google-workspace"}},l={},s=[{value:"Casdoor as a SAML IdP in keycloak",id:"casdoor-as-a-saml-idp-in-keycloak",level:2},{value:"Add SAML IdP in Keycloak",id:"add-saml-idp-in-keycloak",level:3},{value:"Configure SAML application in Casdoor",id:"configure-saml-application-in-casdoor",level:4},{value:"Login using Casdoor SAML",id:"login-using-casdoor-saml",level:3}],d={toc:s};function p(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"casdoor-as-a-saml-idp-in-keycloak"},"Casdoor as a SAML IdP in keycloak"),(0,n.kt)("p",null,"This guide will show you how to configure Casdoor and Keycloak to add Casdoor as a SAML IdP in Keycloak."),(0,n.kt)("h3",{id:"add-saml-idp-in-keycloak"},"Add SAML IdP in Keycloak"),(0,n.kt)("p",null,"Open Keycloak admin page, click ",(0,n.kt)("strong",{parentName:"p"},"Identity Providers")," and select ",(0,n.kt)("strong",{parentName:"p"},"SAML v2.0")," from the list of providers."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"saml_keycloak_idp_create",src:o(80930).Z,width:"2560",height:"1206"})),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"You can visit Keycloak SAML Identity Providers ",(0,n.kt)("a",{parentName:"p",href:"https://www.keycloak.org/docs/latest/server_admin/#saml-v2-0-identity-providers"},"documentation")," to get more detailed information.")),(0,n.kt)("p",null,"Enter the ",(0,n.kt)("strong",{parentName:"p"},"Alias")," and the ",(0,n.kt)("strong",{parentName:"p"},"Import from URL")," in Keycloak IdP edit page. The content of ",(0,n.kt)("strong",{parentName:"p"},"Import from URL")," can be found in the Casdoor application edit page. Click ",(0,n.kt)("strong",{parentName:"p"},"Import")," and the SAML config will be filled automatically. "),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"saml_keycloak_idp_edit",src:o(47624).Z,width:"1483",height:"392"})),(0,n.kt)("p",null,"You should remember the ",(0,n.kt)("strong",{parentName:"p"},"Service Provider Entity ID")," and then save the configuration."),(0,n.kt)("h4",{id:"configure-saml-application-in-casdoor"},"Configure SAML application in Casdoor"),(0,n.kt)("p",null,"In the application edit page, add a redirect URL which the content of it is ",(0,n.kt)("strong",{parentName:"p"},"Service Provider Entity ID")," in Keycloak. And you should enable SAML compress for Keycloak."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"saml_keycloak_compress",src:o(26865).Z,width:"2450",height:"692"})),(0,n.kt)("h3",{id:"login-using-casdoor-saml"},"Login using Casdoor SAML"),(0,n.kt)("p",null,"Open the Keycloak login page and you can find the additional button that allows you to login to Keycloak using the Casdoor SAML provider. "),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"saml_keycloak_login",src:o(82514).Z,width:"1549",height:"867"})),(0,n.kt)("p",null,"Click on the button and you will be redirected to the Casdoor SAML provider for the authentication. After the successful authentication, you will be redirected back to Keycloak. Then you need to assign users to the application."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"saml_keycloak_success",src:o(40318).Z,width:"1705",height:"963"})),(0,n.kt)("p",null,"We also provide a demo video to demonstrate the entire process, which we hope will be helpful to you."),(0,n.kt)("video",{src:"/video/saml_keycloak.mp4",controls:"controls",width:"100%"}))}p.isMDXComponent=!0},26865:(e,t,o)=>{o.d(t,{Z:()=>a});const a=o.p+"assets/images/saml_keycloak_compress-31ccc297f3c517c6ffe24f38a25137f6.png"},80930:(e,t,o)=>{o.d(t,{Z:()=>a});const a=o.p+"assets/images/saml_keycloak_idp_create-2b0cc39c21d6a1b6076844bfc5470b1d.png"},47624:(e,t,o)=>{o.d(t,{Z:()=>a});const a=o.p+"assets/images/saml_keycloak_idp_edit-4963c9be36f7011c41f2b431a9478417.png"},82514:(e,t,o)=>{o.d(t,{Z:()=>a});const a=o.p+"assets/images/saml_keycloak_login-d5b72edf974b0844ee37037fe8ff41f5.png"},40318:(e,t,o)=>{o.d(t,{Z:()=>a});const a=o.p+"assets/images/saml_keycloak_success-c8961ef7869d53c11d269d8723955ccc.png"}}]);