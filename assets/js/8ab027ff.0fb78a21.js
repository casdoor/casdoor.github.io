"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[6897],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var o=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=o.createContext({}),s=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=s(e.components);return o.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),g=i,m=u["".concat(p,".").concat(g)]||u[g]||d[g]||a;return n?o.createElement(m,r(r({ref:t},c),{},{components:n})):o.createElement(m,r({ref:t},c))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var s=2;s<a;s++)r[s]=n[s];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},31674:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var o=n(87462),i=(n(67294),n(3905));const a={title:"How to Enable Single Sign-On",description:"Enable Single Sign-On",keywords:["SSO","Single Sign-On"],authors:["leo220yuyaodog"]},r=void 0,l={unversionedId:"how-to-connect/single-sign-on",id:"how-to-connect/single-sign-on",title:"How to Enable Single Sign-On",description:"Enable Single Sign-On",source:"@site/docs/how-to-connect/single-sign-on.md",sourceDirName:"how-to-connect",slug:"/how-to-connect/single-sign-on",permalink:"/docs/how-to-connect/single-sign-on",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/how-to-connect/single-sign-on.md",tags:[],version:"current",frontMatter:{title:"How to Enable Single Sign-On",description:"Enable Single Sign-On",keywords:["SSO","Single Sign-On"],authors:["leo220yuyaodog"]},sidebar:"tutorialSidebar",previous:{title:"Casdoor SDKs",permalink:"/docs/how-to-connect/sdk"},next:{title:"Vue SDK",permalink:"/docs/how-to-connect/vue-sdk"}},p={},s=[{value:"Introduction",id:"introduction",level:2},{value:"Configure",id:"configure",level:2},{value:"Add Silent Signin",id:"add-silent-signin",level:2},{value:"Add Popup Signin",id:"add-popup-signin",level:2},{value:"Using SSO",id:"using-sso",level:2}],c={toc:s};function d(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,o.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"You have connected Casdoor and configured more than one application in an organization. You want users to sign in once\nto any app in nomeguythe organization, and then be able to sign in when they go to another app, without any extra clicks. "),(0,i.kt)("p",null,"We offer this single sign-on, you just need to:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Enable Auto signin button."),(0,i.kt)("li",{parentName:"ul"},"Fill in the URL for home page."),(0,i.kt)("li",{parentName:"ul"},"Add a ",(0,i.kt)("strong",{parentName:"li"},"Silent Signin")," function to the application home page.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"The basic sign in process provided by Casdoor allows users to log in to other applications in the organization by\nselecting the user who is currently logged in or using another account. "),(0,i.kt)("p",{parentName:"admonition"},"After enable the auto signin, the selection box will not display, the logged user will log in directly.")),(0,i.kt)("h2",{id:"configure"},"Configure"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Fill the field ",(0,i.kt)("strong",{parentName:"li"},"home"),". It can be the application's home page or the login page.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"sso_home.png",src:n(39493).Z,width:"1270",height:"717"}),"\n2. Enable Auto signin button."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"sso_signin.png",src:n(40871).Z,width:"505",height:"405"})),(0,i.kt)("h2",{id:"add-silent-signin"},"Add Silent Signin"),(0,i.kt)("p",null,"In fact, we implement auto login by carrying parameters on the URL. So your applications need to have a method to trigger\nthe login after jumping to the URL. We provide ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-react-sdk"},"casdoor-react-sdk")," for you\nto quickly implement the feature. You can see details in ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-react-sdk#use-in-react"},"use-in-react"),"."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"How it works"),(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},"In the URL to the application home page, we will carry the ",(0,i.kt)("inlineCode",{parentName:"li"},"silentSignin")," parameter."),(0,i.kt)("li",{parentName:"ol"},"In your HomePage to determine whether you need to log in silently(automatically) by the parameter ",(0,i.kt)("inlineCode",{parentName:"li"},"silentSignin"),". If\nsilentSignin === 1, the function returns the SilentSignin component, it will help you initiate a login request. And since you have\nauto-login enabled, users will log in automatically without clicking."))),(0,i.kt)("h2",{id:"add-popup-signin"},"Add Popup Signin"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"popup signin")," will pop up a small window. After logging in to Casdoor in the child window, it will send authentication information to the main window and then close automatically. We implement it by carrying parameters on the URL."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"How to use"),(0,i.kt)("p",{parentName:"admonition"},"Use the method ",(0,i.kt)("inlineCode",{parentName:"p"},"popupSignin()")," in sdk ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-js-sdk"},"casdoor-js-sdk")," to quickly implement the feature. You can see a demo in ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-nodejs-react-example"},"casdoor-nodejs-react-example"),"."),(0,i.kt)("p",{parentName:"admonition"},"How it works"),(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},"In the URL to the application home page, we will carry the ",(0,i.kt)("inlineCode",{parentName:"li"},"popup")," parameter."),(0,i.kt)("li",{parentName:"ol"},"When ",(0,i.kt)("inlineCode",{parentName:"li"},"popup=1")," in login params, Casdoor will send ",(0,i.kt)("inlineCode",{parentName:"li"},"code")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"state")," as a message to main window and finish get ",(0,i.kt)("inlineCode",{parentName:"li"},"token")," in main window by SDK."))),(0,i.kt)("h2",{id:"using-sso"},"Using SSO"),(0,i.kt)("p",null,"The configuration is complete, below will show you how to use auto login. "),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Make sure in your application can redirect to user's profile page. The API ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-js-sdk#get-my-profile-page-url"},"getMyProfileUrl(account, returnUrl)"),"\nis provided in our SDK for each language.")),(0,i.kt)("p",null,'Open the profile page and go to the "Home" page (',(0,i.kt)("inlineCode",{parentName:"p"},"/")," URL path). You will see the application list provided by the organization. It's notable that only users in organizations other that ",(0,i.kt)("inlineCode",{parentName:"p"},"built-in"),' can see the application list in the "Home" page. All the global administrators (aka in the ',(0,i.kt)("inlineCode",{parentName:"p"},"built-in")," organization) cannot see it."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"sso_homepage.png",src:n(73482).Z,width:"1899",height:"883"})),(0,i.kt)("p",null,"Click on a tile in the application list, it will jump to the homepage URL of that application with GET parameter: ",(0,i.kt)("inlineCode",{parentName:"p"},"?silentSignin=1")," and automatically log into the application if the application has integrated with Casdoor SSO (so it will recognize the ",(0,i.kt)("inlineCode",{parentName:"p"},"?silentSignin=1")," parameter and perform silent login in the background)."))}d.isMDXComponent=!0},39493:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/sso_home-67f2ee9056c1b87d9dfe873e02e8db04.png"},73482:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/sso_homepage-9a368fa35b6e7bf07c333b423155be30.png"},40871:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/sso_signin-d64d40c185de026300a6fbd2c0385c1f.png"}}]);