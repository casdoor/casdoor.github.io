"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[7194],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(a),m=o,k=d["".concat(l,".").concat(m)]||d[m]||p[m]||r;return a?n.createElement(k,s(s({ref:t},u),{},{components:a})):n.createElement(k,s({ref:t},u))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,s=new Array(r);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var c=2;c<r;c++)s[c]=a[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},47726:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var n=a(87462),o=(a(67294),a(3905));const r={title:"(Facultatif) Essayez avec Docker",description:"Essayez Casdoor avec Docker",keywords:["Casdoor","Docker"],authors:["hsluoyz"]},s=void 0,i={unversionedId:"basic/try-with-docker",id:"basic/try-with-docker",title:"(Facultatif) Essayez avec Docker",description:"Essayez Casdoor avec Docker",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/basic/try-with-docker.md",sourceDirName:"basic",slug:"/basic/try-with-docker",permalink:"/fr/docs/basic/try-with-docker",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/basic/try-with-docker.md",tags:[],version:"current",frontMatter:{title:"(Facultatif) Essayez avec Docker",description:"Essayez Casdoor avec Docker",keywords:["Casdoor","Docker"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"Installation du serveur",permalink:"/fr/docs/basic/server-installation"},next:{title:"(Facultatif) Essayez avec K8s Helm",permalink:"/fr/docs/basic/try-with-helm"}},l={},c=[{value:"Exigences",id:"exigences",level:2},{value:"Mat\xe9riel",id:"mat\xe9riel",level:3},{value:"OS",id:"os",level:3},{value:"Docker",id:"docker",level:3},{value:"Obtenir l&#39;image",id:"obtenir-limage",level:2},{value:"<strong>Option-1</strong> : Utilisez la base de donn\xe9es jouet",id:"option-1--utilisez-la-base-de-donn\xe9es-jouet",level:3},{value:"<strong>Option-2</strong> : Essayez directement avec l&#39;image standard",id:"option-2--essayez-directement-avec-limage-standard",level:3},{value:"<strong>Option-3</strong> : Essayez avec docker-compose",id:"option-3--essayez-avec-docker-compose",level:3}],u={toc:c};function p(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"exigences"},"Exigences"),(0,o.kt)("h3",{id:"mat\xe9riel"},"Mat\xe9riel"),(0,o.kt)("p",null,"Si vous souhaitez construire l'image Docker vous-m\xeame, veuillez vous assurer que votre machine dispose d'au moins ",(0,o.kt)("strong",{parentName:"p"},"2GB")," de m\xe9moire. Le frontend de Casdoor est un projet NPM de React. La construction du frontend n\xe9cessite au moins ",(0,o.kt)("strong",{parentName:"p"},"2GB")," de m\xe9moire. Avoir moins de ",(0,o.kt)("strong",{parentName:"p"},"2GB")," de m\xe9moire peut entra\xeener un \xe9chec de la construction du frontend."),(0,o.kt)("p",null,"Si vous avez seulement besoin d'ex\xe9cuter l'image pr\xe9-construite, veuillez vous assurer que votre machine dispose d'au moins ",(0,o.kt)("strong",{parentName:"p"},"100MB")," de m\xe9moire."),(0,o.kt)("h3",{id:"os"},"OS"),(0,o.kt)("p",null,"Tous les syst\xe8mes d'exploitation (Linux, Windows et macOS) sont pris en charge."),(0,o.kt)("h3",{id:"docker"},"Docker"),(0,o.kt)("p",null,"Vous pouvez utiliser ",(0,o.kt)("strong",{parentName:"p"},"Docker (version docker-engine >= 17.05)")," sous Linux ou ",(0,o.kt)("strong",{parentName:"p"},"Docker Desktop")," sous Windows et macOS."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.docker.com/get-docker/"},"Docker"))),(0,o.kt)("p",null,"Quel que soit le syst\xe8me d'exploitation, les utilisateurs doivent s'assurer qu'ils ont ",(0,o.kt)("strong",{parentName:"p"},"version docker-engine >= 17.05"),". C'est parce que nous utilisons la fonctionnalit\xe9 de construction multi-\xe9tapes dans le docker-compose.yml, qui est prise en charge dans les versions 17.05 et ult\xe9rieures. Pour plus d'informations, consultez ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/develop/develop-images/multistage-build/"},"https://docs.docker.com/develop/develop-images/multistage-build/"),"."),(0,o.kt)("p",null,"Si vous utilisez \xe9galement docker-compose, veuillez vous assurer que vous avez ",(0,o.kt)("strong",{parentName:"p"},"version docker-compose >= 2.2"),". Pour les utilisateurs de Linux, vous devez \xe9galement vous assurer que docker-compose est install\xe9, car il est s\xe9par\xe9 de docker-engine."),(0,o.kt)("h2",{id:"obtenir-limage"},"Obtenir l'image"),(0,o.kt)("p",null,"Nous avons fourni deux images DockerHub :"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Nom"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"),(0,o.kt)("th",{parentName:"tr",align:null},"Suggestion"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://hub.docker.com/r/casbin/casdoor-all-in-one"},"casdoor-all-in-one")),(0,o.kt)("td",{parentName:"tr",align:null},"L'image comprend \xe0 la fois Casdoor et une base de donn\xe9es MySQL"),(0,o.kt)("td",{parentName:"tr",align:null},"Cette image comprend d\xe9j\xe0 une base de donn\xe9es jouet et est uniquement destin\xe9e \xe0 des fins de test")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://hub.docker.com/r/casbin/casdoor"},"casdoor")),(0,o.kt)("td",{parentName:"tr",align:null},"Seul Casdoor est inclus dans l'image"),(0,o.kt)("td",{parentName:"tr",align:null},"Cette image peut \xeatre connect\xe9e \xe0 votre propre base de donn\xe9es et utilis\xe9e en production")))),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"casbin/casdoor-all-in-one : Cette image comprend le binaire casdoor, une base de donn\xe9es MySQL et toutes les configurations n\xe9cessaires. Elle est con\xe7ue pour les nouveaux utilisateurs qui souhaitent essayer Casdoor rapidement. Avec cette image, vous pouvez d\xe9marrer Casdoor imm\xe9diatement avec juste une ou deux commandes, sans aucune configuration complexe. Cependant, veuillez noter que nous ",(0,o.kt)("strong",{parentName:"li"},"ne recommandons pas")," d'utiliser cette image dans un environnement de production.")),(0,o.kt)("h3",{id:"option-1--utilisez-la-base-de-donn\xe9es-jouet"},(0,o.kt)("strong",{parentName:"h3"},"Option-1")," : Utilisez la base de donn\xe9es jouet"),(0,o.kt)("p",null,"Ex\xe9cutez le conteneur avec le port ",(0,o.kt)("inlineCode",{parentName:"p"},"8000")," expos\xe9 \xe0 l'h\xf4te. L'image sera automatiquement t\xe9l\xe9charg\xe9e si elle n'existe pas sur l'h\xf4te local."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker run -p 8000:8000 casbin/casdoor-all-in-one\n")),(0,o.kt)("p",null,"Visitez ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,o.kt)("strong",{parentName:"a"},"http://localhost:8000"))," dans votre navigateur. Connectez-vous au tableau de bord Casdoor avec le compte administrateur global par d\xe9faut : ",(0,o.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,o.kt)("h3",{id:"option-2--essayez-directement-avec-limage-standard"},(0,o.kt)("strong",{parentName:"h3"},"Option-2")," : Essayez directement avec l'image standard"),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Si ce n'est pas pratique de monter le fichier de configuration dans un conteneur, l'utilisation de variables d'environnement est \xe9galement une solution possible."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="example"',title:'"example"'},"\ndocker run \\\n  -e driverName=mysql \\\n  -e dataSourceName='user:password@tcp(x.x.x.x:3306)/' \\\n  -p 8000:8000 \\\n  casbin/casdoor:latest\n\n"))),(0,o.kt)("p",null,"Cr\xe9ez ",(0,o.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),". Vous pouvez le copier depuis ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},"conf/app.conf")," de Casdoor. Pour plus de d\xe9tails sur ",(0,o.kt)("inlineCode",{parentName:"p"},"app.conf"),", vous pouvez consulter ",(0,o.kt)("a",{parentName:"p",href:"/docs/basic/server-installation#via-ini-file"},"Via Ini file"),"."),(0,o.kt)("p",null,"Puis ex\xe9cutez"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker run  -p 8000:8000 -v /folder/of/app.conf:/conf casbin/casdoor:latest\n")),(0,o.kt)("p",null,"Quoi qu'il en soit, il suffit de ",(0,o.kt)("strong",{parentName:"p"},"monter le app.conf sur /conf/app.conf")," et de d\xe9marrer le conteneur."),(0,o.kt)("p",null,"Visitez ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,o.kt)("strong",{parentName:"a"},"http://localhost:8000"))," dans votre navigateur. Connectez-vous au tableau de bord Casdoor avec le compte administrateur global par d\xe9faut : ",(0,o.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,o.kt)("h3",{id:"option-3--essayez-avec-docker-compose"},(0,o.kt)("strong",{parentName:"h3"},"Option-3")," : Essayez avec docker-compose"),(0,o.kt)("p",null,"Cr\xe9ez un r\xe9pertoire ",(0,o.kt)("inlineCode",{parentName:"p"},"conf/app.conf")," au m\xeame niveau que le fichier ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose.yml"),". Ensuite, copiez ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},"app.conf")," de Casdoor. Pour plus de d\xe9tails sur ",(0,o.kt)("inlineCode",{parentName:"p"},"app.conf"),", vous pouvez consulter ",(0,o.kt)("a",{parentName:"p",href:"/docs/basic/server-installation#via-ini-file"},"Via Ini file"),"."),(0,o.kt)("p",null,"Cr\xe9ez une base de donn\xe9es s\xe9par\xe9e en utilisant docker-compose :"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose up\n")),(0,o.kt)("p",null,"C'est tout ! \ud83d\udee9\ufe0f"),(0,o.kt)("p",null,"Visitez ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,o.kt)("strong",{parentName:"a"},"http://localhost:8000"))," dans votre navigateur. Connectez-vous au tableau de bord Casdoor avec le compte administrateur global par d\xe9faut : ",(0,o.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Si vous approfondissez le fichier docker-compose.yml, vous pourriez \xeatre perplexe face \xe0 la variable d'environnement que nous avons cr\xe9\xe9e appel\xe9e \"RUNNING_IN_DOCKER\". Lorsque la base de donn\xe9es 'db' est cr\xe9\xe9e via docker-compose, elle est disponible sur le localhost de votre PC mais pas sur le localhost du conteneur Casdoor. Pour vous \xe9viter de rencontrer des probl\xe8mes caus\xe9s par la modification de app.conf, ce qui peut \xeatre assez difficile pour un nouvel utilisateur, nous avons fourni cette variable d'environnement et l'avons pr\xe9-assign\xe9e dans le docker-compose.yml. Lorsque cette variable d'environnement est d\xe9finie sur true, localhost sera remplac\xe9 par host.docker.internal afin que Casdoor puisse acc\xe9der \xe0 la base de donn\xe9es.")))}p.isMDXComponent=!0}}]);