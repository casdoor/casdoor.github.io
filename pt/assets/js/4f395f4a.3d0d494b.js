"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[8678],{3905:(e,n,o)=>{o.d(n,{Zo:()=>d,kt:()=>m});var t=o(67294);function a(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function r(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function s(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach((function(n){a(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function i(e,n){if(null==e)return{};var o,t,a=function(e,n){if(null==e)return{};var o,t,a={},r=Object.keys(e);for(t=0;t<r.length;t++)o=r[t],n.indexOf(o)>=0||(a[o]=e[o]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)o=r[t],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var c=t.createContext({}),p=function(e){var n=t.useContext(c),o=n;return e&&(o="function"==typeof e?e(n):s(s({},n),e)),o},d=function(e){var n=p(e.components);return t.createElement(c.Provider,{value:n},e.children)},l={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var o=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),u=p(o),m=a,f=u["".concat(c,".").concat(m)]||u[m]||l[m]||r;return o?t.createElement(f,s(s({ref:n},d),{},{components:o})):t.createElement(f,s({ref:n},d))}));function m(e,n){var o=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=o.length,s=new Array(r);s[0]=u;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var p=2;p<r;p++)s[p]=o[p];return t.createElement.apply(null,s)}return t.createElement.apply(null,o)}u.displayName="MDXCreateElement"},34199:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>l,frontMatter:()=>r,metadata:()=>i,toc:()=>p});var t=o(87462),a=(o(67294),o(3905));const r={title:"Implantando no Kubernetes",description:"Aprenda como implantar o Casdoor em um cluster Kubernetes",keywords:["k8s","Kubernetes","Casdoor","deployment"],authors:["ComradeProgrammer"]},s=void 0,i={unversionedId:"deployment/k8s",id:"deployment/k8s",title:"Implantando no Kubernetes",description:"Aprenda como implantar o Casdoor em um cluster Kubernetes",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/deployment/k8s.md",sourceDirName:"deployment",slug:"/deployment/k8s",permalink:"/pt/docs/deployment/k8s",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/deployment/k8s.md",tags:[],version:"current",frontMatter:{title:"Implantando no Kubernetes",description:"Aprenda como implantar o Casdoor em um cluster Kubernetes",keywords:["k8s","Kubernetes","Casdoor","deployment"],authors:["ComradeProgrammer"]},sidebar:"tutorialSidebar",previous:{title:"Implantando no NGINX",permalink:"/pt/docs/deployment/nginx"},next:{title:"Inicializa\xe7\xe3o de Dados",permalink:"/pt/docs/deployment/data-initialization"}},c={},p=[{value:"Implante o Casdoor no Kubernetes (k8s)",id:"implante-o-casdoor-no-kubernetes-k8s",level:2}],d={toc:p};function l(e){let{components:n,...o}=e;return(0,a.kt)("wrapper",(0,t.Z)({},d,o,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"implante-o-casdoor-no-kubernetes-k8s"},"Implante o Casdoor no Kubernetes (k8s)"),(0,a.kt)("p",null,'N\xf3s fornecemos um exemplo b\xe1sico de implanta\xe7\xe3o do Casdoor em um cluster Kubernetes. Na pasta raiz do Casdoor, voc\xea encontrar\xe1 um arquivo chamado "k8s.yaml". Este arquivo cont\xe9m um exemplo de configura\xe7\xe3o para implantar o Casdoor no Kubernetes, incluindo um deployment e um servi\xe7o.'),(0,a.kt)("p",null,"Antes de iniciar a implanta\xe7\xe3o, certifique-se de que voc\xea modificou o arquivo ",(0,a.kt)("inlineCode",{parentName:"p"},"conf/app.conf")," para que o Casdoor possa se conectar ao banco de dados com sucesso e que o pr\xf3prio banco de dados esteja em execu\xe7\xe3o. Al\xe9m disso, certifique-se de que o Kubernetes possa puxar as imagens necess\xe1rias."),(0,a.kt)("p",null,"Para implantar o Casdoor, execute o seguinte comando:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl apply -f k8s.yaml\n")),(0,a.kt)("p",null,"Voc\xea pode verificar o status da implanta\xe7\xe3o executando o comando ",(0,a.kt)("inlineCode",{parentName:"p"},"kubectl get pods"),"."),(0,a.kt)("p",null,"Aqui est\xe1 o conte\xfado de ",(0,a.kt)("inlineCode",{parentName:"p"},"k8s.yaml"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"# this is only an EXAMPLE of deploying casddor in kubernetes\n# please modify this file according to your requirements\napiVersion: v1\nkind: Service\nmetadata:\n  #EDIT IT: if you don't want to run casdoor in default namespace, please modify this field\n  #namespace: casdoor\n  name: casdoor-svc\n  labels:\n    app: casdoor\nspec:\n  #EDIT IT: if you don't want to run casdoor in default namespace, please modify this filed\n  type: NodePort\n  ports:\n    - port: 8000\n  selector:\n    app: casdoor\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  #EDIT IT: if you don't want to run casdoor in default namespace, please modify this field\n  #namespace: casdoor\n  name: casdoor-deployment\n  labels:\n    app: casdoor\nspec:\n  #EDIT IT: if you don't use redis, casdoor should not have multiple replicas\n  replicas: 1\n  selector:\n    matchLabels:\n      app: casdoor\n  template:\n    metadata:\n      labels:\n        app: casdoor\n    spec:\n      containers:\n        - name: casdoor-container\n          image: casbin/casdoor:latest\n          imagePullPolicy: Always\n          ports:\n            - containerPort: 8000\n          volumeMounts:\n            # the mounted directory path in THE CONTAINER\n            - mountPath: /conf\n              name: conf\n          env:       \n            - name: RUNNING_IN_DOCKER\n              value: \"true\"\n      #if you want to deploy this in real prod env, consider the config map\n      volumes:\n        - name: conf\n          hostPath:\n            #EDIT IT: the mounted directory path in THE HOST\n            path: /conf\n\n")),(0,a.kt)("p",null,"Por favor, note que este arquivo \xe9 apenas um exemplo. Voc\xea pode fazer v\xe1rias modifica\xe7\xf5es conforme suas necessidades, como usar um namespace diferente, tipo de servi\xe7o ou um ConfigMap para montar o arquivo de configura\xe7\xe3o. Usar um ConfigMap \xe9 uma abordagem recomendada no Kubernetes para montar arquivos de configura\xe7\xe3o em um ambiente de produ\xe7\xe3o."))}l.isMDXComponent=!0}}]);