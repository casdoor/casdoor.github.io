"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[1780],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var i=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=i.createContext({}),u=function(e){var n=i.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=u(e.components);return i.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},d=i.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(t),m=r,g=d["".concat(s,".").concat(m)]||d[m]||c[m]||a;return t?i.createElement(g,o(o({ref:n},p),{},{components:t})):i.createElement(g,o({ref:n},p))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,o=new Array(a);o[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<a;u++)o[u]=t[u];return i.createElement.apply(null,o)}return i.createElement.apply(null,t)}d.displayName="MDXCreateElement"},22740:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>l,toc:()=>u});var i=t(87462),r=(t(67294),t(3905));const a={title:"Plugin Jenkins",description:"Utilisation du plugin Casdoor pour la s\xe9curit\xe9 de Jenkins",keywords:["plugin","Jenkins"],authors:["Abingcbc"]},o=void 0,l={unversionedId:"integration/java/jenkins-plugin",id:"integration/java/jenkins-plugin",title:"Plugin Jenkins",description:"Utilisation du plugin Casdoor pour la s\xe9curit\xe9 de Jenkins",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/integration/java/jenkins-plugin.md",sourceDirName:"integration/java",slug:"/integration/java/jenkins-plugin",permalink:"/fr/docs/integration/java/jenkins-plugin",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/integration/java/jenkins-plugin.md",tags:[],version:"current",frontMatter:{title:"Plugin Jenkins",description:"Utilisation du plugin Casdoor pour la s\xe9curit\xe9 de Jenkins",keywords:["plugin","Jenkins"],authors:["Abingcbc"]},sidebar:"tutorialSidebar",previous:{title:"Filtre de s\xe9curit\xe9 Spring avec int\xe9gration OIDC pour Casdoor",permalink:"/fr/docs/integration/java/spring-security/spring-security-filter"},next:{title:"Jenkins OIDC",permalink:"/fr/docs/integration/java/jenkins-oidc"}},s={},u=[{value:"\xc9tape 1 : D\xe9ployer Casdoor et Jenkins",id:"\xe9tape-1--d\xe9ployer-casdoor-et-jenkins",level:2},{value:"\xc9tape 2 : Configurer l&#39;application Casdoor",id:"\xe9tape-2--configurer-lapplication-casdoor",level:2},{value:"\xc9tape 3 : Configurer Jenkins",id:"\xe9tape-3--configurer-jenkins",level:2}],p={toc:u};function c(e){let{components:n,...a}=e;return(0,r.kt)("wrapper",(0,i.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Casdoor fournit un plugin qui permet aux utilisateurs de se connecter \xe0 Jenkins. Ici, nous allons vous montrer comment utiliser le plugin Casdoor pour la s\xe9curit\xe9 de Jenkins."),(0,r.kt)("p",null,"Voici quelques-uns des param\xe8tres de configuration :"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"CASDOOR_HOSTNAME")," : Le nom de domaine ou l'IP o\xf9 le serveur Casdoor est d\xe9ploy\xe9."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"JENKINS_HOSTNAME")," : Le nom de domaine ou l'IP o\xf9 Jenkins est d\xe9ploy\xe9."),(0,r.kt)("h2",{id:"\xe9tape-1--d\xe9ployer-casdoor-et-jenkins"},"\xc9tape 1 : D\xe9ployer Casdoor et Jenkins"),(0,r.kt)("p",null,"Tout d'abord, d\xe9ployez ",(0,r.kt)("a",{parentName:"p",href:"/docs/basic/server-installation"},"Casdoor")," et ",(0,r.kt)("a",{parentName:"p",href:"https://www.jenkins.io/doc/book/installing/"},"Jenkins"),"."),(0,r.kt)("p",null,"Apr\xe8s un d\xe9ploiement r\xe9ussi, assurez-vous de ce qui suit :"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"D\xe9finissez l'URL Jenkins (G\xe9rer Jenkins -> Configurer le syst\xe8me -> Emplacement Jenkins) sur ",(0,r.kt)("inlineCode",{parentName:"li"},"JENKINS_HOSTNAME"),". ",(0,r.kt)("img",{alt:"URL Jenkins",src:t(25742).Z,width:"1887",height:"825"})),(0,r.kt)("li",{parentName:"ol"},"V\xe9rifiez que Casdoor peut \xeatre connect\xe9 et utilis\xe9 normalement."),(0,r.kt)("li",{parentName:"ol"},"D\xe9finissez la valeur ",(0,r.kt)("inlineCode",{parentName:"li"},"origin")," de Casdoor (conf/app.conf) sur ",(0,r.kt)("inlineCode",{parentName:"li"},"CASDOOR_HOSTNAME"),". ",(0,r.kt)("img",{alt:"Configuration Casdoor",src:t(66496).Z,width:"1013",height:"448"}))),(0,r.kt)("h2",{id:"\xe9tape-2--configurer-lapplication-casdoor"},"\xc9tape 2 : Configurer l'application Casdoor"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Cr\xe9ez une nouvelle application Casdoor ou utilisez-en une existante."),(0,r.kt)("li",{parentName:"ol"},"Ajoutez une URL de redirection : ",(0,r.kt)("inlineCode",{parentName:"li"},"http://JENKINS_HOSTNAME/securityRealm/finishLogin")," ",(0,r.kt)("img",{alt:"Param\xe8tres de l&#39;application Casdoor",src:t(9871).Z,width:"1366",height:"581"})),(0,r.kt)("li",{parentName:"ol"},"Ajoutez le fournisseur souhait\xe9 et fournissez tous les param\xe8tres suppl\xe9mentaires.")),(0,r.kt)("p",null,"Sur la page des param\xe8tres de l'application, vous trouverez deux valeurs : ",(0,r.kt)("inlineCode",{parentName:"p"},"Client ID")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"Client secret"),", comme indiqu\xe9 dans l'image ci-dessus. Nous utiliserons ces valeurs \xe0 l'\xe9tape suivante."),(0,r.kt)("p",null,"Ouvrez votre navigateur pr\xe9f\xe9r\xe9 et visitez ",(0,r.kt)("strong",{parentName:"p"},"http://",(0,r.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/.well-known/openid-configuration")," pour voir la configuration OIDC de Casdoor."),(0,r.kt)("h2",{id:"\xe9tape-3--configurer-jenkins"},"\xc9tape 3 : Configurer Jenkins"),(0,r.kt)("p",null,"Maintenant, vous pouvez installer le plugin Casdoor depuis le march\xe9 ou en t\xe9l\xe9chargeant son fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"jar"),"."),(0,r.kt)("p",null,"Apr\xe8s l'installation, allez dans G\xe9rer Jenkins -> Configurer la s\xe9curit\xe9 globale."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Suggestion")," : Sauvegardez le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"config.xml")," de Jenkins et utilisez-le pour la r\xe9cup\xe9ration en cas d'erreurs de configuration."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Param\xe8tres de Jenkins",src:t(72083).Z,width:"2408",height:"1352"})),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},'Dans la section Domaine de s\xe9curit\xe9, s\xe9lectionnez "Plugin d\'authentification Casdoor".'),(0,r.kt)("li",{parentName:"ol"},"Dans le champ Point de terminaison Casdoor, entrez le ",(0,r.kt)("inlineCode",{parentName:"li"},"CASDOOR_HOSTNAME")," mentionn\xe9 pr\xe9c\xe9demment."),(0,r.kt)("li",{parentName:"ol"},"Dans le champ ID client, entrez le ",(0,r.kt)("inlineCode",{parentName:"li"},"Client ID")," mentionn\xe9 pr\xe9c\xe9demment."),(0,r.kt)("li",{parentName:"ol"},"Dans le champ Secret client, entrez le ",(0,r.kt)("inlineCode",{parentName:"li"},"Client secret")," mentionn\xe9 pr\xe9c\xe9demment."),(0,r.kt)("li",{parentName:"ol"},"Dans le champ Cl\xe9 publique JWT, fournissez la cl\xe9 publique utilis\xe9e pour valider le jeton JWT. Vous pouvez trouver la cl\xe9 publique dans Casdoor en cliquant sur ",(0,r.kt)("inlineCode",{parentName:"li"},"Cert")," en haut. Apr\xe8s avoir cliqu\xe9 sur ",(0,r.kt)("inlineCode",{parentName:"li"},"edit")," sur votre application, vous pouvez copier la cl\xe9 publique depuis la page suivante. ",(0,r.kt)("img",{alt:"Cl\xe9 publique JWT",src:t(82261).Z,width:"2184",height:"1180"})),(0,r.kt)("li",{parentName:"ol"},"Le nom de l'organisation et le nom de l'application sont facultatifs. Vous pouvez sp\xe9cifier votre organisation et application pour v\xe9rifier les utilisateurs dans d'autres organisations et applications. Si ces champs sont laiss\xe9s vides, le plugin utilisera l'organisation et l'application par d\xe9faut."),(0,r.kt)("li",{parentName:"ol"},'Dans la section Autorisation, cochez "Les utilisateurs connect\xe9s peuvent tout faire". D\xe9sactivez "Autoriser l\'acc\xe8s en lecture anonyme".'),(0,r.kt)("li",{parentName:"ol"},"Cliquez sur ",(0,r.kt)("inlineCode",{parentName:"li"},"Save"),".")),(0,r.kt)("p",null,"Jenkins vous redirigera automatiquement vers Casdoor pour l'authentification."))}c.isMDXComponent=!0},66496:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/casdoor_origin-8f5d9e44f6b58828ce69e6e6d896e122.png"},9871:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/appseeting_jenkins-6e0a2968614d0735005951278f44c008.png"},82261:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/jenkins_cert-6ab012c3fd63b5d64bf09f182ae4a9c0.png"},72083:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/jenkins_plugin-e66dcae10b60bbe2b5ac25a804ccf3cd.png"},25742:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t.p+"assets/images/jenkins_url-9e8f261138a88501bdfce79ee1c1f3fa.png"}}]);