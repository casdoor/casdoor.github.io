"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[2826],{3905:function(t,e,n){n.d(e,{Zo:function(){return s},kt:function(){return m}});var i=n(7294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var p=i.createContext({}),d=function(t){var e=i.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):r(r({},e),t)),n},s=function(t){var e=d(t.components);return i.createElement(p.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return i.createElement(i.Fragment,{},e)}},u=i.forwardRef((function(t,e){var n=t.components,a=t.mdxType,o=t.originalType,p=t.parentName,s=l(t,["components","mdxType","originalType","parentName"]),u=d(n),m=a,h=u["".concat(p,".").concat(m)]||u[m]||c[m]||o;return n?i.createElement(h,r(r({ref:e},s),{},{components:n})):i.createElement(h,r({ref:e},s))}));function m(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var o=n.length,r=new Array(o);r[0]=u;var l={};for(var p in e)hasOwnProperty.call(e,p)&&(l[p]=e[p]);l.originalType=t,l.mdxType="string"==typeof t?t:a,r[1]=l;for(var d=2;d<o;d++)r[d]=n[d];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9681:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return d},toc:function(){return s},default:function(){return u}});var i=n(7462),a=n(3366),o=(n(7294),n(3905)),r=["components"],l={sidebar_position:2,title:"OAuth"},p=void 0,d={unversionedId:"provider/OAuth",id:"provider/OAuth",isDocsHomePage:!1,title:"OAuth",description:"Casdoor can uses other OAuth applications as a sign in method.",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/provider/OAuth.md",sourceDirName:"provider",slug:"/provider/OAuth",permalink:"/zh/docs/provider/OAuth",editUrl:"https://github.com/casdoor/casdoor-website/tree/master/docs/provider/OAuth.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"OAuth"},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/zh/docs/provider/overview"},next:{title:"Email",permalink:"/zh/docs/provider/email"}},s=[{value:"Apply to become a developer",id:"apply-to-become-a-developer",children:[{value:"Google\u2714\ufe0f",id:"google\ufe0f",children:[]},{value:"GitHub\u2714\ufe0f",id:"github\ufe0f",children:[]},{value:"Facebook\u2714\ufe0f",id:"facebook\ufe0f",children:[]},{value:"Twitter(still working\ud83d\udea7)",id:"twitterstill-working",children:[]},{value:"LinkedIn\u2714\ufe0f",id:"linkedin\ufe0f",children:[]},{value:"Weibo\u2714\ufe0f",id:"weibo\ufe0f",children:[]},{value:"WeChat\u2714\ufe0f",id:"wechat\ufe0f",children:[]},{value:"Tencent QQ\u2714\ufe0f",id:"tencent-qq\ufe0f",children:[]},{value:"DingTalk\u2714\ufe0f",id:"dingtalk\ufe0f",children:[]},{value:"Gitee\u2714\ufe0f",id:"gitee\ufe0f",children:[]}]},{value:"Add an OAuth provider",id:"add-an-oauth-provider",children:[]},{value:"Applied in application",id:"applied-in-application",children:[]}],c={toc:s};function u(t){var e=t.components,l=(0,a.Z)(t,r);return(0,o.kt)("wrapper",(0,i.Z)({},c,l,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Casdoor can uses other OAuth applications as a sign in method."),(0,o.kt)("p",null,"Now, Casdoor supports many OAuth application providers. Icons of providers will be shown in login and signup pages after adding to Casdoor. Here are the providers Casdoor supporting:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Google"),(0,o.kt)("th",{parentName:"tr",align:null},"GitHub"),(0,o.kt)("th",{parentName:"tr",align:null},"Facebook"),(0,o.kt)("th",{parentName:"tr",align:null},"Twitter"),(0,o.kt)("th",{parentName:"tr",align:null},"LinkedIn"),(0,o.kt)("th",{parentName:"tr",align:null},"Weibo"),(0,o.kt)("th",{parentName:"tr",align:null},"WeChat"),(0,o.kt)("th",{parentName:"tr",align:null},"Tencent QQ"),(0,o.kt)("th",{parentName:"tr",align:null},"Dingtalk"),(0,o.kt)("th",{parentName:"tr",align:null},"Gitee"),(0,o.kt)("th",{parentName:"tr",align:null},"Email"),(0,o.kt)("th",{parentName:"tr",align:null},"SMS"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_google.png",width:"40"})),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_github.png",width:"40"})),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_facebook.png",width:"40"})),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_twitter.png",width:"40"})),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_linkedin.png",width:"40"})),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_weibo.png",width:"40"})),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_wechat.png",width:"40"})),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_qq.png",width:"40"})),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_dingtalk.png",width:"40"})),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_gitee.png",width:"40"})),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_mail.png",width:"40"})),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("img",{src:"https://cdn.casbin.org/img/social_msg.png",width:"40"}))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null},"\ud83d\udea7"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705")))),(0,o.kt)("p",null,"We will show you how to apply for a third-party service and add it to casdoor."),(0,o.kt)("h2",{id:"apply-to-become-a-developer"},"Apply to become a developer"),(0,o.kt)("p",null,"Before this, there are some general concepts you need to understand."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"RedirectUrl"),", Redirect address after authentication, fill in your application address, such as ",(0,o.kt)("inlineCode",{parentName:"li"},"https://forum.casbin.com/")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Scope"),", Permission granted to you by the user, such as basic profile, Email address and posts and others."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"ClientId/AppId"),", ",(0,o.kt)("strong",{parentName:"li"},"ClientKey/AppSecret"),", This is the most important information, and it is what you need to get after you apply for a developer account, ",(0,o.kt)("strong",{parentName:"li"},"can not share")," the key/secret with anyone.")),(0,o.kt)("p",null,"OK, Next you can choose the third-party platform you need. We will show you the proposal forms and service addresses of all supported platforms. If you still have any questions, please contact us in the community."),(0,o.kt)("h3",{id:"google\ufe0f"},"Google\u2714\ufe0f"),(0,o.kt)("p",null,"To obtain OAuth 2.0 client credential, you can visit ",(0,o.kt)("a",{parentName:"p",href:"https://console.developers.google.com"},"Google API console")," and log in using your Google account, follow the instructions of Google Cloud Platform, and get your Client Id and Client Secret."),(0,o.kt)("p",null,"For more detailed usages, please visit ",(0,o.kt)("a",{parentName:"p",href:"https://developers.google.com/identity"},"Google Identity Platform")," to know more about Google OAuth verification."),(0,o.kt)("h3",{id:"github\ufe0f"},"GitHub\u2714\ufe0f"),(0,o.kt)("p",null,"GitHub OAuth support both web application flow and device flow, to obtain OAuth credential, please visit ",(0,o.kt)("a",{parentName:"p",href:"https://docs.github.com/en/rest/guides/basics-of-authentication"},"GitHub docs")," to get more information."),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("strong",{parentName:"p"},"Tricks:")," While we can't set multiple redirect urls in GitHub, so in development and production environment, we need to set different GitHub providers."),(0,o.kt)("p",{parentName:"div"},"In development environment, Casdoor will only display the GitHub provider ",(0,o.kt)("strong",{parentName:"p"},"with"),' "localhost" in its name. And in productoin environment, Casdoor will only display the GitHub provider ',(0,o.kt)("strong",{parentName:"p"},"without"),' "localhost" in its name.'),(0,o.kt)("p",{parentName:"div"},"This is how we do in our online demo:"),(0,o.kt)("p",{parentName:"div"},(0,o.kt)("img",{alt:"githublocalhost",src:n(1981).Z})))),(0,o.kt)("h3",{id:"facebook\ufe0f"},"Facebook\u2714\ufe0f"),(0,o.kt)("p",null,"To obtain Facebook OAuth 2.0 client credential, please visit ",(0,o.kt)("a",{parentName:"p",href:"https://developers.facebook.com/"},"Facebook for developers"),", create a Facebook developer account and follow the instructions of Facebook developer platform to get your client id and client secret."),(0,o.kt)("h3",{id:"twitterstill-working"},"Twitter(still working\ud83d\udea7)"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Twitter\u2019s application steps are somewhat troublesome, and the official restrictions are a bit strict, so it may be more difficult to apply for a developer account than other third-party platforms.")),(0,o.kt)("p",null,"Visit ",(0,o.kt)("a",{parentName:"p",href:"https://developer.twitter.com/en/portal/dashboard"},"Developer Portal"),", register if you don't have an account. Twitter needs to know what you are applying for a developer account for. You must fill in it carefully, otherwise it will not pass."),(0,o.kt)("p",null,"After the application is approved, create an application, fill in the callback address and other information, you need to do two things, which will be set is ",(0,o.kt)("strong",{parentName:"p"},"Authentication settings")," section."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Manually turn on ",(0,o.kt)("strong",{parentName:"li"},"3-legged OAuth"),", for Sign in with Twitter, posting Tweets on behalf of other accounts and more."),(0,o.kt)("li",{parentName:"ul"},"Enable ",(0,o.kt)("strong",{parentName:"li"},"Request email address from users"),", for getting user email address.")),(0,o.kt)("h3",{id:"linkedin\ufe0f"},"LinkedIn\u2714\ufe0f"),(0,o.kt)("p",null,"Visit ",(0,o.kt)("a",{parentName:"p",href:"https://www.linkedin.com/developers/"},"LinkedIn developers website"),", follow the instructions on LinkedIn developers platform and fill the form, then you can get your Client Id and Client Secret."),(0,o.kt)("h3",{id:"weibo\ufe0f"},"Weibo\u2714\ufe0f"),(0,o.kt)("p",null,"Weibo's developer account application is not difficult, but the speed is relatively slow, it takes about 2-3 days."),(0,o.kt)("p",null,"Visit ",(0,o.kt)("a",{parentName:"p",href:"https://open.weibo.com/developers/basicinfo"},"Developer Website"),", filling in basic information and waiting for a long review..."),(0,o.kt)("p",null,"After the review is approved, you can get the Client Id and Client Secret."),(0,o.kt)("h3",{id:"wechat\ufe0f"},"WeChat\u2714\ufe0f"),(0,o.kt)("p",null,"Visit ",(0,o.kt)("a",{parentName:"p",href:"https://open.weixin.qq.com/"},"WeChat developer platform"),", register as a developer, after your web application or your mobile application is approved, then you get you App Id and App Secret."),(0,o.kt)("p",null,"For more detailed information, please visit ",(0,o.kt)("a",{parentName:"p",href:"https://developers.weixin.qq.com/doc/oplatform/en/Website_App/WeChat_Login/Wechat_Login.html"},"WeChat Open Platform"),"."),(0,o.kt)("h3",{id:"tencent-qq\ufe0f"},"Tencent QQ\u2714\ufe0f"),(0,o.kt)("p",null,"Visit authentication platform of QQ - ",(0,o.kt)("a",{parentName:"p",href:"https://connect.qq.com/manage.html#/"},"Connect QQ"),"."),(0,o.kt)("p",null,"First you need to apply to ",(0,o.kt)("a",{parentName:"p",href:"https://wiki.connect.qq.com/%E6%88%90%E4%B8%BA%E5%BC%80%E5%8F%91%E8%80%85"},"become a developer"),", after the review is approved, follow the instructions of the platform and get your Client Id and Client Secret."),(0,o.kt)("h3",{id:"dingtalk\ufe0f"},"DingTalk\u2714\ufe0f"),(0,o.kt)("p",null,"Visit ",(0,o.kt)("a",{parentName:"p",href:"https://open-dev.dingtalk.com/?spm=ding_open_doc.document.0.0.140a645fxfAUAE#/loginMan"},"DingTalk developer platform")," and log in using your DingTalk account, after enter the platform, follow the instructions of the platform and you will get your Client Id and Client Secret."),(0,o.kt)("p",null,"For more detailed information please visit ",(0,o.kt)("a",{parentName:"p",href:"https://developers.dingtalk.com/document/app/obtain-identity-credentials"},"DingTalk developer docs"),"."),(0,o.kt)("h3",{id:"gitee\ufe0f"},"Gitee\u2714\ufe0f"),(0,o.kt)("p",null,"Visit ",(0,o.kt)("a",{parentName:"p",href:"https://gitee.com/api/v5/oauth_doc#/list-item-3"},"official website"),", which has shown the specific application steps, and after filling in, you can get the most important information, Client Id and Client Secret."),(0,o.kt)("h2",{id:"add-an-oauth-provider"},"Add an OAuth provider"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Navigate to your Casdoor index page"),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("inlineCode",{parentName:"li"},"Providers")," in the top bar"),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("inlineCode",{parentName:"li"},"Add"),", then you can see a new provider in the list top"),(0,o.kt)("li",{parentName:"ol"},"Click the new provider to modify it"),(0,o.kt)("li",{parentName:"ol"},"Select ",(0,o.kt)("inlineCode",{parentName:"li"},"OAuth")," in  ",(0,o.kt)("inlineCode",{parentName:"li"},"Category")),(0,o.kt)("li",{parentName:"ol"},"Choose the OAuth provider you need in ",(0,o.kt)("inlineCode",{parentName:"li"},"Type")),(0,o.kt)("li",{parentName:"ol"},"Fill the most import information, ",(0,o.kt)("inlineCode",{parentName:"li"},"Client ID")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"Client Secret"))),(0,o.kt)("h2",{id:"applied-in-application"},"Applied in application"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("inlineCode",{parentName:"li"},"Applicaton")," in the top bar and choose one application, edit"),(0,o.kt)("li",{parentName:"ol"},"click provider add button, select the provider you just added"),(0,o.kt)("li",{parentName:"ol"},"Modify the permissions of the provider, such as allowing registration, login, and unbinding"),(0,o.kt)("li",{parentName:"ol"},"Done!")))}u.isMDXComponent=!0},1981:function(t,e,n){e.Z=n.p+"assets/images/githublocalhost-4c309a8323e2bd3d9d25bfd11858468b.png"}}]);