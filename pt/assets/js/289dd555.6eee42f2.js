"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[5158],{3905:(e,r,o)=>{o.d(r,{Zo:()=>l,kt:()=>u});var a=o(67294);function t(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}function n(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach((function(r){t(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}function s(e,r){if(null==e)return{};var o,a,t=function(e,r){if(null==e)return{};var o,a,t={},n=Object.keys(e);for(a=0;a<n.length;a++)o=n[a],r.indexOf(o)>=0||(t[o]=e[o]);return t}(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)o=n[a],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}var c=a.createContext({}),p=function(e){var r=a.useContext(c),o=r;return e&&(o="function"==typeof e?e(r):i(i({},r),e)),o},l=function(e){var r=p(e.components);return a.createElement(c.Provider,{value:r},e.children)},d={inlineCode:"code",wrapper:function(e){var r=e.children;return a.createElement(a.Fragment,{},r)}},m=a.forwardRef((function(e,r){var o=e.components,t=e.mdxType,n=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=p(o),u=t,g=m["".concat(c,".").concat(u)]||m[u]||d[u]||n;return o?a.createElement(g,i(i({ref:r},l),{},{components:o})):a.createElement(g,i({ref:r},l))}));function u(e,r){var o=arguments,t=r&&r.mdxType;if("string"==typeof e||t){var n=o.length,i=new Array(n);i[0]=m;var s={};for(var c in r)hasOwnProperty.call(r,c)&&(s[c]=r[c]);s.originalType=e,s.mdxType="string"==typeof e?e:t,i[1]=s;for(var p=2;p<n;p++)i[p]=o[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,o)}m.displayName="MDXCreateElement"},50343:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>n,metadata:()=>s,toc:()=>p});var a=o(87462),t=(o(67294),o(3905));const n={title:"Gerando Arquivos Swagger",description:"Gerando Arquivos Swagger",keywords:["bee","swagger"],authors:["ComradeProgrammer"]},i=void 0,s={unversionedId:"developer-guide/swagger",id:"developer-guide/swagger",title:"Gerando Arquivos Swagger",description:"Gerando Arquivos Swagger",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/developer-guide/swagger.md",sourceDirName:"developer-guide",slug:"/developer-guide/swagger",permalink:"/pt/docs/developer-guide/swagger",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/developer-guide/swagger.md",tags:[],version:"current",frontMatter:{title:"Gerando Arquivos Swagger",description:"Gerando Arquivos Swagger",keywords:["bee","swagger"],authors:["ComradeProgrammer"]},sidebar:"tutorialSidebar",previous:{title:"Frontend",permalink:"/pt/docs/developer-guide/frontend"},next:{title:"Organizations",permalink:"/pt/docs/category/organizations"}},c={},p=[{value:"Vis\xe3o Geral",id:"vis\xe3o-geral",level:2},{value:"Como escrever o coment\xe1rio",id:"como-escrever-o-coment\xe1rio",level:2},{value:"Como gerar o arquivo swagger",id:"como-gerar-o-arquivo-swagger",level:2}],l={toc:p};function d(e){let{components:r,...o}=e;return(0,t.kt)("wrapper",(0,a.Z)({},l,o,{components:r,mdxType:"MDXLayout"}),(0,t.kt)("h2",{id:"vis\xe3o-geral"},"Vis\xe3o Geral"),(0,t.kt)("p",null,'Como sabemos, o framework beego oferece suporte para a gera\xe7\xe3o de arquivos swagger para esclarecer a API por meio da ferramenta de linha de comando chamada "bee". Casdoor tamb\xe9m \xe9 constru\xeddo com base no beego. No entanto, descobrimos que os arquivos swagger gerados pelo bee falharam em categorizar as APIs com a etiqueta "@Tag". Ent\xe3o, modificamos o bee original para implementar essa fun\xe7\xe3o.'),(0,t.kt)("h2",{id:"como-escrever-o-coment\xe1rio"},"Como escrever o coment\xe1rio"),(0,t.kt)("p",null,'A maioria das regras \xe9 exatamente id\xeantica aos formatos de coment\xe1rio do bee original. A \xfanica discrep\xe2ncia \xe9 que a API deve ser dividida em diferentes grupos de acordo com a etiqueta "@Tag". Portanto, os desenvolvedores s\xe3o obrigados a garantir que esta etiqueta seja corretamente adicionada. Aqui est\xe1 um exemplo:'),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-go"},'// @Title Login\n// @Tag Login API\n// @Description login\n// @Param   oAuthParams     query    string  true        "oAuth parameters"\n// @Param   body    body   RequestForm  true        "Login information"\n// @Success 200 {object} controllers.api_controller.Response The Response object\n// @router /login [post]\nfunc (c *ApiController) Login() {\n')),(0,t.kt)("p",null,'APIs com as mesmas etiquetas "@Tag" ser\xe3o colocadas no mesmo grupo.'),(0,t.kt)("h2",{id:"como-gerar-o-arquivo-swagger"},"Como gerar o arquivo swagger"),(0,t.kt)("ol",{start:0},(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Escreva coment\xe1rios para a API no formato correto.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Busque este reposit\xf3rio: ",(0,t.kt)("a",{parentName:"p",href:"https://github.com/casbin/bee"},"https://github.com/casbin/bee"),".")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Construa o bee modificado. Por exemplo, no diret\xf3rio raiz de casbin/bee, execute o seguinte comando:"),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"go build -o mybee .\n"))),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Copie mybee para o diret\xf3rio base do casdoor.")),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"Naquele diret\xf3rio, execute o seguinte comando:"),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{parentName:"pre",className:"language-bash"},"mybee generate docs\n"))),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"(Opcional) Se voc\xea quiser gerar um documento swagger para tags ou apis espec\xedficas, aqui est\xe3o alguns comandos de exemplo:"),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{parentName:"pre",className:"language-bash"},'mybee generate docs --tags "Adapter API"\nmybee generate docs --tags "Adapter API,Login API"\nmybee generate docs --apis "add-adapter"\nmybee generate docs --apis "add-adapter,delete-adapter"\n')),(0,t.kt)("p",{parentName:"li"},"Notavelmente: S\xf3 aceitamos uma v\xedrgula ",(0,t.kt)("inlineCode",{parentName:"p"},",")," como separador quando v\xe1rias tags/apis s\xe3o fornecidas."))),(0,t.kt)("p",null,"Ent\xe3o voc\xea descobrir\xe1 que os novos arquivos swagger s\xe3o gerados."))}d.isMDXComponent=!0}}]);