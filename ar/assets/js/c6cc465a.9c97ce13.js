"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[8122],{3905:(a,e,t)=>{t.d(e,{Zo:()=>c,kt:()=>d});var r=t(67294);function n(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function o(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,r)}return t}function i(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){n(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function l(a,e){if(null==a)return{};var t,r,n=function(a,e){if(null==a)return{};var t,r,n={},o=Object.keys(a);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(n[t]=a[t]);return n}(a,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(a,t)&&(n[t]=a[t])}return n}var s=r.createContext({}),p=function(a){var e=r.useContext(s),t=e;return a&&(t="function"==typeof a?a(e):i(i({},e),a)),t},c=function(a){var e=p(a.components);return r.createElement(s.Provider,{value:e},a.children)},u={inlineCode:"code",wrapper:function(a){var e=a.children;return r.createElement(r.Fragment,{},e)}},f=r.forwardRef((function(a,e){var t=a.components,n=a.mdxType,o=a.originalType,s=a.parentName,c=l(a,["components","mdxType","originalType","parentName"]),f=p(t),d=n,g=f["".concat(s,".").concat(d)]||f[d]||u[d]||o;return t?r.createElement(g,i(i({ref:e},c),{},{components:t})):r.createElement(g,i({ref:e},c))}));function d(a,e){var t=arguments,n=e&&e.mdxType;if("string"==typeof a||n){var o=t.length,i=new Array(o);i[0]=f;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=a,l.mdxType="string"==typeof a?a:n,i[1]=l;for(var p=2;p<o;p++)i[p]=t[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}f.displayName="MDXCreateElement"},19083:(a,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=t(87462),n=(t(67294),t(3905));const o={title:"Grafana",description:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Casdoor \u0644\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0641\u064a Grafana",keywords:["Grafana"],authors:["ComradeProgrammer"]},i=void 0,l={unversionedId:"integration/go/grafana",id:"integration/go/grafana",title:"Grafana",description:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Casdoor \u0644\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0641\u064a Grafana",source:"@site/i18n/ar/docusaurus-plugin-content-docs/current/integration/go/grafana.md",sourceDirName:"integration/go",slug:"/integration/go/grafana",permalink:"/ar/docs/integration/go/grafana",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/integration/go/grafana.md",tags:[],version:"current",frontMatter:{title:"Grafana",description:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Casdoor \u0644\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0641\u064a Grafana",keywords:["Grafana"],authors:["ComradeProgrammer"]},sidebar:"tutorialSidebar",previous:{title:"Gitea",permalink:"/ar/docs/integration/go/gitea"},next:{title:"MinIO",permalink:"/ar/docs/integration/go/minio"}},s={},p=[{value:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Casdoor \u0644\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0641\u064a Grafana",id:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645-casdoor-\u0644\u0644\u0645\u0635\u0627\u062f\u0642\u0629-\u0641\u064a-grafana",level:2},{value:"\u0627\u0644\u062e\u0637\u0648\u0629 1: \u0625\u0646\u0634\u0627\u0621 \u062a\u0637\u0628\u064a\u0642 \u0644\u0640 Grafana \u0641\u064a Casdoor",id:"\u0627\u0644\u062e\u0637\u0648\u0629-1-\u0625\u0646\u0634\u0627\u0621-\u062a\u0637\u0628\u064a\u0642-\u0644\u0640-grafana-\u0641\u064a-casdoor",level:2},{value:"\u0627\u0644\u062e\u0637\u0648\u0629 2: \u062a\u0639\u062f\u064a\u0644 \u0625\u0639\u062f\u0627\u062f\u0627\u062a Grafana",id:"\u0627\u0644\u062e\u0637\u0648\u0629-2-\u062a\u0639\u062f\u064a\u0644-\u0625\u0639\u062f\u0627\u062f\u0627\u062a-grafana",level:2},{value:"\u062d\u0648\u0644 HTTPS",id:"\u062d\u0648\u0644-https",level:3},{value:"\u062d\u0648\u0644 redirectURI \u0628\u0639\u062f \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Casdoor",id:"\u062d\u0648\u0644-redirecturi-\u0628\u0639\u062f-\u062a\u0633\u062c\u064a\u0644-\u0627\u0644\u062f\u062e\u0648\u0644-\u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645-casdoor",level:3},{value:"\u062d\u0648\u0644 \u062a\u0639\u064a\u064a\u0646 \u0627\u0644\u0623\u062f\u0648\u0627\u0631",id:"\u062d\u0648\u0644-\u062a\u0639\u064a\u064a\u0646-\u0627\u0644\u0623\u062f\u0648\u0627\u0631",level:3},{value:"\u0627\u0644\u062e\u0637\u0648\u0629 3: \u0627\u0646\u0638\u0631 \u0625\u0630\u0627 \u0643\u0627\u0646 \u064a\u0639\u0645\u0644",id:"\u0627\u0644\u062e\u0637\u0648\u0629-3-\u0627\u0646\u0638\u0631-\u0625\u0630\u0627-\u0643\u0627\u0646-\u064a\u0639\u0645\u0644",level:2}],c={toc:p};function u(a){let{components:e,...o}=a;return(0,n.kt)("wrapper",(0,r.Z)({},c,o,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"\u0627\u0633\u062a\u062e\u062f\u0627\u0645-casdoor-\u0644\u0644\u0645\u0635\u0627\u062f\u0642\u0629-\u0641\u064a-grafana"},"\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Casdoor \u0644\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0641\u064a Grafana"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://grafana.com/oss/grafana/"},"Grafana")," \u064a\u062f\u0639\u0645 \u0627\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0639\u0628\u0631 OAuth. \u0644\u0630\u0644\u0643\u060c \u0645\u0646 \u0627\u0644\u0633\u0647\u0644 \u062c\u062f\u064b\u0627 \u0644\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 Casdoor \u0644\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0625\u0644\u0649 Grafana. \u0641\u0642\u0637 \u0628\u0639\u0636 \u0627\u0644\u062e\u0637\u0648\u0627\u062a \u0648\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0627\u0644\u0628\u0633\u064a\u0637\u0629 \u0645\u0637\u0644\u0648\u0628\u0629 \u0644\u062a\u062d\u0642\u064a\u0642 \u0630\u0644\u0643."),(0,n.kt)("p",null,"\u0625\u0644\u064a\u0643 \u062f\u0644\u064a\u0644 \u062d\u0648\u0644 \u0643\u064a\u0641\u064a\u0629 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 Casdoor \u0644\u0644\u0645\u0635\u0627\u062f\u0642\u0629 \u0641\u064a Grafana. \u0642\u0628\u0644 \u0623\u0646 \u062a\u0628\u062f\u0623\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u062a\u0623\u0643\u062f \u0645\u0646 \u0623\u0646 Grafana \u0645\u062b\u0628\u062a \u0648\u064a\u0639\u0645\u0644."),(0,n.kt)("h2",{id:"\u0627\u0644\u062e\u0637\u0648\u0629-1-\u0625\u0646\u0634\u0627\u0621-\u062a\u0637\u0628\u064a\u0642-\u0644\u0640-grafana-\u0641\u064a-casdoor"},"\u0627\u0644\u062e\u0637\u0648\u0629 1: \u0625\u0646\u0634\u0627\u0621 \u062a\u0637\u0628\u064a\u0642 \u0644\u0640 Grafana \u0641\u064a Casdoor"),(0,n.kt)("p",null,"\u0625\u0644\u064a\u0643 \u0645\u062b\u0627\u0644 \u0639\u0644\u0649 \u0625\u0646\u0634\u0627\u0621 \u062a\u0637\u0628\u064a\u0642 \u0641\u064a Casdoor:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"\u0625\u0646\u0634\u0627\u0621 \u062a\u0637\u0628\u064a\u0642 \u0641\u064a Casdoor",src:t(34709).Z,width:"1367",height:"810"})),(0,n.kt)("p",null,"\u064a\u0631\u062c\u0649 \u0646\u0633\u062e \u0633\u0631 \u0627\u0644\u0639\u0645\u064a\u0644 \u0648\u0645\u0639\u0631\u0641 \u0627\u0644\u0639\u0645\u064a\u0644 \u0644\u0644\u062e\u0637\u0648\u0629 \u0627\u0644\u062a\u0627\u0644\u064a\u0629."),(0,n.kt)("p",null,"\u064a\u0631\u062c\u0649 \u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0648\u0627\u0646 URL \u0644\u0644\u0631\u062f \u0627\u0644\u062e\u0627\u0635 \u0628\u0640 Grafana. \u0628\u0634\u0643\u0644 \u0627\u0641\u062a\u0631\u0627\u0636\u064a\u060c \u0639\u0646\u0648\u0627\u0646 URL \u0644\u0631\u062f OAuth \u0641\u064a Grafana \u0647\u0648 ",(0,n.kt)("inlineCode",{parentName:"p"},"/login/generic_oauth"),". \u0644\u0630\u0627 \u064a\u0631\u062c\u0649 \u062a\u0648\u0635\u064a\u0644 \u0647\u0630\u0627 \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0628\u0634\u0643\u0644 \u0635\u062d\u064a\u062d."),(0,n.kt)("h2",{id:"\u0627\u0644\u062e\u0637\u0648\u0629-2-\u062a\u0639\u062f\u064a\u0644-\u0625\u0639\u062f\u0627\u062f\u0627\u062a-grafana"},"\u0627\u0644\u062e\u0637\u0648\u0629 2: \u062a\u0639\u062f\u064a\u0644 \u0625\u0639\u062f\u0627\u062f\u0627\u062a Grafana"),(0,n.kt)("p",null,"\u0628\u0634\u0643\u0644 \u0627\u0641\u062a\u0631\u0627\u0636\u064a\u060c \u0645\u0644\u0641 \u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a \u0644\u0640 OAuth \u064a\u0642\u0639 \u0641\u064a ",(0,n.kt)("inlineCode",{parentName:"p"},"conf/defaults.ini")," \u0641\u064a \u0645\u062c\u0644\u062f \u0627\u0644\u0639\u0645\u0644 \u0644\u0640 Grafana."),(0,n.kt)("p",null,"\u064a\u0631\u062c\u0649 \u0627\u0644\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u0642\u0633\u0645 ",(0,n.kt)("inlineCode",{parentName:"p"},"[auth.generic_oauth]")," \u0648\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u062d\u0642\u0648\u0644 \u0627\u0644\u062a\u0627\u0644\u064a\u0629:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ini"},"[auth.generic_oauth]\nname = Casdoor\nicon = signin\nenabled = true\nallow_sign_up = true\nclient_id = <client ID from previous step>\nclient_secret = <client secret from previous step>\nauth_url = <Casdoor endpoint>/login/oauth/authorize\ntoken_url = <Casdoor endpoint>/api/login/oauth/access_token\n\n")),(0,n.kt)("h3",{id:"\u062d\u0648\u0644-https"},"\u062d\u0648\u0644 HTTPS"),(0,n.kt)("p",null,"\u0625\u0630\u0627 \u0643\u0646\u062a \u0644\u0627 \u062a\u0631\u064a\u062f \u062a\u0645\u0643\u064a\u0646 HTTPS \u0644\u0640 Casdoor \u0623\u0648 \u0625\u0630\u0627 \u0642\u0645\u062a \u0628\u062a\u062b\u0628\u064a\u062a Grafana \u0628\u062f\u0648\u0646 \u062a\u0645\u0643\u064a\u0646 HTTPS\u060c \u064a\u0631\u062c\u0649 \u0623\u064a\u0636\u064b\u0627 \u0636\u0628\u0637 ",(0,n.kt)("inlineCode",{parentName:"p"},"tls_skip_verify_insecure = true"),"."),(0,n.kt)("h3",{id:"\u062d\u0648\u0644-redirecturi-\u0628\u0639\u062f-\u062a\u0633\u062c\u064a\u0644-\u0627\u0644\u062f\u062e\u0648\u0644-\u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645-casdoor"},"\u062d\u0648\u0644 redirectURI \u0628\u0639\u062f \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Casdoor"),(0,n.kt)("p",null,"\u0625\u0630\u0627 \u0644\u0645 \u064a\u0643\u0646 \u0639\u0646\u0648\u0627\u0646 URI \u0644\u0644\u062a\u0648\u062c\u064a\u0647 \u0635\u062d\u064a\u062d\u064b\u0627 \u0628\u0639\u062f \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Casdoor \u0641\u064a Grafana\u060c \u0642\u062f \u062a\u0631\u063a\u0628 \u0641\u064a \u062a\u0643\u0648\u064a\u0646 ",(0,n.kt)("a",{parentName:"p",href:"https://stackoverflow.com/a/69814805"},"root_url"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ini"},"[server]\nhttp_port = 3000\n# The public-facing domain name used to access Grafana from a browser\ndomain = <your IP here>\n# The full public-facing URL\nroot_url = %(protocol)s://%(domain)s:%(http_port)s/\n")),(0,n.kt)("p",null,"\u0631\u0648\u0627\u0628\u0637 \u0630\u0627\u062a \u0635\u0644\u0629:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"https://grafana.com/docs/grafana/latest/setup-grafana/configure-grafana/#root_url"},"\u062a\u0648\u062b\u064a\u0642 Grafana"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"https://github.com/grafana/grafana/blob/main/conf/defaults.ini"},"\u0645\u0644\u0641 \u0627\u0641\u062a\u0631\u0627\u0636\u064a\u0627\u062a Grafana defaults.ini")))),(0,n.kt)("h3",{id:"\u062d\u0648\u0644-\u062a\u0639\u064a\u064a\u0646-\u0627\u0644\u0623\u062f\u0648\u0627\u0631"},"\u062d\u0648\u0644 \u062a\u0639\u064a\u064a\u0646 \u0627\u0644\u0623\u062f\u0648\u0627\u0631"),(0,n.kt)("p",null,"\u0642\u062f \u062a\u0631\u063a\u0628 \u0641\u064a \u062a\u0643\u0648\u064a\u0646 ",(0,n.kt)("inlineCode",{parentName:"p"},"role_attribute_path")," \u0644\u062a\u0639\u064a\u064a\u0646 \u062f\u0648\u0631 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643 \u0625\u0644\u0649 Grafana \u0639\u0628\u0631 ",(0,n.kt)("a",{parentName:"p",href:"https://grafana.com/docs/grafana/latest/setup-grafana/configure-security/configure-authentication/generic-oauth/#role-mapping"},"role_attribute_path"),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ini"},"[auth.generic_oauth]\nrole_attribute_path = contains(roles[*].name, 'admin') && 'Admin' || contains(roles[*].name, 'editor') && 'Editor' || 'Viewer'\nrole_attribute_strict = true\nallow_assign_grafana_admin = true\n")),(0,n.kt)("p",null,"\u062a\u0639\u0628\u064a\u0631 JMESPath \u0628\u0639\u062f ",(0,n.kt)("inlineCode",{parentName:"p"},"role_attribute_path")," \u0645\u0647\u0645 \u062c\u062f\u064b\u0627 \u0647\u0646\u0627. \u064a\u0631\u062c\u0649 \u0627\u0644\u0631\u062c\u0648\u0639 \u0625\u0644\u0649 \u062a\u0648\u062b\u064a\u0642 Grafana."),(0,n.kt)("h2",{id:"\u0627\u0644\u062e\u0637\u0648\u0629-3-\u0627\u0646\u0638\u0631-\u0625\u0630\u0627-\u0643\u0627\u0646-\u064a\u0639\u0645\u0644"},"\u0627\u0644\u062e\u0637\u0648\u0629 3: \u0627\u0646\u0638\u0631 \u0625\u0630\u0627 \u0643\u0627\u0646 \u064a\u0639\u0645\u0644"),(0,n.kt)("p",null,"\u0623\u063a\u0644\u0642 Grafana \u0648\u0623\u0639\u062f \u062a\u0634\u063a\u064a\u0644\u0647."),(0,n.kt)("p",null,"\u0627\u0630\u0647\u0628 \u0625\u0644\u0649 \u0635\u0641\u062d\u0629 \u0627\u0644\u062f\u062e\u0648\u0644. \u064a\u062c\u0628 \u0623\u0646 \u062a\u0631\u0649 \u0634\u064a\u0626\u064b\u0627 \u0645\u062b\u0644 \u0647\u0630\u0627:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"\u0627\u0644\u0646\u062a\u064a\u062c\u0629 \u0627\u0644\u0646\u0647\u0627\u0626\u064a\u0629",src:t(60591).Z,width:"1384",height:"739"})))}u.isMDXComponent=!0},34709:(a,e,t)=>{t.d(e,{Z:()=>r});const r=t.p+"assets/images/grafana_1-9f197ebf06da48585fe18ce1d66ce212.png"},60591:(a,e,t)=>{t.d(e,{Z:()=>r});const r=t.p+"assets/images/grafana_2-5136a37a917e1c899feedb23e218fa13.png"}}]);