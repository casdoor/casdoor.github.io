"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[9671],{3905:(e,o,r)=>{r.d(o,{Zo:()=>c,kt:()=>m});var a=r(67294);function n(e,o,r){return o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}function t(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?t(Object(r),!0).forEach((function(o){n(e,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))}))}return e}function s(e,o){if(null==e)return{};var r,a,n=function(e,o){if(null==e)return{};var r,a,n={},t=Object.keys(e);for(a=0;a<t.length;a++)r=t[a],o.indexOf(r)>=0||(n[r]=e[r]);return n}(e,o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(a=0;a<t.length;a++)r=t[a],o.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var d=a.createContext({}),l=function(e){var o=a.useContext(d),r=o;return e&&(r="function"==typeof e?e(o):i(i({},o),e)),r},c=function(e){var o=l(e.components);return a.createElement(d.Provider,{value:o},e.children)},p={inlineCode:"code",wrapper:function(e){var o=e.children;return a.createElement(a.Fragment,{},o)}},u=a.forwardRef((function(e,o){var r=e.components,n=e.mdxType,t=e.originalType,d=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=l(r),m=n,f=u["".concat(d,".").concat(m)]||u[m]||p[m]||t;return r?a.createElement(f,i(i({ref:o},c),{},{components:r})):a.createElement(f,i({ref:o},c))}));function m(e,o){var r=arguments,n=o&&o.mdxType;if("string"==typeof e||n){var t=r.length,i=new Array(t);i[0]=u;var s={};for(var d in o)hasOwnProperty.call(o,d)&&(s[d]=o[d]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var l=2;l<t;l++)i[l]=r[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},53337:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>l});var a=r(87462),n=(r(67294),r(3905));const t={title:"Servidor LDAP",description:"Como conectar o cliente LDAP no Casdoor",keywords:["Servidor LDAP"],authors:["forestmgy"]},i=void 0,s={unversionedId:"ldap/ldapserver",id:"ldap/ldapserver",title:"Servidor LDAP",description:"Como conectar o cliente LDAP no Casdoor",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/ldap/ldapserver.md",sourceDirName:"ldap",slug:"/ldap/ldapserver",permalink:"/pt/docs/ldap/ldapserver",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/ldap/ldapserver.md",tags:[],version:"current",frontMatter:{title:"Servidor LDAP",description:"Como conectar o cliente LDAP no Casdoor",keywords:["Servidor LDAP"],authors:["forestmgy"]},sidebar:"tutorialSidebar",previous:{title:"Configurando e Sincronizando Usu\xe1rios LDAP",permalink:"/pt/docs/ldap/config"},next:{title:"RADIUS",permalink:"/pt/docs/category/radius"}},d={},l=[{value:"Porta do Servidor LDAP",id:"porta-do-servidor-ldap",level:3},{value:"Como Funciona",id:"como-funciona",level:3},{value:"Como Fazer Bind",id:"como-fazer-bind",level:3},{value:"Como Fazer Busca",id:"como-fazer-busca",level:3}],c={toc:l};function p(e){let{components:o,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},c,r,{components:o,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Muitos sistemas, como o ",(0,n.kt)("inlineCode",{parentName:"p"},"Nexus"),", suportam autentica\xe7\xe3o LDAP. O Casdoor tamb\xe9m implementa um servidor LDAP simples, que suporta opera\xe7\xf5es de bind e busca."),(0,n.kt)("p",null,"Este documento descreve como se conectar ao servidor LDAP no Casdoor e implementar autentica\xe7\xe3o de login simples."),(0,n.kt)("h3",{id:"porta-do-servidor-ldap"},"Porta do Servidor LDAP"),(0,n.kt)("p",null,"O servidor LDAP escuta na porta ",(0,n.kt)("inlineCode",{parentName:"p"},"389")," por padr\xe3o. Voc\xea pode alterar a porta padr\xe3o modificando o valor de ",(0,n.kt)("inlineCode",{parentName:"p"},"ldapServerPort")," em ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/28b381e01eebac66e39e20179ed95282695ecd75/conf/app.conf#L22"},"conf/app.conf"),"."),(0,n.kt)("h3",{id:"como-funciona"},"Como Funciona"),(0,n.kt)("p",null,"Semelhante ao cliente LDAP no Casdoor, os usu\xe1rios no servidor LDAP s\xe3o todos subclasses de ",(0,n.kt)("inlineCode",{parentName:"p"},"posixAccount"),"."),(0,n.kt)("p",null,"Quando o servidor recebe um conjunto de dados transmitido pelo LDAP, ele ir\xe1 analisar o ",(0,n.kt)("inlineCode",{parentName:"p"},"cn")," e o ",(0,n.kt)("inlineCode",{parentName:"p"},"ou"),", onde ",(0,n.kt)("inlineCode",{parentName:"p"},"cn")," representa o nome de usu\xe1rio e ",(0,n.kt)("inlineCode",{parentName:"p"},"ou")," representa o nome da organiza\xe7\xe3o. O ",(0,n.kt)("inlineCode",{parentName:"p"},"dc")," n\xe3o importa."),(0,n.kt)("p",null,"Se for uma opera\xe7\xe3o de bind, o servidor usar\xe1 o Casdoor para verificar o nome de usu\xe1rio e a senha e conceder permiss\xe3o ao usu\xe1rio no Casdoor."),(0,n.kt)("p",null,"Se for uma opera\xe7\xe3o de busca, o servidor verificar\xe1 se a opera\xe7\xe3o de busca \xe9 legal, de acordo com as permiss\xf5es concedidas ao cliente pela opera\xe7\xe3o de bind, e retornar\xe1 uma resposta."),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"N\xf3s s\xf3 suportamos ",(0,n.kt)("strong",{parentName:"p"},"Autentica\xe7\xe3o Simples"),".")),(0,n.kt)("h3",{id:"como-fazer-bind"},"Como Fazer Bind"),(0,n.kt)("p",null,"No servidor LDAP do Casdoor, n\xf3s s\xf3 reconhecemos ",(0,n.kt)("inlineCode",{parentName:"p"},"DN")," em um formato semelhante a este: ",(0,n.kt)("inlineCode",{parentName:"p"},"cn=admin,ou=built-in,dc=example,dc=com"),"."),(0,n.kt)("p",null,"Por favor, defina o ",(0,n.kt)("inlineCode",{parentName:"p"},"DN")," do usu\xe1rio admin para o formato acima. Ent\xe3o, voc\xea pode usar este ",(0,n.kt)("inlineCode",{parentName:"p"},"DN")," para fazer bind no servidor LDAP com a senha do usu\xe1rio para fazer login no Casdoor para verifica\xe7\xe3o. Se a verifica\xe7\xe3o do servidor for bem-sucedida, o usu\xe1rio receber\xe1 autoridade no Casdoor."),(0,n.kt)("h3",{id:"como-fazer-busca"},"Como Fazer Busca"),(0,n.kt)("p",null,"Uma vez que a opera\xe7\xe3o de bind seja conclu\xedda com sucesso, voc\xea pode realizar a opera\xe7\xe3o de busca. H\xe1 algumas diferen\xe7as entre as opera\xe7\xf5es de busca e bind."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Para buscar um determinado usu\xe1rio, como ",(0,n.kt)("inlineCode",{parentName:"li"},"Alice")," sob a organiza\xe7\xe3o ",(0,n.kt)("inlineCode",{parentName:"li"},"built-in"),", voc\xea deve usar um ",(0,n.kt)("inlineCode",{parentName:"li"},"DN")," como este: ",(0,n.kt)("inlineCode",{parentName:"li"},"ou=built-in,dc=example,dc=com"),", e adicionar ",(0,n.kt)("inlineCode",{parentName:"li"},"cn=Alice")," no campo Filtro."),(0,n.kt)("li",{parentName:"ul"},"Para buscar todos os usu\xe1rios sob uma determinada organiza\xe7\xe3o, como todos os usu\xe1rios em ",(0,n.kt)("inlineCode",{parentName:"li"},"built-in"),", voc\xea deve usar um ",(0,n.kt)("inlineCode",{parentName:"li"},"DN")," como este: ",(0,n.kt)("inlineCode",{parentName:"li"},"ou=built-in,dc=example,dc=com"),", e adicionar ",(0,n.kt)("inlineCode",{parentName:"li"},"cn=*")," no campo Filtro."),(0,n.kt)("li",{parentName:"ul"},"Para buscar todos os usu\xe1rios em todas as organiza\xe7\xf5es (assumindo que o usu\xe1rio tenha permiss\xf5es suficientes), voc\xea deve usar um ",(0,n.kt)("inlineCode",{parentName:"li"},"DN")," como este: ",(0,n.kt)("inlineCode",{parentName:"li"},"ou=*,dc=example,dc=com"),", e adicionar ",(0,n.kt)("inlineCode",{parentName:"li"},"cn=*")," no campo Filtro."),(0,n.kt)("li",{parentName:"ul"},"To search for all users in a specific group, you should use a filter query like this: ",(0,n.kt)("inlineCode",{parentName:"li"},"(memberOf=organization_name/group_name)")," in the Filter field.")))}p.isMDXComponent=!0}}]);