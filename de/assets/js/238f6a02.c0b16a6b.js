"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[2235],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(r),m=a,g=d["".concat(s,".").concat(m)]||d[m]||c[m]||i;return r?n.createElement(g,o(o({ref:t},u),{},{components:r})):n.createElement(g,o({ref:t},u))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=r[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},10019:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var n=r(87462),a=(r(67294),r(3905));const i={title:"Azure AD",description:"Using Azure AD as SAML IdP",keywords:["Azure AD","SAML","Microsoft Entra"],authors:["nomeguy"]},o=void 0,l={unversionedId:"provider/saml/azure-ad",id:"provider/saml/azure-ad",title:"Azure AD",description:"Using Azure AD as SAML IdP",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/provider/saml/azure-ad.md",sourceDirName:"provider/saml",slug:"/provider/saml/azure-ad",permalink:"/de/docs/provider/saml/azure-ad",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/provider/saml/azure-ad.md",tags:[],version:"current",frontMatter:{title:"Azure AD",description:"Using Azure AD as SAML IdP",keywords:["Azure AD","SAML","Microsoft Entra"],authors:["nomeguy"]},sidebar:"tutorialSidebar",previous:{title:"Google Workspace",permalink:"/de/docs/provider/saml/google-workspace"},next:{title:"Keycloak",permalink:"/de/docs/provider/saml/keycloak"}},s={},p=[{value:"Create Enterprise Application in Azure AD",id:"create-enterprise-application-in-azure-ad",level:2},{value:"Configure Single Sign-On",id:"configure-single-sign-on",level:2},{value:"Basic SAML Configuration",id:"basic-saml-configuration",level:3},{value:"Attributes &amp; Claims",id:"attributes--claims",level:3},{value:"SAML Certificates",id:"saml-certificates",level:3},{value:"Set up Casdoor",id:"set-up-casdoor",level:3},{value:"Configure SAML Provider in Casdoor",id:"configure-saml-provider-in-casdoor",level:2},{value:"Assign Users",id:"assign-users",level:2},{value:"Add Provider to Application",id:"add-provider-to-application",level:2},{value:"Test the Integration",id:"test-the-integration",level:2}],u={toc:p};function c(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This guide shows you how to configure Azure AD (Microsoft Entra ID) as a SAML Identity Provider for Casdoor, allowing users to authenticate with their Azure AD accounts."),(0,a.kt)("h2",{id:"create-enterprise-application-in-azure-ad"},"Create Enterprise Application in Azure AD"),(0,a.kt)("p",null,"Sign in to the ",(0,a.kt)("a",{parentName:"p",href:"https://portal.azure.com/"},"Azure Portal")," and navigate to ",(0,a.kt)("strong",{parentName:"p"},"Azure Active Directory")," > ",(0,a.kt)("strong",{parentName:"p"},"Enterprise applications"),"."),(0,a.kt)("p",null,"Click ",(0,a.kt)("strong",{parentName:"p"},"New application")," > ",(0,a.kt)("strong",{parentName:"p"},"Create your own application"),"."),(0,a.kt)("p",null,'Enter a name (e.g., "Casdoor") and select ',(0,a.kt)("strong",{parentName:"p"},"Integrate any other application you don't find in the gallery (Non-gallery)"),". Click ",(0,a.kt)("strong",{parentName:"p"},"Create"),"."),(0,a.kt)("h2",{id:"configure-single-sign-on"},"Configure Single Sign-On"),(0,a.kt)("p",null,"In your new enterprise application, navigate to ",(0,a.kt)("strong",{parentName:"p"},"Single sign-on")," and select ",(0,a.kt)("strong",{parentName:"p"},"SAML"),"."),(0,a.kt)("h3",{id:"basic-saml-configuration"},"Basic SAML Configuration"),(0,a.kt)("p",null,"Click ",(0,a.kt)("strong",{parentName:"p"},"Edit")," on the Basic SAML Configuration section and enter:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Identifier (Entity ID)"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"https://<your-casdoor-domain>/api/acs"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Example: ",(0,a.kt)("inlineCode",{parentName:"li"},"https://door.example.com/api/acs")))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Reply URL (Assertion Consumer Service URL)"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"https://<your-casdoor-domain>/api/acs"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Use the same URL as Entity ID")))),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"The ",(0,a.kt)("inlineCode",{parentName:"p"},"/api/acs")," endpoint only accepts POST requests. Azure AD uses POST binding by default for SAML responses.")),(0,a.kt)("p",null,"Click ",(0,a.kt)("strong",{parentName:"p"},"Save"),"."),(0,a.kt)("h3",{id:"attributes--claims"},"Attributes & Claims"),(0,a.kt)("p",null,"The default attributes configuration is typically sufficient:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Unique User Identifier"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"user.userprincipalname")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"emailaddress"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"user.mail")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"name"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"user.userprincipalname"))),(0,a.kt)("p",null,"You can customize these mappings if needed."),(0,a.kt)("h3",{id:"saml-certificates"},"SAML Certificates"),(0,a.kt)("p",null,"Download the ",(0,a.kt)("strong",{parentName:"p"},"Certificate (Base64)")," from the SAML Certificates section."),(0,a.kt)("h3",{id:"set-up-casdoor"},"Set up Casdoor"),(0,a.kt)("p",null,"Note the following URLs from the ",(0,a.kt)("strong",{parentName:"p"},"Set up Casdoor")," section:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Login URL")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Azure AD Identifier")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Logout URL"))),(0,a.kt)("h2",{id:"configure-saml-provider-in-casdoor"},"Configure SAML Provider in Casdoor"),(0,a.kt)("p",null,"In the Casdoor admin console, navigate to ",(0,a.kt)("strong",{parentName:"p"},"Providers")," and click ",(0,a.kt)("strong",{parentName:"p"},"Add"),"."),(0,a.kt)("p",null,"Select the following:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Category"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"SAML")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type"),": ",(0,a.kt)("inlineCode",{parentName:"li"},"Custom")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Metadata"),": You can either:",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Download the ",(0,a.kt)("strong",{parentName:"li"},"Federation Metadata XML")," from Azure AD and paste it here, or"),(0,a.kt)("li",{parentName:"ul"},"Manually configure using the Login URL, Azure AD Identifier, and Certificate")))),(0,a.kt)("p",null,"Click ",(0,a.kt)("strong",{parentName:"p"},"Parse")," to automatically fill in the fields, then click ",(0,a.kt)("strong",{parentName:"p"},"Save"),"."),(0,a.kt)("h2",{id:"assign-users"},"Assign Users"),(0,a.kt)("p",null,"Back in Azure AD, navigate to ",(0,a.kt)("strong",{parentName:"p"},"Users and groups")," in your enterprise application and assign users or groups who should have access to Casdoor."),(0,a.kt)("h2",{id:"add-provider-to-application"},"Add Provider to Application"),(0,a.kt)("p",null,"Edit your Casdoor application and add the Azure AD SAML provider to the ",(0,a.kt)("strong",{parentName:"p"},"Providers")," list. Click ",(0,a.kt)("strong",{parentName:"p"},"Save"),"."),(0,a.kt)("h2",{id:"test-the-integration"},"Test the Integration"),(0,a.kt)("p",null,"Navigate to your Casdoor application's login page. You should see an Azure AD login option. Click it to test the SAML authentication flow."),(0,a.kt)("p",null,"You can also use the ",(0,a.kt)("strong",{parentName:"p"},"Test")," button in Azure AD's SAML configuration to verify the setup."))}c.isMDXComponent=!0}}]);