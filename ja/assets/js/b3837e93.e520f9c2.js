"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[2318],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,g=d["".concat(s,".").concat(m)]||d[m]||c[m]||i;return n?r.createElement(g,l(l({ref:t},u),{},{components:n})):r.createElement(g,l({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var p=2;p<i;p++)l[p]=n[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8819:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const i={title:"DingTalk",description:"Using DingTalk Syncer to synchronize users from DingTalk",keywords:["syncer","dingtalk"],authors:["mserico"]},l=void 0,o={unversionedId:"syncer/DingTalk",id:"syncer/DingTalk",title:"DingTalk",description:"Using DingTalk Syncer to synchronize users from DingTalk",source:"@site/i18n/ja/docusaurus-plugin-content-docs/current/syncer/DingTalk.md",sourceDirName:"syncer",slug:"/syncer/DingTalk",permalink:"/ja/docs/syncer/DingTalk",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/syncer/DingTalk.md",tags:[],version:"current",frontMatter:{title:"DingTalk",description:"Using DingTalk Syncer to synchronize users from DingTalk",keywords:["syncer","dingtalk"],authors:["mserico"]},sidebar:"tutorialSidebar",previous:{title:"WeCom",permalink:"/ja/docs/syncer/WeCom"},next:{title:"Certificates",permalink:"/ja/docs/category/certificates"}},s={},p=[{value:"Configuration",id:"configuration",level:2},{value:"Setup Steps",id:"setup-steps",level:2},{value:"Step 1: Obtain DingTalk Application Credentials",id:"step-1-obtain-dingtalk-application-credentials",level:3},{value:"Step 2: Configure in Casdoor",id:"step-2-configure-in-casdoor",level:3},{value:"Field Mappings",id:"field-mappings",level:2},{value:"Running the Syncer",id:"running-the-syncer",level:2}],u={toc:p};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"DingTalk Syncer automatically imports users from your DingTalk (\u9489\u9489) organization into Casdoor. The syncer retrieves user information across all departments through the DingTalk API and maintains synchronized user data."),(0,a.kt)("h2",{id:"configuration"},"Configuration"),(0,a.kt)("p",null,"The syncer requires these fields:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Organization"),": Target Casdoor organization for imported users"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Name"),": Unique identifier for this syncer"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type"),': Select "DingTalk"'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"App Key"),": Your DingTalk application's App Key"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"App Secret"),": Your DingTalk application's App Secret")),(0,a.kt)("h2",{id:"setup-steps"},"Setup Steps"),(0,a.kt)("h3",{id:"step-1-obtain-dingtalk-application-credentials"},"Step 1: Obtain DingTalk Application Credentials"),(0,a.kt)("p",null,"Access your DingTalk Open Platform and create or select an existing application. You'll need to obtain two critical pieces of information from your application settings:"),(0,a.kt)("p",null,"The ",(0,a.kt)("strong",{parentName:"p"},"App Key")," serves as your application's public identifier, while the ",(0,a.kt)("strong",{parentName:"p"},"App Secret")," functions as your private authentication token. Both are essential for establishing secure API communication between Casdoor and your DingTalk organization."),(0,a.kt)("p",null,"Navigate to your application's management interface to locate these credentials. Keep the App Secret secure as it provides full access to your organization's user directory."),(0,a.kt)("h3",{id:"step-2-configure-in-casdoor"},"Step 2: Configure in Casdoor"),(0,a.kt)("p",null,"Open the Syncers tab and create a new syncer with type \"DingTalk\". Enter your App Key and App Secret in their respective fields. The syncer doesn't require database configuration fields since it connects directly to DingTalk's API."),(0,a.kt)("p",null,"After saving your configuration, use the ",(0,a.kt)("strong",{parentName:"p"},"Test Connection")," button to verify that Casdoor can successfully authenticate with your DingTalk organization."),(0,a.kt)("h2",{id:"field-mappings"},"Field Mappings"),(0,a.kt)("p",null,"The syncer maps DingTalk user attributes to Casdoor fields as follows:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"DingTalk Field"),(0,a.kt)("th",{parentName:"tr",align:null},"Casdoor Field"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"userid"),(0,a.kt)("td",{parentName:"tr",align:null},"Id"),(0,a.kt)("td",{parentName:"tr",align:null},"User's unique identifier")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"unionid"),(0,a.kt)("td",{parentName:"tr",align:null},"Name"),(0,a.kt)("td",{parentName:"tr",align:null},"Unique user identifier (falls back to userid if empty)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"name"),(0,a.kt)("td",{parentName:"tr",align:null},"DisplayName"),(0,a.kt)("td",{parentName:"tr",align:null},"User's display name")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"email"),(0,a.kt)("td",{parentName:"tr",align:null},"Email"),(0,a.kt)("td",{parentName:"tr",align:null},"Email address")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"mobile"),(0,a.kt)("td",{parentName:"tr",align:null},"Phone"),(0,a.kt)("td",{parentName:"tr",align:null},"Mobile phone number")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"avatar"),(0,a.kt)("td",{parentName:"tr",align:null},"Avatar"),(0,a.kt)("td",{parentName:"tr",align:null},"Profile picture URL")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"title"),(0,a.kt)("td",{parentName:"tr",align:null},"Title"),(0,a.kt)("td",{parentName:"tr",align:null},"Job title or position")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"active"),(0,a.kt)("td",{parentName:"tr",align:null},"IsForbidden"),(0,a.kt)("td",{parentName:"tr",align:null},"Account status (inverted)")))),(0,a.kt)("p",null,"Account status mapping works inversely: when a DingTalk user is marked as inactive (",(0,a.kt)("inlineCode",{parentName:"p"},"active: false"),"), they appear as forbidden in Casdoor (",(0,a.kt)("inlineCode",{parentName:"p"},"IsForbidden: true"),"). Active DingTalk users sync as normal Casdoor accounts."),(0,a.kt)("p",null,"The syncer uses ",(0,a.kt)("inlineCode",{parentName:"p"},"unionid")," as the username in Casdoor, matching the behavior of the OAuth provider. This ensures users who sign in via OAuth and those imported via the syncer maintain consistent identities. The ",(0,a.kt)("inlineCode",{parentName:"p"},"unionid")," field provides a stable identifier that persists even when employee numbers or other attributes change."),(0,a.kt)("h2",{id:"running-the-syncer"},"Running the Syncer"),(0,a.kt)("p",null,"Enable the syncer through the ",(0,a.kt)("strong",{parentName:"p"},"Is enabled")," toggle to activate scheduled synchronization. For immediate imports, click the ",(0,a.kt)("strong",{parentName:"p"},"Sync")," button to trigger a manual synchronization run."),(0,a.kt)("p",null,"The syncer automatically retrieves users from all departments in your DingTalk organization, handling deduplication when users belong to multiple departments. Pagination is managed internally, ensuring complete user directory synchronization regardless of organization size."))}c.isMDXComponent=!0}}]);