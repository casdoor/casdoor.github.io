"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[5323],{3905:(e,o,a)=>{a.d(o,{Zo:()=>c,kt:()=>m});var n=a(67294);function i(e,o,a){return o in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a,e}function t(e,o){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?t(Object(a),!0).forEach((function(o){i(e,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(a,o))}))}return e}function s(e,o){if(null==e)return{};var a,n,i=function(e,o){if(null==e)return{};var a,n,i={},t=Object.keys(e);for(n=0;n<t.length;n++)a=t[n],o.indexOf(a)>=0||(i[a]=e[a]);return i}(e,o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(n=0;n<t.length;n++)a=t[n],o.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=n.createContext({}),p=function(e){var o=n.useContext(l),a=o;return e&&(a="function"==typeof e?e(o):r(r({},o),e)),a},c=function(e){var o=p(e.components);return n.createElement(l.Provider,{value:o},e.children)},d={inlineCode:"code",wrapper:function(e){var o=e.children;return n.createElement(n.Fragment,{},o)}},u=n.forwardRef((function(e,o){var a=e.components,i=e.mdxType,t=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(a),m=i,g=u["".concat(l,".").concat(m)]||u[m]||d[m]||t;return a?n.createElement(g,r(r({ref:o},c),{},{components:a})):n.createElement(g,r({ref:o},c))}));function m(e,o){var a=arguments,i=o&&o.mdxType;if("string"==typeof e||i){var t=a.length,r=new Array(t);r[0]=u;var s={};for(var l in o)hasOwnProperty.call(o,l)&&(s[l]=o[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var p=2;p<t;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},56825:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>s,toc:()=>p});var n=a(87462),i=(a(67294),a(3905));const t={title:"Como Habilitar o Single Sign-On",description:"Habilitar Single Sign-On",keywords:["SSO","Single Sign-On"],authors:["leo220yuyaodog"]},r=void 0,s={unversionedId:"how-to-connect/single-sign-on",id:"how-to-connect/single-sign-on",title:"Como Habilitar o Single Sign-On",description:"Habilitar Single Sign-On",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/how-to-connect/single-sign-on.md",sourceDirName:"how-to-connect",slug:"/how-to-connect/single-sign-on",permalink:"/pt/docs/how-to-connect/single-sign-on",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/how-to-connect/single-sign-on.md",tags:[],version:"current",frontMatter:{title:"Como Habilitar o Single Sign-On",description:"Habilitar Single Sign-On",keywords:["SSO","Single Sign-On"],authors:["leo220yuyaodog"]},sidebar:"tutorialSidebar",previous:{title:"Casdoor SDKs",permalink:"/pt/docs/how-to-connect/sdk"},next:{title:"Vue SDK",permalink:"/pt/docs/how-to-connect/vue-sdk"}},l={},p=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Configura\xe7\xe3o",id:"configura\xe7\xe3o",level:2},{value:"Adicionar Silent Sign-In",id:"adicionar-silent-sign-in",level:2},{value:"Adicionar Popup Sign-In",id:"adicionar-popup-sign-in",level:2},{value:"Usando SSO",id:"usando-sso",level:2}],c={toc:p};function d(e){let{components:o,...t}=e;return(0,i.kt)("wrapper",(0,n.Z)({},c,t,{components:o,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"introdu\xe7\xe3o"},"Introdu\xe7\xe3o"),(0,i.kt)("p",null,"Voc\xea conectou o Casdoor e configurou mais de um aplicativo em uma organiza\xe7\xe3o. Voc\xea quer que os usu\xe1rios fa\xe7am login uma vez em qualquer aplicativo da organiza\xe7\xe3o e depois possam fazer login quando forem para outro aplicativo sem cliques extras."),(0,i.kt)("p",null,"N\xf3s oferecemos este recurso de single sign-on. Para habilit\xe1-lo, voc\xea s\xf3 precisa:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Habilitar o bot\xe3o de Auto Sign-In."),(0,i.kt)("li",{parentName:"ul"},"Preencher a URL para a p\xe1gina inicial."),(0,i.kt)("li",{parentName:"ul"},"Adicionar uma fun\xe7\xe3o de ",(0,i.kt)("strong",{parentName:"li"},"Silent Sign-In")," \xe0 p\xe1gina inicial do aplicativo.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"O processo b\xe1sico de login fornecido pelo Casdoor permite que os usu\xe1rios fa\xe7am login em outros aplicativos da organiza\xe7\xe3o selecionando o usu\xe1rio que est\xe1 atualmente logado ou usando outra conta."),(0,i.kt)("p",{parentName:"admonition"},"Ap\xf3s habilitar o auto login, a caixa de sele\xe7\xe3o n\xe3o ser\xe1 exibida, e o usu\xe1rio logado entrar\xe1 diretamente.")),(0,i.kt)("h2",{id:"configura\xe7\xe3o"},"Configura\xe7\xe3o"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},'Preencher o campo "home". Pode ser a p\xe1gina inicial do aplicativo ou a p\xe1gina de login.')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"sso_home.png",src:a(39493).Z,width:"1270",height:"717"}),"\n2. Habilitar o bot\xe3o de Auto Sign-In."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"sso_signin.png",src:a(40871).Z,width:"505",height:"405"})),(0,i.kt)("h2",{id:"adicionar-silent-sign-in"},"Adicionar Silent Sign-In"),(0,i.kt)("p",null,"Na verdade, implementamos o login autom\xe1tico incluindo par\xe2metros na URL. Portanto, seus aplicativos precisam ter um m\xe9todo para acionar o login ap\xf3s saltar para a URL. N\xf3s fornecemos o ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-react-sdk"},"casdoor-react-sdk")," para ajud\xe1-lo a implementar rapidamente este recurso. Voc\xea pode ver os detalhes em ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-react-sdk#use-in-react"},"use-in-react"),"."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Como funciona"),(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},"Na URL para a p\xe1gina inicial do aplicativo, vamos incluir o par\xe2metro ",(0,i.kt)("inlineCode",{parentName:"li"},"silentSignin"),"."),(0,i.kt)("li",{parentName:"ol"},"Na sua p\xe1gina inicial, determine se voc\xea precisa fazer login silenciosamente (automaticamente) verificando o par\xe2metro ",(0,i.kt)("inlineCode",{parentName:"li"},"silentSignin"),". Se ",(0,i.kt)("inlineCode",{parentName:"li"},"silentSignin === 1"),", a fun\xe7\xe3o deve retornar o componente ",(0,i.kt)("inlineCode",{parentName:"li"},"SilentSignin"),", que ajudar\xe1 voc\xea a iniciar uma solicita\xe7\xe3o de login. Uma vez que voc\xea habilitou o login autom\xe1tico, os usu\xe1rios far\xe3o login automaticamente sem clicar."))),(0,i.kt)("h2",{id:"adicionar-popup-sign-in"},"Adicionar Popup Sign-In"),(0,i.kt)("p",null,'A fun\xe7\xe3o de "popup sign-in" abrir\xe1 uma pequena janela. Ap\xf3s fazer login no Casdoor em uma janela secund\xe1ria, ele enviar\xe1 informa\xe7\xf5es de autentica\xe7\xe3o para a janela principal e ent\xe3o fechar\xe1 automaticamente. Implementamos este recurso incluindo par\xe2metros na URL.'),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Como usar"),(0,i.kt)("p",{parentName:"admonition"},"Use o m\xe9todo ",(0,i.kt)("inlineCode",{parentName:"p"},"popupSignin()")," no ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-js-sdk"},"casdoor-js-sdk")," para implementar rapidamente este recurso. Voc\xea pode ver uma demonstra\xe7\xe3o em ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-nodejs-react-example"},"casdoor-nodejs-react-example"),"."),(0,i.kt)("p",{parentName:"admonition"},"Como funciona"),(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},"Na URL para a p\xe1gina inicial do aplicativo, vamos incluir o par\xe2metro ",(0,i.kt)("inlineCode",{parentName:"li"},"popup"),"."),(0,i.kt)("li",{parentName:"ol"},"Quando ",(0,i.kt)("inlineCode",{parentName:"li"},"popup=1")," estiver nos par\xe2metros de login, o Casdoor enviar\xe1 ",(0,i.kt)("inlineCode",{parentName:"li"},"code")," e ",(0,i.kt)("inlineCode",{parentName:"li"},"state")," como uma mensagem para a janela principal e terminar\xe1 de obter o ",(0,i.kt)("inlineCode",{parentName:"li"},"token")," na janela principal usando o SDK."))),(0,i.kt)("h2",{id:"usando-sso"},"Usando SSO"),(0,i.kt)("p",null,"A configura\xe7\xe3o est\xe1 completa. Abaixo, mostraremos como usar o login autom\xe1tico."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Certifique-se de que seu aplicativo possa redirecionar para a p\xe1gina de perfil do usu\xe1rio. A API ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-js-sdk#get-my-profile-page-url"},"getMyProfileUrl(account, returnUrl)")," \xe9 fornecida em nosso SDK para cada linguagem.")),(0,i.kt)("p",null,'Abrir a p\xe1gina de perfil e ir para a p\xe1gina "Home" (caminho da URL ',(0,i.kt)("inlineCode",{parentName:"p"},"/"),'). Voc\xea ver\xe1 a lista de aplicativos fornecida pela organiza\xe7\xe3o. Vale ressaltar que apenas usu\xe1rios em organiza\xe7\xf5es diferentes de "built-in" podem ver a lista de aplicativos na p\xe1gina "Home". Todos os administradores globais (aqueles na organiza\xe7\xe3o "built-in") n\xe3o podem v\xea-la.'),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"sso_homepage.png",src:a(73482).Z,width:"1899",height:"883"})),(0,i.kt)("p",null,"Clique em um bloco na lista de aplicativos, e ele saltar\xe1 para a URL da p\xe1gina inicial desse aplicativo com o par\xe2metro GET ",(0,i.kt)("inlineCode",{parentName:"p"},"?silentSignin=1"),". Ele far\xe1 login automaticamente no aplicativo se o aplicativo estiver integrado com o Casdoor SSO (assim ele reconhecer\xe1 o par\xe2metro ",(0,i.kt)("inlineCode",{parentName:"p"},"?silentSignin=1")," e realizar\xe1 um login silencioso em segundo plano)."))}d.isMDXComponent=!0},39493:(e,o,a)=>{a.d(o,{Z:()=>n});const n=a.p+"assets/images/sso_home-67f2ee9056c1b87d9dfe873e02e8db04.png"},73482:(e,o,a)=>{a.d(o,{Z:()=>n});const n=a.p+"assets/images/sso_homepage-9a368fa35b6e7bf07c333b423155be30.png"},40871:(e,o,a)=>{a.d(o,{Z:()=>n});const n=a.p+"assets/images/sso_signin-d64d40c185de026300a6fbd2c0385c1f.png"}}]);