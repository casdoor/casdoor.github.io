"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[696],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>c});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=n.createContext({}),s=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=s(e.components);return n.createElement(d.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(a),c=r,k=u["".concat(d,".").concat(c)]||u[c]||m[c]||o;return a?n.createElement(k,i(i({ref:t},p),{},{components:a})):n.createElement(k,i({ref:t},p))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=u;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},77554:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var n=a(87462),r=(a(67294),a(3905));const o={title:"Instalaci\xf3n del Servidor",description:"Instalar y configurar el servidor Casdoor",keywords:["Servidor Casdoor","instalaci\xf3n","configuraci\xf3n"],authors:["hsluoyz"]},i=void 0,l={unversionedId:"basic/server-installation",id:"basic/server-installation",title:"Instalaci\xf3n del Servidor",description:"Instalar y configurar el servidor Casdoor",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/basic/server-installation.mdx",sourceDirName:"basic",slug:"/basic/server-installation",permalink:"/es/docs/basic/server-installation",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/basic/server-installation.mdx",tags:[],version:"current",frontMatter:{title:"Instalaci\xf3n del Servidor",description:"Instalar y configurar el servidor Casdoor",keywords:["Servidor Casdoor","instalaci\xf3n","configuraci\xf3n"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"Conceptos fundamentales",permalink:"/es/docs/basic/core-concepts"},next:{title:"(Opcional) Prueba con Docker",permalink:"/es/docs/basic/try-with-docker"}},d={},s=[{value:"Requisitos",id:"requisitos",level:2},{value:"Sistema Operativo",id:"sistema-operativo",level:3},{value:"Entorno",id:"entorno",level:3},{value:"Base de datos",id:"base-de-datos",level:3},{value:"Descargar",id:"descargar",level:2},{value:"Configuraci\xf3n",id:"configuraci\xf3n",level:2},{value:"Configurar Base de Datos",id:"configurar-base-de-datos",level:3},{value:"MySQL",id:"mysql",level:4},{value:"PostgreSQL",id:"postgresql",level:4},{value:"SQLite3",id:"sqlite3",level:4},{value:"A trav\xe9s de archivo Ini",id:"a-trav\xe9s-de-archivo-ini",level:3},{value:"A trav\xe9s de Variables de Entorno",id:"a-trav\xe9s-de-variables-de-entorno",level:3},{value:"Ejecutar",id:"ejecutar",level:2},{value:"Modo de Desarrollo",id:"modo-de-desarrollo",level:3},{value:"Backend",id:"backend",level:4},{value:"Frontend",id:"frontend",level:4},{value:"Modo Producci\xf3n",id:"modo-producci\xf3n",level:3},{value:"Backend",id:"backend-1",level:4},{value:"Frontend",id:"frontend-1",level:4}],p={toc:s};function m(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"requisitos"},"Requisitos"),(0,r.kt)("h3",{id:"sistema-operativo"},"Sistema Operativo"),(0,r.kt)("p",null,"Todos los principales sistemas operativos, incluyendo Windows, Linux y macOS, son compatibles."),(0,r.kt)("h3",{id:"entorno"},"Entorno"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://go.dev/dl/"},"Go 1.21+")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org"},"Node.js LTS (20)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://classic.yarnpkg.com/en/docs/install"},"Yarn 1.x"))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Sugerimos encarecidamente utilizar ",(0,r.kt)("a",{parentName:"p",href:"https://classic.yarnpkg.com/en/docs/install"},"Yarn 1.x")," para ejecutar y construir el frontend de Casdoor. Usar NPM podr\xeda causar problemas de estilo de la interfaz de usuario. Para m\xe1s detalles, ver: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/issues/294"},"casdoor#294"),".")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Si tu red no logra sincronizar directamente los paquetes de dependencia de Go con \xe9xito, necesitas usar un proxy de Go configurando la variable de entorno GOPROXY. Recomendamos encarecidamente utilizar: ",(0,r.kt)("a",{parentName:"p",href:"https://goproxy.cn/"},"https://goproxy.cn/"))),(0,r.kt)("h3",{id:"base-de-datos"},"Base de datos"),(0,r.kt)("p",null,"Casdoor utiliza ",(0,r.kt)("a",{parentName:"p",href:"https://xorm.io/"},"XORM")," para comunicarse con la base de datos. Based on ",(0,r.kt)("a",{parentName:"p",href:"https://xorm.io/docs/chapter-01/readme/"},"Xorm Drivers Support"),", Casdoor currently provides support for the following databases:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MySQL")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MariaDB")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PostgreSQL")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CockroachDB")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SQL Server")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Oracle")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SQLite 3")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TiDB"))),(0,r.kt)("h2",{id:"descargar"},"Descargar"),(0,r.kt)("p",null,"El c\xf3digo fuente de Casdoor est\xe1 alojado en GitHub: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor"},"https://github.com/casdoor/casdoor"),". Tanto el c\xf3digo backend de Go como el c\xf3digo frontend de React est\xe1n contenidos en un solo repositorio."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Nombre"),(0,r.kt)("th",{parentName:"tr",align:null},"Descripci\xf3n"),(0,r.kt)("th",{parentName:"tr",align:null},"Idioma"),(0,r.kt)("th",{parentName:"tr",align:null},"C\xf3digo fuente"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Frontend"),(0,r.kt)("td",{parentName:"tr",align:null},"Interfaz de usuario frontend web para Casdoor"),(0,r.kt)("td",{parentName:"tr",align:null},"JavaScript + React"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor/tree/master/web"},"https://github.com/casdoor/casdoor/tree/master/web"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Backend"),(0,r.kt)("td",{parentName:"tr",align:null},"Backend API RESTful para Casdoor"),(0,r.kt)("td",{parentName:"tr",align:null},"Golang + Beego + XORM"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor"},"https://github.com/casdoor/casdoor"))))),(0,r.kt)("p",null,"Casdoor soporta ",(0,r.kt)("inlineCode",{parentName:"p"},"Go Modules"),". Para descargar el c\xf3digo, simplemente clona el c\xf3digo usando git:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"cd path/to/folder\ngit clone https://github.com/casdoor/casdoor\n")),(0,r.kt)("h2",{id:"configuraci\xf3n"},"Configuraci\xf3n"),(0,r.kt)("h3",{id:"configurar-base-de-datos"},"Configurar Base de Datos"),(0,r.kt)("p",null,"Casdoor soporta MySQL, MSSQL, SQLite3 y PostgreSQL. Por defecto, Casdoor utiliza MySQL."),(0,r.kt)("h4",{id:"mysql"},"MySQL"),(0,r.kt)("p",null,"Casdoor almacena informaci\xf3n de usuarios, nodos y temas en una base de datos MySQL llamada ",(0,r.kt)("inlineCode",{parentName:"p"},"casdoor"),". Si la base de datos no existe, debe ser creada manualmente. La cadena de conexi\xf3n de la DB se puede especificar en: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},"https://github.com/casdoor/casdoor/blob/master/conf/app.conf")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"driverName = mysql\ndataSourceName = root:123456@tcp(localhost:3306)/\ndbName = casdoor\n")),(0,r.kt)("h4",{id:"postgresql"},"PostgreSQL"),(0,r.kt)("p",null,"Antes de ejecutar Casdoor, necesitas preparar manualmente una base de datos para PostgreSQL, ya que Casdoor requiere seleccionar una base de datos al abrir Postgres con xorm."),(0,r.kt)("p",null,"Suponiendo que ya has preparado una base de datos llamada ",(0,r.kt)("inlineCode",{parentName:"p"},"casdoor"),", deber\xedas especificar ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf")," de esta manera:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"driverName = postgres\ndataSourceName = user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor\ndbName = casdoor\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"Para PostgreSQL, aseg\xfarese de que ",(0,r.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dataSourceName")," tenga un ",(0,r.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dbName")," no vac\xedo y tambi\xe9n ",(0,r.kt)("a",{parentName:"mdxAdmonitionTitle",href:"https://github.com/casdoor/casdoor/issues/2127"},"duplique")," el nombre de la base de datos para el campo ",(0,r.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dbname")," como se muestra en el ejemplo anterior. :::"),(0,r.kt)("h4",{parentName:"admonition",id:"cockroachdb"},"CockroachDB"),(0,r.kt)("p",{parentName:"admonition"},"CockroachDB tambi\xe9n se puede utilizar con el controlador de PostgreSQL y tiene la misma configuraci\xf3n que PostgreSQL."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"driverName = postgres\ndataSourceName = user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor serial_normalization=virtual_sequence\ndbName = casdoor\n"))),(0,r.kt)("h4",{id:"sqlite3"},"SQLite3"),(0,r.kt)("p",null,"Para configurar SQLite3, deber\xedas especificar ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf")," de esta manera:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"driverName = sqlite\ndataSourceName = file:casdoor.db?cache=shared\ndbName = casdoor\n")),(0,r.kt)("h3",{id:"a-trav\xe9s-de-archivo-ini"},"A trav\xe9s de archivo Ini"),(0,r.kt)("p",null,"Casdoor can be configured via a single file: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},(0,r.kt)("strong",{parentName:"a"},"conf/app.conf")),". As a beginner, you only need to modify ",(0,r.kt)("inlineCode",{parentName:"p"},"driverName")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"dataSourceName")," based on your database (see ",(0,r.kt)("a",{parentName:"p",href:"#configure-database"},"Configure Database"),"). Below is a complete reference of all configuration options:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"appname")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"casdoor")),(0,r.kt)("td",{parentName:"tr",align:null},"Application name (currently has no practical use)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"httpport")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"8000")),(0,r.kt)("td",{parentName:"tr",align:null},"Port that the backend application listens on")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"runmode")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"dev")),(0,r.kt)("td",{parentName:"tr",align:null},"Running mode: ",(0,r.kt)("inlineCode",{parentName:"td"},"dev")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"prod"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"copyrequestbody")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to copy request body for later use")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"driverName")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mysql")),(0,r.kt)("td",{parentName:"tr",align:null},"Database driver (e.g., ",(0,r.kt)("inlineCode",{parentName:"td"},"mysql"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"postgres"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"sqlite"),"). See ",(0,r.kt)("a",{parentName:"td",href:"#configure-database"},"Configure Database"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"dataSourceName")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"root:123456@tcp(localhost:3306)/")),(0,r.kt)("td",{parentName:"tr",align:null},"Database connection string. See ",(0,r.kt)("a",{parentName:"td",href:"#configure-database"},"Configure Database"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"dbName")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"casdoor")),(0,r.kt)("td",{parentName:"tr",align:null},"Database name used by Casdoor")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"tableNamePrefix")),(0,r.kt)("td",{parentName:"tr",align:null},"(empty)"),(0,r.kt)("td",{parentName:"tr",align:null},"Prefix for table names when using an adapter")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"showSql")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Show SQL statements in logger when log level is greater than INFO")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"redisEndpoint")),(0,r.kt)("td",{parentName:"tr",align:null},"(empty)"),(0,r.kt)("td",{parentName:"tr",align:null},"Redis endpoint for session storage (e.g., ",(0,r.kt)("inlineCode",{parentName:"td"},"localhost:6379"),"). If empty, sessions are stored locally in ",(0,r.kt)("inlineCode",{parentName:"td"},"./tmp"),". For password: ",(0,r.kt)("inlineCode",{parentName:"td"},"host:port,db,password"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"defaultStorageProvider")),(0,r.kt)("td",{parentName:"tr",align:null},"(empty)"),(0,r.kt)("td",{parentName:"tr",align:null},"Default storage provider name for file uploads (e.g., avatars). See ",(0,r.kt)("a",{parentName:"td",href:"/docs/provider/storage/overview"},"storage"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"isCloudIntranet")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether provider endpoints use intranet addresses")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"authState")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"casdoor"')),(0,r.kt)("td",{parentName:"tr",align:null},"Authorization application name checked during login")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"socks5Proxy")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"127.0.0.1:10808"')),(0,r.kt)("td",{parentName:"tr",align:null},"SOCKS5 proxy address for OAuth providers (Google, GitHub, etc.) that may be blocked")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"verificationCodeTimeout")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"10")),(0,r.kt)("td",{parentName:"tr",align:null},"Verification code expiration time in minutes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"initScore")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"0")),(0,r.kt)("td",{parentName:"tr",align:null},"Initial score assigned to new users (used by Casnode, not Casdoor)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"logPostOnly")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to log only POST requests")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"isUsernameLowered")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to convert usernames to lowercase")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"origin")),(0,r.kt)("td",{parentName:"tr",align:null},"(empty)"),(0,r.kt)("td",{parentName:"tr",align:null},"Backend origin URL (e.g., ",(0,r.kt)("inlineCode",{parentName:"td"},"https://door.casdoor.com"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"originFrontend")),(0,r.kt)("td",{parentName:"tr",align:null},"(empty)"),(0,r.kt)("td",{parentName:"tr",align:null},"Frontend origin URL if different from backend")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"staticBaseUrl")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"https://cdn.casbin.org"')),(0,r.kt)("td",{parentName:"tr",align:null},"CDN URL for static assets used during database initialization")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"isDemoMode")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Enable demo mode restrictions")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batchSize")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"100")),(0,r.kt)("td",{parentName:"tr",align:null},"Batch size for bulk operations")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"enableErrorMask")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to mask detailed error messages")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"enableGzip")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:null},"Accept and respond with gzip encoding when client supports it")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"inactiveTimeoutMinutes")),(0,r.kt)("td",{parentName:"tr",align:null},"(empty)"),(0,r.kt)("td",{parentName:"tr",align:null},"Auto-logout timeout in minutes. Empty or \u22640 means no timeout")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ldapServerPort")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"389")),(0,r.kt)("td",{parentName:"tr",align:null},"Port for LDAP server")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ldapsCertId")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'""')),(0,r.kt)("td",{parentName:"tr",align:null},"Certificate ID for LDAPS connections")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ldapsServerPort")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"636")),(0,r.kt)("td",{parentName:"tr",align:null},"Port for LDAPS (LDAP over SSL) server")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"radiusServerPort")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1812")),(0,r.kt)("td",{parentName:"tr",align:null},"Port for RADIUS server")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"radiusDefaultOrganization")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"built-in"')),(0,r.kt)("td",{parentName:"tr",align:null},"Default organization for RADIUS authentication")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"radiusSecret")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"secret"')),(0,r.kt)("td",{parentName:"tr",align:null},"Shared secret for RADIUS authentication")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"quota")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'{"organization": -1, "user": -1, "application": -1, "provider": -1}')),(0,r.kt)("td",{parentName:"tr",align:null},"Resource quotas (-1 means unlimited)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"logConfig")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'{"adapter":"file", "filename": "logs/casdoor.log", "maxdays":99999, "perm":"0770"}')),(0,r.kt)("td",{parentName:"tr",align:null},"Logging configuration (adapter, file path, rotation, permissions)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"initDataNewOnly")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false")),(0,r.kt)("td",{parentName:"tr",align:null},"Whether to initialize data only for new installations")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"initDataFile")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"./init_data.json"')),(0,r.kt)("td",{parentName:"tr",align:null},"Path to data initialization file. See ",(0,r.kt)("a",{parentName:"td",href:"/docs/deployment/data-initialization"},"Data Initialization"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"frontendBaseDir")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},'"../cc_0"')),(0,r.kt)("td",{parentName:"tr",align:null},"Base directory for frontend files (only for development)")))),(0,r.kt)("h3",{id:"a-trav\xe9s-de-variables-de-entorno"},"A trav\xe9s de Variables de Entorno"),(0,r.kt)("p",null,"Todos los elementos de configuraci\xf3n definidos por Casdoor en el archivo ini mencionado anteriormente se pueden configurar a trav\xe9s de variables de entorno, as\xed como algunos de los elementos de configuraci\xf3n de beego (httpport, appname)."),(0,r.kt)("p",null,"Por ejemplo, cuando intentas iniciar Casdoor, puedes usar algo como esto para pasar la configuraci\xf3n a trav\xe9s de variables de entorno:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"appname=casbin go run main.go\n")),(0,r.kt)("p",null,"Adem\xe1s, los derivados de ",(0,r.kt)("inlineCode",{parentName:"p"},"export")," tambi\xe9n son un m\xe9todo posible. Los nombres de las variables ambientales deben coincidir exactamente con los nombres que deseas utilizar en el archivo ini."),(0,r.kt)("p",null,"Nota: las configuraciones en variables ambientales pueden sobrescribir las configuraciones en el archivo ini."),(0,r.kt)("h2",{id:"ejecutar"},"Ejecutar"),(0,r.kt)("p",null,"Actualmente hay dos m\xe9todos para iniciar, y puedes elegir uno seg\xfan tu situaci\xf3n."),(0,r.kt)("h3",{id:"modo-de-desarrollo"},"Modo de Desarrollo"),(0,r.kt)("h4",{id:"backend"},"Backend"),(0,r.kt)("p",null,"El backend de Go de Casdoor se ejecuta en el puerto 8000 por defecto. Puedes iniciar el backend de Go con el siguiente comando:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"go run main.go\n")),(0,r.kt)("p",null,"Despu\xe9s de que el servidor est\xe9 funcionando con \xe9xito, puedes iniciar la parte frontend."),(0,r.kt)("h4",{id:"frontend"},"Frontend"),(0,r.kt)("p",null,"El frontend de Casdoor es un proyecto muy cl\xe1sico de ",(0,r.kt)("a",{parentName:"p",href:"https://create-react-app.dev/"},(0,r.kt)("strong",{parentName:"a"},"Create-React-App (CRA)")),". Se ejecuta en el puerto ",(0,r.kt)("inlineCode",{parentName:"p"},"7001")," por defecto. Usa los siguientes comandos para ejecutar el frontend:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd web\nyarn install\nyarn start\n")),(0,r.kt)("p",null,"Visita ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:7001"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:7001"))," en tu navegador. Inicie sesi\xf3n en el panel de Casdoor con la cuenta de administrador global predeterminada: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("h3",{id:"modo-producci\xf3n"},"Modo Producci\xf3n"),(0,r.kt)("h4",{id:"backend-1"},"Backend"),(0,r.kt)("p",null,"Construya el c\xf3digo del backend de Casdoor Go en un ejecutable e in\xedcielo."),(0,r.kt)("p",null,"Para Linux:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"go build\n./casdoor\n")),(0,r.kt)("p",null,"Para Windows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"go build\ncasdoor.exe\n")),(0,r.kt)("h4",{id:"frontend-1"},"Frontend"),(0,r.kt)("p",null,"Construya el c\xf3digo del frontend de Casdoor en recursos est\xe1ticos (archivos .html, .js, .css):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd web\nyarn install\nyarn build\n")),(0,r.kt)("p",null,"Visite ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:8000"))," en su navegador. Inicie sesi\xf3n en el panel de Casdoor con la cuenta de administrador global predeterminada: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Para usar otro puerto, por favor edite ",(0,r.kt)("inlineCode",{parentName:"p"},"conf/app.conf")," y modifique ",(0,r.kt)("inlineCode",{parentName:"p"},"httpport"),", luego reinicie el backend de Go.")),(0,r.kt)("admonition",{title:"Detalles del Puerto de Casdoor",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"En el entorno ",(0,r.kt)("strong",{parentName:"p"},"dev"),", el frontend se ejecuta por ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn run")," en el puerto 7001, as\xed que si quiere ir a la p\xe1gina de inicio de sesi\xf3n de Casdoor, necesita configurar el enlace de Casdoor como ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"http://localhost:7001"},"http://localhost:7001")),"."),(0,r.kt)("p",{parentName:"admonition"},"En el entorno ",(0,r.kt)("strong",{parentName:"p"},"prod"),", los archivos del frontend se construyen primero por ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn build")," y se sirven en el puerto 8000, as\xed que si quiere ir a la p\xe1gina de inicio de sesi\xf3n de Casdoor, necesita configurar el enlace de Casdoor como ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://your-casdoor-url.com:8000"},"https://your-casdoor-url.com:8000"))," (Si est\xe1 utilizando un proxy inverso, necesita configurar el enlace como ",(0,r.kt)("strong",{parentName:"p"},"su dominio"),")."),(0,r.kt)("h4",{parentName:"admonition",id:"tome-nuestro-foro-oficial-casnode-como-ejemplo"},"Tome Nuestro Foro Oficial Casnode como Ejemplo"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{parentName:"p",href:"https://casnode.org"},"Casnode")," utiliza Casdoor para manejar la autenticaci\xf3n."),(0,r.kt)("p",{parentName:"admonition"},"Cuando estamos probando Casnode en el entorno ",(0,r.kt)("strong",{parentName:"p"},"dev"),", configuramos el ",(0,r.kt)("inlineCode",{parentName:"p"},"serverUrl")," como ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:7001"},"http://localhost:7001"),", as\xed que cuando probamos la funcionalidad de inicio de sesi\xf3n y registro usando Casdoor, ir\xe1 a localhost 7001, que es el puerto de Casdoor."),(0,r.kt)("p",{parentName:"admonition"},"Y cuando ponemos Casnode en el entorno ",(0,r.kt)("strong",{parentName:"p"},"prod"),", configuramos el ",(0,r.kt)("inlineCode",{parentName:"p"},"serverUrl")," como ",(0,r.kt)("a",{parentName:"p",href:"https://door.casdoor.com"},"https://door.casdoor.com"),", as\xed los usuarios pueden iniciar sesi\xf3n o registrarse usando Casdoor."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("img",{alt:"Ejemplo de Casnode",src:a(4621).Z,width:"1108",height:"281"}))))}m.isMDXComponent=!0},4621:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/casnodeexample-06892ab1a66c35c830aa85d51c8f75ed.png"}}]);