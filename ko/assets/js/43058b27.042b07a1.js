"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[21],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>d});var i=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,i,r=function(e,t){if(null==e)return{};var a,i,r={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=i.createContext({}),s=function(e){var t=i.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var a=e.components,r=e.mdxType,n=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=s(a),d=r,k=m["".concat(c,".").concat(d)]||m[d]||u[d]||n;return a?i.createElement(k,o(o({ref:t},p),{},{components:a})):i.createElement(k,o({ref:t},p))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var n=a.length,o=new Array(n);o[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<n;s++)o[s]=a[s];return i.createElement.apply(null,o)}return i.createElement.apply(null,a)}m.displayName="MDXCreateElement"},39435:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>n,metadata:()=>l,toc:()=>s});var i=a(87462),r=(a(67294),a(3905));const n={title:"Overview",description:"Managing Certificates in Casdoor",keywords:["cert","certificate","JWT","RSA","SAML","payment"],authors:["copilot"]},o=void 0,l={unversionedId:"cert/overview",id:"cert/overview",title:"Overview",description:"Managing Certificates in Casdoor",source:"@site/i18n/ko/docusaurus-plugin-content-docs/current/cert/overview.md",sourceDirName:"cert",slug:"/cert/overview",permalink:"/ko/docs/cert/overview",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/cert/overview.md",tags:[],version:"current",frontMatter:{title:"Overview",description:"Managing Certificates in Casdoor",keywords:["cert","certificate","JWT","RSA","SAML","payment"],authors:["copilot"]},sidebar:"tutorialSidebar",previous:{title:"Certificates",permalink:"/ko/docs/category/certificates"},next:{title:"Tokens",permalink:"/ko/docs/category/tokens"}},c={},s=[{value:"Certificate Properties",id:"certificate-properties",level:2},{value:"Certificate Scopes",id:"certificate-scopes",level:2},{value:"JWT Certificates",id:"jwt-certificates",level:3},{value:"SAML Certificates",id:"saml-certificates",level:3},{value:"Payment Certificates",id:"payment-certificates",level:3},{value:"Creating a Certificate",id:"creating-a-certificate",level:2},{value:"Using Certificates",id:"using-certificates",level:2},{value:"In Applications",id:"in-applications",level:3},{value:"In SDK Configuration",id:"in-sdk-configuration",level:3},{value:"In Payment Providers",id:"in-payment-providers",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Certificate Management",id:"certificate-management",level:2}],p={toc:s};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Certificates (Certs) in Casdoor are used for signing and verifying tokens, as well as for securing communications in various integrations. They contain cryptographic keys that are essential for authentication and encryption processes."),(0,r.kt)("h2",{id:"certificate-properties"},"Certificate Properties"),(0,r.kt)("p",null,"Each certificate in Casdoor has the following properties:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Owner"),": The organization that owns the certificate"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Name"),": The unique name of the certificate"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"CreatedTime"),": When the certificate was created"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"DisplayName"),": A human-readable name for the certificate"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Scope"),": The scope of the certificate (e.g., ",(0,r.kt)("inlineCode",{parentName:"li"},"JWT"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"SAML"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Payment"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Type"),": The type of certificate (e.g., ",(0,r.kt)("inlineCode",{parentName:"li"},"x509"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"Payment"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"CryptoAlgorithm"),": The cryptographic algorithm used (e.g., ",(0,r.kt)("inlineCode",{parentName:"li"},"RS256"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"RSA"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"BitSize"),": The key size in bits (e.g., 2048, 4096)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ExpireInYears"),": The expiration period of the certificate in years"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Certificate"),": The public certificate content"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"PrivateKey"),": The private key content (stored securely)")),(0,r.kt)("h2",{id:"certificate-scopes"},"Certificate Scopes"),(0,r.kt)("p",null,"Certificates in Casdoor serve different purposes based on their scope:"),(0,r.kt)("h3",{id:"jwt-certificates"},"JWT Certificates"),(0,r.kt)("p",null,"JWT certificates are used to sign and verify JSON Web Tokens (JWT) for authentication. When a user logs in through Casdoor, the access token is signed using the private key of the JWT certificate."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Use cases:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Signing access tokens for OAuth/OIDC authentication"),(0,r.kt)("li",{parentName:"ul"},"Verifying tokens in backend applications"),(0,r.kt)("li",{parentName:"ul"},"Securing API communications")),(0,r.kt)("p",null,"The JWT public key is required when configuring Casdoor SDK in your application. You can find and download the public key from the certificate edit page."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Certs Management",src:a(59351).Z,width:"2532",height:"403"})),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Certs Edit",src:a(17793).Z,width:"2383",height:"1191"})),(0,r.kt)("p",null,"Once you have created a JWT certificate, you can select it in your application settings:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Certs Select",src:a(31452).Z,width:"2512",height:"1170"})),(0,r.kt)("h3",{id:"saml-certificates"},"SAML Certificates"),(0,r.kt)("p",null,"SAML certificates are used for signing and encrypting SAML assertions in Single Sign-On (SSO) integrations."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Use cases:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"SAML-based SSO integrations"),(0,r.kt)("li",{parentName:"ul"},"Signing SAML responses"),(0,r.kt)("li",{parentName:"ul"},"Encrypting SAML assertions for security")),(0,r.kt)("p",null,"When configuring SAML, you need to create certificates for both the Identity Provider (IdP) and Service Provider (SP) to ensure secure communication."),(0,r.kt)("p",null,"For more information about SAML configuration, see the ",(0,r.kt)("a",{parentName:"p",href:"/docs/how-to-connect/saml/overview"},"SAML documentation"),"."),(0,r.kt)("h3",{id:"payment-certificates"},"Payment Certificates"),(0,r.kt)("p",null,"Payment certificates are used to secure payment transactions with payment providers like Alipay and WeChat Pay."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Use cases:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Securing API communications with payment gateways"),(0,r.kt)("li",{parentName:"ul"},"Signing payment requests"),(0,r.kt)("li",{parentName:"ul"},"Verifying payment callbacks")),(0,r.kt)("p",null,"For example, when integrating with Alipay, you need to create certificates for:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"App Cert"),": Contains the application's public certificate and private key"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Root Cert"),": Contains the payment provider's certificates")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Alipay App Cert",src:a(28736).Z,width:"3544",height:"1631"})),(0,r.kt)("p",null,"For more details, refer to the ",(0,r.kt)("a",{parentName:"p",href:"/docs/provider/payment/Alipay"},"Alipay Payment Provider")," and ",(0,r.kt)("a",{parentName:"p",href:"/docs/provider/payment/WeChatPay"},"WeChat Pay Provider")," documentation."),(0,r.kt)("h2",{id:"creating-a-certificate"},"Creating a Certificate"),(0,r.kt)("p",null,"To create a new certificate in Casdoor:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Navigate to the ",(0,r.kt)("strong",{parentName:"li"},"Certs")," page in the Casdoor admin console"),(0,r.kt)("li",{parentName:"ol"},"Click the ",(0,r.kt)("strong",{parentName:"li"},"Add")," button to create a new certificate"),(0,r.kt)("li",{parentName:"ol"},"Fill in the required fields:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Name"),": A unique identifier for the certificate"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Display Name"),": A human-readable name"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Scope"),": Select the appropriate scope (JWT, SAML, Payment)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Type"),": Select the certificate type"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Crypto Algorithm"),": Choose the cryptographic algorithm (e.g., RS256 for JWT)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Bit Size"),": Set the key size (typically 2048 or 4096 bits)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Expire In Years"),": Set the expiration period"))),(0,r.kt)("li",{parentName:"ol"},"You can either:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Generate a new certificate automatically by saving the form"),(0,r.kt)("li",{parentName:"ul"},"Upload an existing certificate and private key")))),(0,r.kt)("h2",{id:"using-certificates"},"Using Certificates"),(0,r.kt)("h3",{id:"in-applications"},"In Applications"),(0,r.kt)("p",null,"After creating a JWT certificate, you need to associate it with your application:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Go to the ",(0,r.kt)("strong",{parentName:"li"},"Applications")," page"),(0,r.kt)("li",{parentName:"ol"},"Edit your application"),(0,r.kt)("li",{parentName:"ol"},"In the ",(0,r.kt)("strong",{parentName:"li"},"Cert")," field, select the certificate you created"),(0,r.kt)("li",{parentName:"ol"},"Save the application")),(0,r.kt)("p",null,"The certificate will now be used to sign all tokens issued by that application."),(0,r.kt)("h3",{id:"in-sdk-configuration"},"In SDK Configuration"),(0,r.kt)("p",null,"When configuring Casdoor SDK in your backend application, you need to provide the public key from the JWT certificate:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},'var CasdoorEndpoint = "https://door.casdoor.com"\nvar ClientId = "541738959670d221d59d"\nvar ClientSecret = "66863369a64a5863827cf949bab70ed560ba24bf"\nvar CasdoorOrganization = "casbin"\nvar CasdoorApplication = "app-casnode"\n\n//go:embed token_jwt_key.pem\nvar JwtPublicKey string\n\nfunc init() {\n    auth.InitConfig(CasdoorEndpoint, ClientId, ClientSecret, JwtPublicKey, CasdoorOrganization, CasdoorApplication)\n}\n')),(0,r.kt)("p",null,"You can download the public key from the certificate edit page in Casdoor."),(0,r.kt)("p",null,"For more information about SDK configuration, see the ",(0,r.kt)("a",{parentName:"p",href:"/docs/how-to-connect/sdk"},"SDK documentation"),"."),(0,r.kt)("h3",{id:"in-payment-providers"},"In Payment Providers"),(0,r.kt)("p",null,"When setting up payment providers, you need to configure the appropriate certificates:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create the required certificates (e.g., App Cert and Root Cert for Alipay)"),(0,r.kt)("li",{parentName:"ol"},"Go to the ",(0,r.kt)("strong",{parentName:"li"},"Providers")," page"),(0,r.kt)("li",{parentName:"ol"},"Edit or create your payment provider"),(0,r.kt)("li",{parentName:"ol"},"In the ",(0,r.kt)("strong",{parentName:"li"},"Cert")," field, select the certificate you created"),(0,r.kt)("li",{parentName:"ol"},"Save the provider")),(0,r.kt)("h2",{id:"best-practices"},"Best Practices"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Key Size"),": Use at least 2048-bit keys for RSA certificates. For higher security, consider 4096-bit keys."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Expiration"),": Set appropriate expiration periods. For production environments, 1-5 years is typical."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Security"),": Keep private keys secure and never expose them in client-side code or public repositories."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Rotation"),": Regularly rotate certificates before they expire to maintain security."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Backup"),": Keep secure backups of your certificates and private keys."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Separate Certificates"),": Use different certificates for different purposes (JWT, SAML, Payment) to limit the impact of potential key compromise.")),(0,r.kt)("h2",{id:"certificate-management"},"Certificate Management"),(0,r.kt)("p",null,"You can manage certificates through:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Web UI"),": The Casdoor admin console provides a user-friendly interface for certificate management"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"API"),": Use the ",(0,r.kt)("a",{parentName:"li",href:"https://door.casdoor.com/swagger/"},"Casdoor REST API")," to programmatically manage certificates"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Data Initialization"),": Certificates can be included in initialization files for automated deployments")),(0,r.kt)("p",null,"For more information about data initialization, see the ",(0,r.kt)("a",{parentName:"p",href:"/docs/deployment/data-initialization"},"Data Initialization documentation"),"."))}u.isMDXComponent=!0},17793:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/howto_cert_edit-81b9d2d22373bef5304e8d44a4599307.png"},59351:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/howto_cert_list-d390f783cfbe9a70ce462bcefad9044b.png"},31452:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/howto_cert_select-bec6aa4df2dd44530cd1c54fd5838595.png"},28736:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/alipay_app_cert-b9a9d3d357b9b43e9c24e362e21a413d.png"}}]);