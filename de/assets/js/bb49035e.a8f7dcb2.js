(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[2415],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),l=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),c=l(n),m=r,k=c["".concat(s,".").concat(m)]||c[m]||u[m]||i;return n?a.createElement(k,o(o({ref:t},p),{},{components:n})):a.createElement(k,o({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=c;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d.mdxType="string"==typeof e?e:r,o[1]=d;for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4531:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return d},contentTitle:function(){return s},metadata:function(){return l},toc:function(){return p},default:function(){return c}});var a=n(4034),r=n(9973),i=(n(7294),n(3905)),o=["components"],d={sidebar_position:3,title:"Frontend & Backend SDK Setup"},s=void 0,l={unversionedId:"basic/SDKs",id:"basic/SDKs",isDocsHomePage:!1,title:"Frontend & Backend SDK Setup",description:"Einf\xfchrung",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/basic/SDKs.md",sourceDirName:"basic",slug:"/basic/SDKs",permalink:"/de/docs/basic/SDKs",editUrl:"https://github.com/casdoor/casdoor-website/tree/master/docs/basic/SDKs.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Frontend & Backend SDK Setup"},sidebar:"tutorialSidebar",previous:{title:"Casdoor Public API",permalink:"/de/docs/basic/public-api"},next:{title:"Frontend",permalink:"/de/docs/developer-guide/frontend"}},p=[{value:"Einf\xfchrung",id:"einf\xfchrung",children:[],level:2}],u={toc:p};function c(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"einf\xfchrung"},"Einf\xfchrung"),(0,i.kt)("p",null,"Als Service Provider (SP) unterst\xfctzt Casdoor zwei Authentifizierungsprotokolle:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"OAuth 2.0 (OIDC)")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"SAML"))),(0,i.kt)("p",null,"Als Identity Provider (IdP) unterst\xfctzt Casdoor ein Authentifizierungsprotokoll:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"OAuth 2.0 (OIDC)"))),(0,i.kt)("p",null,"Wenn Ihre Anwendung Casdoor als Identity Provider verwendet, werden diese \xfcber OIDC verbunden. Casdoor erf\xfcllt den OIDC-Standard vollst\xe4ndig. Als Anwendungsentwickler k\xf6nnen Sie jederzeit eine Standard-OIDC-Client-Bibliothek f\xfcr Ihre Sprache verwenden, um sich mit Casdoor zu verbinden. Allerdings, wir bieten auch eine Reihe von Casdoor SDKs f\xfcr popul\xe4re Sprachen zur Vereinfachung der OIDC-Interaktion und bieten einfach zu bedienende Wrapper f\xfcr ",(0,i.kt)("inlineCode",{parentName:"p"},"Casdoor Public API")," an."),(0,i.kt)("p",null,"Um Casdoor nutzen zu k\xf6nnen, m\xfcssen Sie sowohl das Frontend SDK als auch das Backend SDK integrieren. Casdoor unterst\xfctzt die Authentifizierung sowohl f\xfcr Web- als auch f\xfcr mobile Anwendungen."),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),", wenn Ihre Web-Anwendung in Frontend und Backend getrennt entwickelt wurde, dann k\xf6nnen Sie das Javascript SDK verwenden: ",(0,i.kt)("inlineCode",{parentName:"h5"},"casdoor-js-sdk")," um Casdoor in das Frontend zu integrieren. Wenn Ihre Webapplikation eine traditionelle Website ist, die von JSP oder PHP entwickelt wurde, k\xf6nnen Sie nur die Backend SDKs verwenden. :::")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("table",{parentName:"div"},(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Frontend SDK"),(0,i.kt)("th",{parentName:"tr",align:null},"Beschreibung"),(0,i.kt)("th",{parentName:"tr",align:null},"Quellcode"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Javascript-SDK"),(0,i.kt)("td",{parentName:"tr",align:null},"F\xfcr Web-Apps (Webseiten)"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://de.github.com/casdoor/casdoor-js-sdk"},"https://de.github.com/casdoor/casdoor-js-sdk"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Android-SDK"),(0,i.kt)("td",{parentName:"tr",align:null},"F\xfcr Android Apps"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://de.github.com/casdoor/casdoor-android-sdk"},"https://de.github.com/casdoor/casdoor-android-sdk"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"iOS SDK"),(0,i.kt)("td",{parentName:"tr",align:null},"F\xfcr iOS-Apps"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://de.github.com/casdoor/casdoor-ios-sdk"},"https://de.github.com/casdoor/casdoor-ios-sdk"))))),(0,i.kt)("p",{parentName:"div"},"Als n\xe4chstes verwenden Sie eines der folgenden Backend-SDKs basierend auf der Sprache Ihres Backend-Code:"),(0,i.kt)("table",{parentName:"div"},(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Backend SDK"),(0,i.kt)("th",{parentName:"tr",align:null},"Quellcode"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"SDK gehen"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://de.github.com/casdoor/casdoor-go-sdk"},"https://de.github.com/casdoor/casdoor-go-sdk"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Java SDK"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://de.github.com/casdoor/casdoor-java-sdk"},"https://de.github.com/casdoor/casdoor-java-sdk"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Node.js SDK"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://de.github.com/casdoor/casdoor-nodejs-sdk"},"https://de.github.com/casdoor/casdoor-nodejs-sdk"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Python SDK"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://de.github.com/casdoor/casdoor-python-sdk"},"https://de.github.com/casdoor/casdoor-python-sdk"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"PHP SDK"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://de.github.com/casdoor/casdoor-php-sdk"},"https://de.github.com/casdoor/casdoor-php-sdk"))))),(0,i.kt)("p",{parentName:"div"},"In diesem Kapitel zeigen wir Ihnen, wie Sie diese SDKs verwenden, also die grundlegenden / allgemeinen Schritte f\xfcr die Verwendung dieser SDKs."),(0,i.kt)("h2",{parentName:"div",id:"wie-man-einrichtet"},"Wie man einrichtet"),(0,i.kt)("h3",{parentName:"div",id:"1-initialisierung"},"1. Initialisierung"),(0,i.kt)("p",{parentName:"div"},"Der erste Schritt besteht darin, sich mit dem Casdoor-Server in Verbindung zu setzen. Sie m\xfcssen die Adresse des Casdoor-Servers angeben, die Credential ClientId und ClientSecret der Anwendung, das jwt-Geheimnis und der Name der Organisation, in der sich die Anwendung befindet, die alle String-Typen sind."),(0,i.kt)("p",{parentName:"div"},"Ungef\xe4hr so:"),(0,i.kt)("table",{parentName:"div"},(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Name (in Reihenfolge)"),(0,i.kt)("th",{parentName:"tr",align:null},"Muss"),(0,i.kt)("th",{parentName:"tr",align:null},"Beschreibung"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"endpoint"),(0,i.kt)("td",{parentName:"tr",align:null},"Ja"),(0,i.kt)("td",{parentName:"tr",align:null},"Casdoor Server Url, wie ",(0,i.kt)("inlineCode",{parentName:"td"},"http://localhost:8000"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"clientId"),(0,i.kt)("td",{parentName:"tr",align:null},"Ja"),(0,i.kt)("td",{parentName:"tr",align:null},"Anwendung.client_id")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"clientSecret"),(0,i.kt)("td",{parentName:"tr",align:null},"Ja"),(0,i.kt)("td",{parentName:"tr",align:null},"Anwendung.client_secret")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"jwtSecret"),(0,i.kt)("td",{parentName:"tr",align:null},"Ja"),(0,i.kt)("td",{parentName:"tr",align:null},"Aus token_jwt_key.pem Datei lesen")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"organisationsname"),(0,i.kt)("td",{parentName:"tr",align:null},"Ja"),(0,i.kt)("td",{parentName:"tr",align:null},"Anwendung.Organisation")))),(0,i.kt)("p",{parentName:"div"},"Die Funktionssignatur in Go \xe4hnelt wie in anderen Sprachen:"),(0,i.kt)("pre",{parentName:"div"},(0,i.kt)("code",{parentName:"pre",className:"language-go"},"func InitConfig(Endpunkt-String, Client-ID-String, clientSecret-String, jwtSecret-String, organizationName string)\n")),(0,i.kt)("p",{parentName:"div"},"Sie k\xf6nnen sich auf die ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casnode/blob/master/controllers/account.go#L32"},"-Nutzung in Casnode")," beziehen,"),(0,i.kt)("pre",{parentName:"div"},(0,i.kt)("code",{parentName:"pre",className:"language-go"},'var CasdoorEndpoint = "http://localhost:8000"\nvar ClientId = "541738959670d221d59d"\nvar ClientSecret = "66863369a64a5863827cf949bab70ed560ba24bf"\nvar JwtSecret = "CasdoorSecret"\nvar CasdoorOrganization = "casbin-forum"\n\nfunc init() {\n    auth. nitConfig(CasdoorEndpoint, ClientId, ClientSecret, JwtSecret, CasdoorOrganization)\n}\n')),(0,i.kt)("p",{parentName:"div"},"Genaueres Verhalten kann sich auf ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-go-sdk"},"die Quellcodes von casdoor-go-sdk")," beziehen."),(0,i.kt)("h3",{parentName:"div",id:"2-sdk-zugriff-auf-casdoor"},"2. SDK Zugriff auf Casdoor"),(0,i.kt)("p",{parentName:"div"},"Bei vorheriger Konfiguration ",(0,i.kt)("inlineCode",{parentName:"p"},"authConfig"),"kann Casdoor SDK jetzt zum Casdoor Server wechseln, um Benutzer zu verifizieren Beachten Sie, dass SDK ",(0,i.kt)("inlineCode",{parentName:"p"},"SetBasicAuth")," Methode in net/http Bibliothek verwendet, um ",(0,i.kt)("inlineCode",{parentName:"p"},"ClientId")," und ",(0,i.kt)("inlineCode",{parentName:"p"},"ClientSecret")," vom Casdoor Server zu erhalten und Benutzer in Ihrer Anwendung zu verifizieren."),(0,i.kt)("p",{parentName:"div"},"Weitere Details entnehmen Sie bitte ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-go-sdk/blob/master/auth/base.go#L42"},"https://github.com/casdoor/casdoor-go-sdk/blob/master/auth/base.go#L42")),(0,i.kt)("h3",{parentName:"div",id:"3-token-und-parsen"},"3. Token und parsen"),(0,i.kt)("p",{parentName:"div"},"Nach Ablauf der casdoor Verifizierung wird sie auf Ihre Anwendung mit Code und Status umgeleitet, wie ",(0,i.kt)("inlineCode",{parentName:"p"},"http://forum.casbin.org?code=xxx&state=yyyy"),"."),(0,i.kt)("p",{parentName:"div"},"Ihre Webanwendung kann den ",(0,i.kt)("inlineCode",{parentName:"p"},"-Code"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Status")," abrufen und ",(0,i.kt)("inlineCode",{parentName:"p"},"GetOAuthToken(Code, Status)"),"aufrufen und dann jwt token parsen."),(0,i.kt)("p",{parentName:"div"},"Siehe ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casnode/blob/master/controllers/auth.go#L36"},"Verwendung in Casnode")," als Referenz:"),(0,i.kt)("pre",{parentName:"div"},(0,i.kt)("code",{parentName:"pre",className:"language-go"},'code := c.Input().Get("code")\nstate := c.Input().Get("state")\n\ntoken, err := auth. etOAuthToken(code, state)\nif err != nil {\n    panic(err)\n}\n\nclaims, err := auth. arseJwtToken(token.AccessToken)\nif err != nil {\n    panic(err)\n}\n')),(0,i.kt)("h3",{parentName:"div",id:"4-setze-session-in-deiner-app"},"4. Setze Session in deiner App"),(0,i.kt)("p",{parentName:"div"},"Sie m\xfcssen die Informationen \xfcberpr\xfcfen, die Sie im dritten Schritt geparst haben. Nachdem es korrekt ist (es kann modifiziert werden), beweist es, dass die Benutzer\xfcberpr\xfcfung vorbei ist, und Sie k\xf6nnen die Sitzung in Ihrer eigenen Anwendung einrichten."),(0,i.kt)("p",{parentName:"div"},(0,i.kt)("strong",{parentName:"p"},"An dieser Stelle ist das Benutzerlogin tats\xe4chlich abgeschlossen"),"."),(0,i.kt)("p",{parentName:"div"},"Die Methode zur Session-Einstellung h\xe4ngt stark von den Sprachen und Frameworks ab casnode verwendet das ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/beego/beego/"},"beego Framework")," und setzt die Session durch Verkapselungsmethode ",(0,i.kt)("inlineCode",{parentName:"p"},"c. etSessionUser()")," , ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casnode/blob/master/controllers/base.go#L44"},"Quellcode"),"."),(0,i.kt)("p",{parentName:"div"},(0,i.kt)("a",{parentName:"p",href:"https://github.com/casbin/casnode/blob/master/controllers/auth.go#L47"},"Nutzung in Kasnode"),","),(0,i.kt)("pre",{parentName:"div"},(0,i.kt)("code",{parentName:"pre",className:"language-go"},"token, err := auth.GetOAuthToken(code, state)\nif err != nil {\n    panic(err)\n}\n\nclaims, err := auth.ParseJwtToken(token. ccessToken)\nif err != nil {\n    panic(err)\n}\n\nclaims. ccessToken = token.AccessToken\nc.SetSessionUser(claims) // hier sehen\n")),(0,i.kt)("p",{parentName:"div"},"Das war's!"),(0,i.kt)("h3",{parentName:"div",id:"5-interagiere-mit-der-benutzertabelle"},"5. Interagiere mit der Benutzertabelle"),(0,i.kt)("p",{parentName:"div"},"M\xf6glicherweise m\xfcssen Sie sich nicht nur einloggen, sondern Sie erhalten auch Benutzerdaten, Aktualisierungsinformationen usw."),(0,i.kt)("p",{parentName:"div"},"Das SDK bietet mehrere Schl\xfcsselfunktionen und Sie m\xfcssen sie detaillierter anpassen oder ein Problem melden!"),(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"GetUser(name string)"),", erhalte einen Benutzer mit Benutzernamen."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"GetUsers()"),", holen Sie alle Benutzer."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"UpdateUser(auth.User)/AddUser(auth.User)/DeleteUser(auth.User)"),", schreibt Benutzer in die Datenbank."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"CheckUserPassword(auth.User)"),", \xfcberpr\xfcfen Sie das Passwort des Benutzers.")))))}c.isMDXComponent=!0}}]);