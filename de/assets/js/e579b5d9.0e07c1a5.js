(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[3369],{3905:function(e,t,o){"use strict";o.d(t,{Zo:function(){return u},kt:function(){return h}});var r=o(7294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var c=r.createContext({}),l=function(e){var t=r.useContext(c),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},u=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var o=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(o),h=n,f=d["".concat(c,".").concat(h)]||d[h]||p[h]||a;return o?r.createElement(f,i(i({ref:t},u),{},{components:o})):r.createElement(f,i({ref:t},u))}));function h(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=o.length,i=new Array(a);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var l=2;l<a;l++)i[l]=o[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,o)}d.displayName="MDXCreateElement"},3376:function(e,t,o){"use strict";o.r(t),o.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return l},toc:function(){return u},default:function(){return d}});var r=o(4034),n=o(9973),a=(o(7294),o(3905)),i=["components"],s={sidebar_position:1,title:"ELK"},c=void 0,l={unversionedId:"integration/elk",id:"integration/elk",isDocsHomePage:!1,title:"ELK",description:"Overview of casdoor/elk-auth-casdoor",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/integration/elk.md",sourceDirName:"integration",slug:"/integration/elk",permalink:"/de/docs/integration/elk",editUrl:"https://github.com/casdoor/casdoor-website/tree/master/docs/integration/elk.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"ELK"},sidebar:"tutorialSidebar",previous:{title:"Spring Security",permalink:"/de/docs/integration/spring-security"},next:{title:"Internationalization",permalink:"/de/docs/internationalization"}},u=[{value:"Overview of casdoor/elk-auth-casdoor",id:"overview-of-casdoorelk-auth-casdoor",children:[],level:3},{value:"How to run it?",id:"how-to-run-it",children:[],level:3}],p={toc:u};function d(e){var t=e.components,o=(0,n.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"overview-of-casdoorelk-auth-casdoor"},"Overview of casdoor/elk-auth-casdoor"),(0,a.kt)("p",null,'One of the biggest dificiency of ELK (Elasticsearch, Logstash and Kibana) is that originally, these products have no authentication mechanism, so that everyone can visit the kibana dashboard as long as he have the url of kibana, or ES urls. Later ELK integrated an embedded authentication system "Xpack", whose all advanced functions  ',(0,a.kt)("strong",{parentName:"p"},"are not free")," (eg. Oauth, OIDC, LDAP, SAML), and only plain authentication (setting a set of accounts and passwords) is free of charge, which is quite incovenient. We cannot just provide a unique account for everyone in a corporation."),(0,a.kt)("p",null,"Therefore, we have developed a elk authentication solution based on Casdoor, ",(0,a.kt)("strong",{parentName:"p"},"free of charge, open source and under maintenance, supporting lots of advanced features"),". Casdoor is a centeralized authentication/ Single-Sign-On platform based on Oauth2.0/OIDC, and casdoor/elk-auth-casdoor is actually a reverse proxy, which is designed to intercept all http data flow toward the elk/kibana, and guides the users who haven't logged in to log in. This reverse proxy is completely transparent as long as the user has logged in."),(0,a.kt)("p",null,"If this user hasn't been correctly authenticated, request will be temporarly cached, and the user will be redirect to Casdoor login page. After user correctly logs in through casdoor, the cached request will be restored and sent to kibana. So it's ok if a POST request (or something other than GET) is intercepted, and user won't need to refill the form and resend the request. The reverse proxy will remember it for you."),(0,a.kt)("p",null,"Location of casdoor/elk-auth-casdoor repository ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casdoor/elk-auth-casdoor"},"https://github.com/casdoor/elk-auth-casdoor")),(0,a.kt)("h3",{id:"how-to-run-it"},"How to run it?"),(0,a.kt)("ol",{start:0},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"have golang environment installed")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"go to ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casdoor/elk-auth-casdoor"},"casdoor/elk-auth-casdoor")," and fetch the code")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"register your proxy as an app of Casdoor.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"modify the configuration"))),(0,a.kt)("p",null,'The configuration file locates in "conf/app.conf". Here is an example, and you should customized changes according to your real demand.'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ini"},'appname = .\n# port on which the reverse proxy shall be run\nhttpport = 8080\nrunmode = dev\n#EDIT IT IF NECESSARY. The url of this reverse proxy\npluginEndpoint="http://localhost:8080"\n#EDIT IT IF NECESSARY. The url of the kibana \ntargetEndpoint="http://localhost:5601"\n#EDIT IT. The url of casdoor \ncasdoorEndpoint="http://localhost:8000"\n#EDIT IT. The clientID of your reverse proxy in casdoor  \nclientID=ceb6eb261ab20174548d\n#EDIT IT. The clientSecret of your reverse proxy in casdoor \nclientSecret=af928f0ef1abc1b1195ca58e0e609e9001e134f4\n#EDIT IT. The application name of your reverse proxy in casdoor \nappName=ELKProxy\n#EDIT IT. The organization to which your reverse proxy belongs in casdoor\norganization=built-in\n')),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"visit ",(0,a.kt)("a",{parentName:"p",href:"http://localhost:8080"},"http://localhost:8080")," (in the example above), and log in following the guidance of redirection, and you shall see kibana protected and authenticated by casdoor.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"If everything works well, don't forget to block the visits of original kibana's port comming from outside by configurating your firewall(or something else), so that outsiders can only visit kibana via this reverse proxy."))))}d.isMDXComponent=!0}}]);