"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[5803],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),l=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(a),m=r,g=d["".concat(c,".").concat(m)]||d[m]||u[m]||i;return a?n.createElement(g,o(o({ref:t},p),{},{components:a})):n.createElement(g,o({ref:t},p))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=a[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},18197:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var n=a(87462),r=(a(67294),a(3905));const i={title:"Transaction",description:"Casdoor Transaction Overview",keywords:["Transaction","Balance"],authors:["Copilot"]},o=void 0,s={unversionedId:"pricing/transaction",id:"pricing/transaction",title:"Transaction",description:"Casdoor Transaction Overview",source:"@site/docs/pricing/transaction.md",sourceDirName:"pricing",slug:"/pricing/transaction",permalink:"/vi/docs/pricing/transaction",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/pricing/transaction.md",tags:[],version:"current",frontMatter:{title:"Transaction",description:"Casdoor Transaction Overview",keywords:["Transaction","Balance"],authors:["Copilot"]},sidebar:"tutorialSidebar",previous:{title:"Subscription",permalink:"/vi/docs/pricing/subscription"},next:{title:"Multi-Factor Authentication",permalink:"/vi/docs/category/multi-factor-authentication"}},c={},l=[{value:"Transaction Categories",id:"transaction-categories",level:2},{value:"Transaction Properties",id:"transaction-properties",level:2},{value:"Balance Tracking",id:"balance-tracking",level:2},{value:"Viewing Transactions",id:"viewing-transactions",level:2}],p={toc:l};function u(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Transaction")," feature tracks financial activities for users and organizations in Casdoor, enabling balance management and transaction history."),(0,r.kt)("p",null,"Transactions are automatically created when users make purchases or recharge their balance. Each transaction updates the corresponding user or organization balance in real-time."),(0,r.kt)("h2",{id:"transaction-categories"},"Transaction Categories"),(0,r.kt)("p",null,"Transactions in Casdoor are classified into two distinct categories that determine how they affect user balances:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Purchase")," transactions represent spending money to buy products or services. These transactions have negative amounts and decrease the user's balance. When you pay for a product using your Casdoor balance or an external payment provider, a Purchase transaction records the deduction."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Recharge")," transactions represent adding funds to a user's balance. When purchasing recharge products or topping up an account, a Recharge transaction with a positive amount is created to increase the available balance."),(0,r.kt)("p",null,"The system automatically determines the transaction category based on the product type and payment flow. For recharge products, the system creates both a Purchase transaction (for the payment) and a Recharge transaction (for the balance increase)."),(0,r.kt)("h2",{id:"transaction-properties"},"Transaction Properties"),(0,r.kt)("p",null,"Every Transaction has these properties:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Owner")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Name")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CreatedTime")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Category"),': Transaction category - either "Purchase" (spending) or "Recharge" (adding funds)'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Type"),": The transaction type (e.g., provider category)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Subtype"),": Provider-specific transaction subtype"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Provider"),": Payment provider used for the transaction"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"User"),": Required for User category transactions"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Amount"),": Transaction amount (positive for income, negative for expenses)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Currency"),': The currency code (e.g., "USD", "CNY")'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"State"),': Transaction state stored as a string. Common values include "Created", "Paid", "Canceled", "Timeout", and "Error"'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Payment"),": Related Payment record (if applicable)")),(0,r.kt)("h2",{id:"balance-tracking"},"Balance Tracking"),(0,r.kt)("p",null,"Casdoor maintains separate balance fields:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"User Balance")," is stored on individual user records and tracks each user's available funds."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Organization Balances")," include two fields: ",(0,r.kt)("inlineCode",{parentName:"p"},"orgBalance")," for the organization's own funds, and ",(0,r.kt)("inlineCode",{parentName:"p"},"userBalance")," for the sum of all user balances within that organization."),(0,r.kt)("p",null,"Balances are automatically updated when transactions are created, modified, or deleted, ensuring consistency across the system."),(0,r.kt)("h2",{id:"viewing-transactions"},"Viewing Transactions"),(0,r.kt)("p",null,"Transaction history is displayed in two locations:"),(0,r.kt)("p",null,"When editing a user account, all transactions for that user appear in a dedicated table below the user details."),(0,r.kt)("p",null,"When editing an organization, all organization-level transactions are shown in the organization edit page."),(0,r.kt)("p",null,"Both views provide a chronological record with transaction details including name, creation time, category, type, amount, and state."))}u.isMDXComponent=!0}}]);