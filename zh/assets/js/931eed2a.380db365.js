"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[5741],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),d=o,f=u["".concat(p,".").concat(d)]||u[d]||h[d]||a;return n?r.createElement(f,i(i({ref:t},c),{},{components:n})):r.createElement(f,i({ref:t},c))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<a;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},50915:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var r=n(87462),o=(n(67294),n(3905));const a={title:"\u5fae\u4fe1",description:"\u5c06Wechat  OAuth \u63d0\u4f9b\u5546\u6dfb\u52a0\u5230\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f",keywords:["\u5fae\u4fe1","OAuth"],author:"Marvelousp4"},i=void 0,l={unversionedId:"provider/oauth/Wechat",id:"provider/oauth/Wechat",title:"\u5fae\u4fe1",description:"\u5c06Wechat  OAuth \u63d0\u4f9b\u5546\u6dfb\u52a0\u5230\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/provider/oauth/Wechat.md",sourceDirName:"provider/oauth",slug:"/provider/oauth/Wechat",permalink:"/zh/docs/provider/oauth/Wechat",draft:!1,editUrl:"https://crowdin.com/project/casdoor-website/zh-CN",tags:[],version:"current",frontMatter:{title:"\u5fae\u4fe1",description:"\u5c06Wechat  OAuth \u63d0\u4f9b\u5546\u6dfb\u52a0\u5230\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f",keywords:["\u5fae\u4fe1","OAuth"],author:"Marvelousp4"},sidebar:"tutorialSidebar",previous:{title:"\u5fae\u535a",permalink:"/zh/docs/provider/oauth/Weibo"},next:{title:"\u4f01\u4e1a\u5fae\u4fe1",permalink:"/zh/docs/provider/oauth/weCom"}},p={},s=[{value:"\u5fae\u4fe1:\u6ce8\u610f\u4e8b\u9879:",id:"\u5fae\u4fe1\u6ce8\u610f\u4e8b\u9879",level:2}],c={toc:s};function h(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,r.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"\u5fae\u4fe1\u6ce8\u610f\u4e8b\u9879"},"\u5fae\u4fe1:\u6ce8\u610f\u4e8b\u9879:"),(0,o.kt)("p",null,"\u8bbf\u95ee ",(0,o.kt)("a",{parentName:"p",href:"https://open.weixin.qq.com/"},"\u5fae\u4fe1\u5f00\u653e\u5e73\u53f0")," \u5e76\u6ce8\u518c\u6210\u4e3a\u5f00\u53d1\u8005\u3002 \u5728\u4f60\u7684\u7f51\u7ad9\u5e94\u7528\u6216\u79fb\u52a8\u5e94\u7528\u83b7\u5f97\u6279\u51c6\u540e\uff0c\u60a8\u5c06\u5f97\u5230\u60a8\u7684 App ID \u548c App Secret\u3002"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"\u5fae\u4fe1",src:n(25193).Z,width:"1258",height:"882"})),(0,o.kt)("p",null,"The WeChat provider offers two different sets of keypairs:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The first keypair (",(0,o.kt)("inlineCode",{parentName:"p"},"Client ID"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Client Secret"),") is for ",(0,o.kt)("inlineCode",{parentName:"p"},"WeChat Open Platform (\u5fae\u4fe1\u5f00\u653e\u5e73\u53f0)"),", it's only for the PC login scenario. It can show QR code in PC browser and the user can use the WeChat APP in mobile phone to scan the code, so the PC browser will allow to sign in with WeChat.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The second keypair (",(0,o.kt)("inlineCode",{parentName:"p"},"Client ID 2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Client Secret 2"),") is for ",(0,o.kt)("inlineCode",{parentName:"p"},"WeChat Media Platform (\u5fae\u4fe1\u516c\u4f17\u5e73\u53f0)"),", it's only for the inside-WeChat-app login scenario. It allows the user to log in with WeChat built-in browser inside WeChat mobile APP, it will jump to your ",(0,o.kt)("inlineCode",{parentName:"p"},"WeChat Official Account (\u5fae\u4fe1\u516c\u4f17\u53f7)")," to log in. It's notable that in the mobile scenario, WeChat itself doesn't support logging in outside of WeChat APP, like in other mobile browsers (H5) or APPs. This is a limitation of WeChat instead of Casdoor."))),(0,o.kt)("p",null,"If you fill in the second keypair (",(0,o.kt)("inlineCode",{parentName:"p"},"Client ID 2"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"Client Secret 2"),") and enable the ",(0,o.kt)("inlineCode",{parentName:"p"},"Enable QR code")," switch, when the user clicks on the WeChat button to log in, ",(0,o.kt)("strong",{parentName:"p"},"Casdoor will first ask the user to follow the WeChat official account (\u5fae\u4fe1\u516c\u4f17\u53f7)"),", then continue the login process. It's notable that this is only available in PC login scenario because a mobile phone cannot scan the QR code by itself. Casdoor will automatically skip this step when used in mobile scenario (aka the WeChat built-in browser inside WeChat mobile APP)."),(0,o.kt)("p",null,"::::tip"),(0,o.kt)("p",null,"\u6211\u4eec\u5efa\u8bae\u540c\u65f6\u8bbe\u7f6e\u4e24\u5957\u94a5\u5319\u3002 \u5e76\u94fe\u63a5\u60a8\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"WeChat \u5f00\u653e\u5e73\u53f0(\u5373\u65f6\u626b\u63cf)")," \u8d26\u6237\u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"WeChat \u5a92\u4f53\u5e73\u53f0(\u5373\u65f6\u8fde\u63a5)")," \u8d26\u6237\u4e00\u8d77\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},"WeChat \u5f00\u653e\u5e73\u53f0(\u5373\u65f6\u8fde\u63a5)")," \u4e2d \u6240\u4ee5\u901a\u8fc7 PC \u767b\u5f55\u7684 WeChat \u7528\u6237\u548c\u624b\u673a\u53ef\u4ee5\u88ab\u8bc6\u522b\u4e3a Cassdoor \u4e2d\u7684\u540c\u4e00\u7528\u6237\u3002"),(0,o.kt)("p",null,":::"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"\u7531\u4e8e WeChat OAuth \u7684\u9650\u5236\uff0c\u76ee\u524d\u6ca1\u6709\u65b9\u6cd5\u901a\u8fc7 WeChat \u767b\u5f55\u5230\u7b2c\u4e09\u65b9\u79fb\u52a8APP \u6216 WeChat APP\u4ee5\u5916\u7684\u79fb\u52a8\u6d4f\u89c8\u5668\u3002 \u5fc5\u987b\u5728 WeChat \u4e2d\u79fb\u52a8\u767b\u5f55\u3002")),(0,o.kt)("p",null,"\u6b32\u4e86\u89e3\u66f4\u591a\u8be6\u60c5\uff0c\u8bf7\u8bbf\u95ee ",(0,o.kt)("a",{parentName:"p",href:"https://developers.weixin.qq.com/doc/oplatform/en/Website_App/WeChat_Login/Wechat_Login.html"},"\u5fae\u4fe1\u5f00\u653e\u5e73\u53f0"),"\u3002"))}h.isMDXComponent=!0},25193:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/wechat-daff5f7d0755ab606290542d8f3d0b42.png"}}]);