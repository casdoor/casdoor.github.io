(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[8561],{3905:function(e,t,r){"use strict";r.d(t,{Zo:function(){return u},kt:function(){return g}});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),s=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},u=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=s(r),g=o,m=d["".concat(c,".").concat(g)]||d[g]||p[g]||i;return r?n.createElement(m,a(a({ref:t},u),{},{components:r})):n.createElement(m,a({ref:t},u))}));function g(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var s=2;s<i;s++)a[s]=r[s];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},64400:function(e,t,r){"use strict";r.r(t),r.d(t,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return s},toc:function(){return u},default:function(){return d}});var n=r(74034),o=r(79973),i=(r(67294),r(3905)),a=["components"],l={title:"Generating Swagger Files",sidebar_position:2},c=void 0,s={unversionedId:"developer-guide/swagger",id:"developer-guide/swagger",isDocsHomePage:!1,title:"Generating Swagger Files",description:"Overview",source:"@site/docs/developer-guide/swagger.md",sourceDirName:"developer-guide",slug:"/developer-guide/swagger",permalink:"/docs/developer-guide/swagger",editUrl:"https://github.com/casdoor/casdoor-website/tree/master/docs/developer-guide/swagger.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Generating Swagger Files",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Frontend",permalink:"/docs/developer-guide/frontend"},next:{title:"Overview",permalink:"/docs/organization/overview"}},u=[{value:"Overview",id:"overview",children:[],level:2},{value:"How to write the comment",id:"how-to-write-the-comment",children:[],level:2},{value:"How to generaete the swagger file",id:"how-to-generaete-the-swagger-file",children:[],level:2}],p={toc:u};function d(e){var t=e.components,r=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,'As we know it, beego framework provide support for generateing swagger file in order to clearify the api via the command line tool called "bee". Casdoor is built based on beego too, however we found that the swagger files generated by bee failed to categorize the apis with "@Tag" label, we modified the original bee to implement the function.'),(0,i.kt)("h2",{id:"how-to-write-the-comment"},"How to write the comment"),(0,i.kt)("p",null,'Most rules are exactly identical with the original bee comment formats, and the only discrepancy is that the api shall be divided into different groups according to the "@Tag" label, therefore developers are obliged to ensure that this tag is correctly added. Here is an example'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'// @Title Login\n// @Tag Login API\n// @Description login\n// @Param   oAuthParams     query    string  true        "oAuth parameters"\n// @Param   body    body   RequestForm  true        "Login information"\n// @Success 200 {object} controllers.api_controller.Response The Response object\n// @router /login [post]\nfunc (c *ApiController) Login() {\n')),(0,i.kt)("p",null,'api with same "@Tag" labels will be put into the same group.'),(0,i.kt)("h2",{id:"how-to-generaete-the-swagger-file"},"How to generaete the swagger file"),(0,i.kt)("ol",{start:0},(0,i.kt)("li",{parentName:"ol"},"write comments for api in correct format  "),(0,i.kt)("li",{parentName:"ol"},"fetch this repository ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/casbin/bee"},"https://github.com/casbin/bee")),(0,i.kt)("li",{parentName:"ol"},"build the modified bee, for example, in the root directory of casbin/bee, run ")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"go build -o mybee .\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"copy mybee to the base directory of casdoor"),(0,i.kt)("li",{parentName:"ol"},"in that directory, run")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"mybee generate docs\n")),(0,i.kt)("p",null,"Then you will find the new swagger files are generated."))}d.isMDXComponent=!0}}]);