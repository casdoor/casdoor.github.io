"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[6572],{3905:(e,r,t)=>{t.d(r,{Zo:()=>p,kt:()=>d});var n=t(67294);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=n.createContext({}),c=function(e){var r=n.useContext(l),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},p=function(e){var r=c(e.components);return n.createElement(l.Provider,{value:r},e.children)},u={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},m=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=c(t),d=a,g=m["".concat(l,".").concat(d)]||m[d]||u[d]||o;return t?n.createElement(g,i(i({ref:r},p),{},{components:t})):n.createElement(g,i({ref:r},p))}));function d(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=m;var s={};for(var l in r)hasOwnProperty.call(r,l)&&(s[l]=r[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=t[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},12964:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var n=t(87462),a=(t(67294),t(3905));const o={title:"G\xe9n\xe9ration de fichiers Swagger",description:"G\xe9n\xe9ration de fichiers Swagger",keywords:["bee","swagger"],authors:["ComradeProgrammer"]},i=void 0,s={unversionedId:"developer-guide/swagger",id:"developer-guide/swagger",title:"G\xe9n\xe9ration de fichiers Swagger",description:"G\xe9n\xe9ration de fichiers Swagger",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/developer-guide/swagger.md",sourceDirName:"developer-guide",slug:"/developer-guide/swagger",permalink:"/fr/docs/developer-guide/swagger",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/developer-guide/swagger.md",tags:[],version:"current",frontMatter:{title:"G\xe9n\xe9ration de fichiers Swagger",description:"G\xe9n\xe9ration de fichiers Swagger",keywords:["bee","swagger"],authors:["ComradeProgrammer"]},sidebar:"tutorialSidebar",previous:{title:"Frontend",permalink:"/fr/docs/developer-guide/frontend"},next:{title:"Organizations",permalink:"/fr/docs/category/organizations"}},l={},c=[{value:"Vue d&#39;ensemble",id:"vue-densemble",level:2},{value:"Comment \xe9crire le commentaire",id:"comment-\xe9crire-le-commentaire",level:2},{value:"Comment g\xe9n\xe9rer le fichier swagger",id:"comment-g\xe9n\xe9rer-le-fichier-swagger",level:2}],p={toc:c};function u(e){let{components:r,...t}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,t,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"vue-densemble"},"Vue d'ensemble"),(0,a.kt)("p",null,'Comme nous le savons, le framework beego fournit un support pour la g\xe9n\xe9ration de fichiers swagger afin de clarifier l\'API via l\'outil de ligne de commande appel\xe9 "bee". Casdoor est \xe9galement construit sur la base de beego. Cependant, nous avons constat\xe9 que les fichiers swagger g\xe9n\xe9r\xe9s par bee ne parvenaient pas \xe0 cat\xe9goriser les API avec l\'\xe9tiquette "@Tag". Ainsi, nous avons modifi\xe9 le bee original pour impl\xe9menter cette fonction.'),(0,a.kt)("h2",{id:"comment-\xe9crire-le-commentaire"},"Comment \xe9crire le commentaire"),(0,a.kt)("p",null,"La plupart des r\xe8gles sont exactement identiques aux formats de commentaire du bee original. La seule divergence est que l'API doit \xeatre divis\xe9e en diff\xe9rents groupes selon l'\xe9tiquette \"@Tag\". Par cons\xe9quent, les d\xe9veloppeurs sont oblig\xe9s de s'assurer que cette \xe9tiquette est correctement ajout\xe9e. Voici un exemple :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'// @Title Login\n// @Tag Login API\n// @Description login\n// @Param   oAuthParams     query    string  true        "oAuth parameters"\n// @Param   body    body   RequestForm  true        "Login information"\n// @Success 200 {object} controllers.api_controller.Response The Response object\n// @router /login [post]\nfunc (c *ApiController) Login() {\n')),(0,a.kt)("p",null,'Les API avec les m\xeames \xe9tiquettes "@Tag" seront mises dans le m\xeame groupe.'),(0,a.kt)("h2",{id:"comment-g\xe9n\xe9rer-le-fichier-swagger"},"Comment g\xe9n\xe9rer le fichier swagger"),(0,a.kt)("ol",{start:0},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"\xc9crivez des commentaires pour l'API dans le format correct.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"R\xe9cup\xe9rez ce d\xe9p\xf4t : ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casbin/bee"},"https://github.com/casbin/bee"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Construisez le bee modifi\xe9. Par exemple, dans le r\xe9pertoire racine de casbin/bee, ex\xe9cutez la commande suivante :"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"go build -o mybee .\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Copiez mybee dans le r\xe9pertoire de base de casdoor.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Dans ce r\xe9pertoire, ex\xe9cutez la commande suivante :"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"mybee generate docs\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"(Facultatif) Si vous souhaitez g\xe9n\xe9rer un document swagger pour des tags ou des apis sp\xe9cifiques, voici quelques commandes d'exemple :"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'mybee generate docs --tags "Adapter API"\nmybee generate docs --tags "Adapter API,Login API"\nmybee generate docs --apis "add-adapter"\nmybee generate docs --apis "add-adapter,delete-adapter"\n')),(0,a.kt)("p",{parentName:"li"},"Notamment : Nous n'acceptons qu'une virgule ",(0,a.kt)("inlineCode",{parentName:"p"},",")," comme s\xe9parateur lorsque plusieurs tags/apis sont fournis."))),(0,a.kt)("p",null,"Ensuite, vous constaterez que les nouveaux fichiers swagger sont g\xe9n\xe9r\xe9s."))}u.isMDXComponent=!0}}]);