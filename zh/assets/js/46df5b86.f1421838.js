"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[9951],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>u});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=d(a),u=o,h=c["".concat(s,".").concat(u)]||c[u]||m[u]||r;return a?n.createElement(h,i(i({ref:t},p),{},{components:a})):n.createElement(h,i({ref:t},p))}));function u(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var d=2;d<r;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},92872:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var n=a(87462),o=(a(67294),a(3905));const r={title:"\u670d\u52a1\u5668\u5b89\u88c5",description:"\u5b89\u88c5\u548c\u914d\u7f6e Casdoor \u670d\u52a1\u5668",keywords:["Cassdoor \u670d\u52a1\u5668","\u5b89\u88c5","\u914d\u7f6e"],authors:["hsluoyz"]},i=void 0,l={unversionedId:"basic/server-installation",id:"basic/server-installation",title:"\u670d\u52a1\u5668\u5b89\u88c5",description:"\u5b89\u88c5\u548c\u914d\u7f6e Casdoor \u670d\u52a1\u5668",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/basic/server-installation.mdx",sourceDirName:"basic",slug:"/basic/server-installation",permalink:"/zh/docs/basic/server-installation",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/basic/server-installation.mdx",tags:[],version:"current",frontMatter:{title:"\u670d\u52a1\u5668\u5b89\u88c5",description:"\u5b89\u88c5\u548c\u914d\u7f6e Casdoor \u670d\u52a1\u5668",keywords:["Cassdoor \u670d\u52a1\u5668","\u5b89\u88c5","\u914d\u7f6e"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"\u6838\u5fc3\u6982\u5ff5",permalink:"/zh/docs/basic/core-concepts"},next:{title:"(\u53ef\u9009) \u4f7f\u7528 Docker \u8fd0\u884c",permalink:"/zh/docs/basic/try-with-docker"}},s={},d=[{value:"\u5b89\u88c5\u8981\u6c42",id:"\u5b89\u88c5\u8981\u6c42",level:2},{value:"\u64cd\u4f5c\u7cfb\u7edf",id:"\u64cd\u4f5c\u7cfb\u7edf",level:3},{value:"\u73af\u5883",id:"\u73af\u5883",level:3},{value:"\u6570\u636e\u5e93",id:"\u6570\u636e\u5e93",level:3},{value:"\u4e0b\u8f7d",id:"\u4e0b\u8f7d",level:2},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"\u914d\u7f6e\u6570\u636e\u5e93",id:"\u914d\u7f6e\u6570\u636e\u5e93",level:3},{value:"MySQL",id:"mysql",level:4},{value:"PostgreSQL",id:"postgresql",level:4},{value:"SQLite3",id:"sqlite3",level:4},{value:"\u901a\u8fc7 Ini \u6587\u4ef6\u914d\u7f6e",id:"\u901a\u8fc7-ini-\u6587\u4ef6\u914d\u7f6e",level:3},{value:"\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e",id:"\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e",level:3},{value:"\u8fd0\u884c",id:"\u8fd0\u884c",level:2},{value:"Development Mode",id:"development-mode",level:3},{value:"Backend",id:"backend",level:4},{value:"Frontend",id:"frontend",level:4},{value:"Production Mode",id:"production-mode",level:3},{value:"Backend",id:"backend-1",level:4},{value:"Frontend",id:"frontend-1",level:4}],p={toc:d};function m(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"\u5b89\u88c5\u8981\u6c42"},"\u5b89\u88c5\u8981\u6c42"),(0,o.kt)("h3",{id:"\u64cd\u4f5c\u7cfb\u7edf"},"\u64cd\u4f5c\u7cfb\u7edf"),(0,o.kt)("p",null,"All major operating systems, including Windows, Linux, and macOS, are supported."),(0,o.kt)("h3",{id:"\u73af\u5883"},"\u73af\u5883"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://go.dev/dl/"},"Go 1.17+")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://nodejs.org"},"Node.js LTS (18)")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://classic.yarnpkg.com/en/docs/install"},"Yarn 1.x"))),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u4f7f\u7528 ",(0,o.kt)("a",{parentName:"p",href:"https://classic.yarnpkg.com/en/docs/install"},"Yarn 1.x")," \u6765\u8fd0\u884c\u548c\u6784\u5efaCasdoor\u524d\u7aef\u3002 \u4f7f\u7528NPM\u53ef\u80fd\u4f1a\u5bfc\u81f4\u754c\u9762\u6837\u5f0f\u95ee\u9898\u3002 \u6b32\u4e86\u89e3\u66f4\u591a\u8be6\u60c5\uff0c\u8bf7\u89c1\uff1a ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/issues/294"},"casdoor#294"),"\u3002")),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"\u5982\u679c\u60a8\u7684\u7f51\u7edc\u65e0\u6cd5\u76f4\u63a5\u540c\u6b65Go\u4f9d\u8d56\u5305\uff0c\u60a8\u9700\u8981\u914d\u7f6eGOPROXY\u73af\u5883\u53d8\u91cf\u3002 \u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u4f7f\u7528\uff1a ",(0,o.kt)("a",{parentName:"p",href:"https://goproxy.cn/"},"https://goproxy.cn/"))),(0,o.kt)("h3",{id:"\u6570\u636e\u5e93"},"\u6570\u636e\u5e93"),(0,o.kt)("p",null,"Casdoor\u4f7f\u7528 ",(0,o.kt)("a",{parentName:"p",href:"https://xorm.io/"},"XORM")," \u4e0e\u6570\u636e\u5e93\u8fdb\u884c\u4ea4\u4e92\u3002 \u57fa\u4e8e ",(0,o.kt)("a",{parentName:"p",href:"https://gitea.com/xorm/xorm#drivers-support"},"Xorm Drivers"),", \u5f53\u524d\u652f\u6301\u7684\u6570\u636e\u5e93\u5305\u62ec\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"MySQL")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"MariaDB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"PostgreSQL")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"CockroachDB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SQL Server")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Oracle")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SQLite 3")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"TiDB"))),(0,o.kt)("h2",{id:"\u4e0b\u8f7d"},"\u4e0b\u8f7d"),(0,o.kt)("p",null,"Casdoor \u7684\u6e90\u4ee3\u7801\u6258\u7ba1\u5728 GitHub: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor"},"https://github.com/casdoor/casdoor"),"\u3002 \u8f6c\u5230\u540e\u7aef\u4ee3\u7801\u548c React \u524d\u7aef\u4ee3\u7801\u90fd\u5305\u542b\u5728\u4e00\u4e2a\u4ed3\u5e93\u4e2d\u3002"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"\u540d\u79f0"),(0,o.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"),(0,o.kt)("th",{parentName:"tr",align:null},"\u8bed\u8a00"),(0,o.kt)("th",{parentName:"tr",align:null},"\u6e90\u4ee3\u7801"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"\u524d\u7aef"),(0,o.kt)("td",{parentName:"tr",align:null},"Casdoor\u7684\u7f51\u9875\u524d\u7aef\u754c\u9762"),(0,o.kt)("td",{parentName:"tr",align:null},"JavaScript + React"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor/tree/master/web"},"https://github.com/casdoor/casdoor/tree/master/web"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"\u540e\u7aef"),(0,o.kt)("td",{parentName:"tr",align:null},"Casdoor\u7684ResTful API \u540e\u7aef"),(0,o.kt)("td",{parentName:"tr",align:null},"Golang + Beego + XORM"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor"},"https://github.com/casdoor/casdoor"))))),(0,o.kt)("p",null,"Casdoor\u652f\u6301 ",(0,o.kt)("inlineCode",{parentName:"p"},"Go Modules"),"\u3002 To download the code, simply clone the code using git:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd /\u6587\u4ef6\u5939\u8def\u5f84/\ngit clone https://github.com/casdoor/casdoor\n")),(0,o.kt)("h2",{id:"\u914d\u7f6e"},"\u914d\u7f6e"),(0,o.kt)("h3",{id:"\u914d\u7f6e\u6570\u636e\u5e93"},"\u914d\u7f6e\u6570\u636e\u5e93"),(0,o.kt)("p",null,"Casdoor \u652f\u6301MySQL\u3001MSSQL\u3001SQLite3\u548cPostgreSQL\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cCasto\u4f7f\u7528MySQL\u3002"),(0,o.kt)("h4",{id:"mysql"},"MySQL"),(0,o.kt)("p",null,"Casdoor\u5c06\u4f1a\u628ausers\uff0cnodes\u548ctopics\u4fe1\u606f\u5b58\u50a8\u5728\u4e00\u4e2a\u540d\u4e3a",(0,o.kt)("inlineCode",{parentName:"p"},"casdoor"),"\u7684MySQL\u6570\u636e\u5e93\u4e2d\u3002 \u5982\u679c\u6570\u636e\u5e93\u4e0d\u5b58\u5728\uff0c\u5219\u9700\u624b\u52a8\u521b\u5efa\u3002 \u53ef\u4ee5\u5728\u4ee5\u4e0b\u4f4d\u7f6e\u6307\u5b9a\u6570\u636e\u5e93\u8fde\u63a5\u5b57\u7b26\u4e32 ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},"https://github.com/casdoor/blob/master/conf/app.conf")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ini"},"driverName = mysql\ndataSourceName = root:123456@tcp(localhost:3306)/\ndbName = casdoor\n")),(0,o.kt)("h4",{id:"postgresql"},"PostgreSQL"),(0,o.kt)("p",null,"\u5728\u8fd0\u884c Cassdoor \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u624b\u52a8\u51c6\u5907PostgreSQL \u6570\u636e\u5e93\uff0c\u56e0\u4e3aCastor \u9700\u8981\u5728\u4f7f\u7528 xorm \u6253\u5f00 Postgres \u65f6\u6307\u5b9a\u4e00\u4e2a\u6570\u636e\u5e93\u3002"),(0,o.kt)("p",null,"Assuming you have already prepared a database called ",(0,o.kt)("inlineCode",{parentName:"p"},"casdoor"),", you should specify ",(0,o.kt)("inlineCode",{parentName:"p"},"app.conf")," like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ini"},'driverName = postgres\ndataSourceName = "user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor"\ndbName =\n')),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"For PostgreSQL, ensure that ",(0,o.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dataSourceName")," has a non-empty ",(0,o.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dbName"),", and leave the standalone ",(0,o.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dbName")," field empty as shown in the example above. :::"),(0,o.kt)("h4",{parentName:"admonition",id:"cockroachdb"},"CockroachDB"),(0,o.kt)("p",{parentName:"admonition"},"CockroachDB can also be used with the PostgreSQL driver and has the same configuration as PostgreSQL."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-ini"},'driverName = postgres\ndataSourceName = "user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor serial_normalization=virtual_sequence"\ndbName =\n'))),(0,o.kt)("h4",{id:"sqlite3"},"SQLite3"),(0,o.kt)("p",null,"To configure SQLite3, you should specify ",(0,o.kt)("inlineCode",{parentName:"p"},"app.conf")," like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ini"},'driverName = sqlite\ndataSourceName = "file:casdoor.db?cache=shared"\ndbName = casdoor\n')),(0,o.kt)("h3",{id:"\u901a\u8fc7-ini-\u6587\u4ef6\u914d\u7f6e"},"\u901a\u8fc7 Ini \u6587\u4ef6\u914d\u7f6e"),(0,o.kt)("p",null,"Casdoor can be configured via a single file: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},(0,o.kt)("strong",{parentName:"a"},"conf/app.conf")),", which by default contains the following content:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ini"},'appname = casdoor\nhttpport = 8000\nrunmode = dev\nSessionOn = true\ncopyrequestbody = true\ndriverName = mysql\ndataSourceName = root:123456@tcp(localhost:3306)/\ndbName = casdoor\ntableNamePrefix =\nshowSql = false\nredisEndpoint =\ndefaultStorageProvider =\nisCloudIntranet = false\nauthState = "casdoor"\nsocks5Proxy = "127.0.0.1:10808"\nverificationCodeTimeout = 10\ninitScore = 2000\nlogPostOnly = true\norigin = "https://door.casdoor.com"\nstaticBaseUrl = "https://cdn.casbin.org"\nenableGzip = true\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"appname")," is the application name, which currently has no practical use."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"httpport")," is the port that your backend application is listening on."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"runmode")," can be set to ",(0,o.kt)("inlineCode",{parentName:"li"},"dev")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"prod"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SessionOn")," determines whether to enable session and is enabled by default."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"driverName"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"dataSourceName"),", and ",(0,o.kt)("inlineCode",{parentName:"li"},"dbName")," were introduced earlier. Please see ",(0,o.kt)("a",{parentName:"li",href:"#configure-database"},"Configure Database")," for details."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"verificationCodeTimeout")," sets the expiration time of the verification code. After expiration, the user needs to obtain it again.")),(0,o.kt)("p",null,"As a beginner, you only need to modify two items: ",(0,o.kt)("inlineCode",{parentName:"p"},"driverName")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"dataSourceName")," based on your database. This database will be used by Casdoor to store all data, including users, organizations, and applications."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"tableNamePrefix")," is the prefix of the table when using an adapter."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"showSql")," determines whether to show SQL statements on the logger if the log level is greater than INFO."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"redisEndpoint")," \u540e\u586b\u5199Redis\u5730\u5740\uff0c\u88abBeego\u7528\u4e8esession\u5b58\u50a8 If this parameter is empty, the session data will be stored locally as files in the ",(0,o.kt)("inlineCode",{parentName:"li"},"./tmp")," folder. To use Redis as Beego session storage, the value would be something like: ",(0,o.kt)("inlineCode",{parentName:"li"},"redis.example.com:6379"),". If Redis is deployed locally, you can use ",(0,o.kt)("inlineCode",{parentName:"li"},"localhost:6379"),". If Redis password is enabled, use ",(0,o.kt)("inlineCode",{parentName:"li"},"redis.example.com:6379,db,password"),". See more details at: ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/beego/beedoc/blob/master/en-US/module/session.md#saving-provider-config"},"https://github.com/beego/beedoc/blob/master/en-US/module/session.md#saving-provider-config"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"defaultStorageProvider")," \u662f\u9ed8\u8ba4\u7684\u6587\u4ef6\u5b58\u50a8\u670d\u52a1\u540d\u79f0\u3002 \u5982\u679c\u60a8\u9700\u8981\u4f7f\u7528\u6587\u4ef6\u5b58\u50a8\u670d\u52a1\uff0c\u4f8b\u5982 ",(0,o.kt)("inlineCode",{parentName:"li"},"\u5934\u50cf\u4e0a\u4f20"),"\uff0c \u60a8\u9700\u8981\u8bbe\u7f6e\u5b58\u50a8\u63d0\u4f9b\u5546\uff0c\u5e76\u5728\u60a8\u7684 ",(0,o.kt)("inlineCode",{parentName:"li"},"\u5e94\u7528")," \u4e2d\u5e94\u7528\u5b83\u3002 \u8be6\u60c5\u8bf7\u53c2\u9605 ",(0,o.kt)("a",{parentName:"li",href:"/docs/provider/storage/overview"},(0,o.kt)("strong",{parentName:"a"},"\u5b58\u50a8"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"isCloudIntranet")," is used to identify whether your provider endpoint is an intranet endpoint."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"authstate")," \u662f\u6388\u6743\u5e94\u7528\u7a0b\u5e8f\u540d\u79f0\u3002 \u767b\u5f55\u65f6\u5c06\u68c0\u67e5\u8be5\u53c2\u6570\u3002"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"socks5Proxy")," \u662f SOCKS \u4ee3\u7406\u670d\u52a1\u5668 IP \u5730\u5740\u3002 Set the proxy port because we have Google-related services or use ",(0,o.kt)("inlineCode",{parentName:"li"},"Google"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"GitHub"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"Facebook"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"LinkedIn"),", or ",(0,o.kt)("inlineCode",{parentName:"li"},"Steam")," as OAuth Providers, which may be restricted by the network in some areas."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"initscore")," \u662f\u6bcf\u4e2a\u7528\u6237\u7684\u6700\u521d\u5206\u6570\u3002 \u6bcf\u4e2a\u7528\u6237\u90fd\u6709\u4e00\u4e2a\u5f97\u5206\u5c5e\u6027\u3002 The score is used by ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/casbin/casnode"},(0,o.kt)("strong",{parentName:"a"},"Casnode"))," and does not control anything in Casdoor."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"logPostOnly")," is used to determine whether only the post method is used to add a record."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"origin")," \u662forigin\u5f62\u5f0f\u7684\u540e\u7aef\u57df\u540d"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"staticBaseUrl")," is the address of the static image used when the system initializes the database."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"enableGzip")," will accept and respond with gzip encoding if the request header includes ",(0,o.kt)("inlineCode",{parentName:"li"},"Accept-Encoding=gzip"),".")),(0,o.kt)("h3",{id:"\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e"},"\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e"),(0,o.kt)("p",null,"All configuration items defined by Casdoor in the ini file mentioned above can be configured via environment variables, as well as some of the beego configurations items (httpport, appname)."),(0,o.kt)("p",null,"For example, when you try to start Casdoor, you can use something like this to pass the configuration via environment variables:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"appname=casbin go run main.go\n")),(0,o.kt)("p",null,"In addition, ",(0,o.kt)("inlineCode",{parentName:"p"},"export")," derivatives are also a possible method. The names of environmental variables should exactly match the names you want to use in the ini file."),(0,o.kt)("p",null,"Note: configurations in environmental variables can override the configurations in the ini file."),(0,o.kt)("h2",{id:"\u8fd0\u884c"},"\u8fd0\u884c"),(0,o.kt)("p",null,"There are currently two methods to start, and you can choose one according to your situation."),(0,o.kt)("h3",{id:"development-mode"},"Development Mode"),(0,o.kt)("h4",{id:"backend"},"Backend"),(0,o.kt)("p",null,"Casdoor's Go backend runs on port 8000 by default. You can start the Go backend with the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"go run main.go\n")),(0,o.kt)("p",null,"After the server is successfully running, you can start the frontend part."),(0,o.kt)("h4",{id:"frontend"},"Frontend"),(0,o.kt)("p",null,"Casdoor's frontend is a very classic ",(0,o.kt)("a",{parentName:"p",href:"https://create-react-app.dev/"},(0,o.kt)("strong",{parentName:"a"},"Create-React-App (CRA)"))," project. It runs on port ",(0,o.kt)("inlineCode",{parentName:"p"},"7001")," by default. Use the following commands to run the frontend:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd web\nyarn install\nyarn start\n")),(0,o.kt)("p",null,"Visit ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:7001"},(0,o.kt)("strong",{parentName:"a"},"http://localhost:7001"))," in your browser. Log into the Casdoor dashboard with the default global admin account: ",(0,o.kt)("inlineCode",{parentName:"p"},"built-in/admin"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,o.kt)("h3",{id:"production-mode"},"Production Mode"),(0,o.kt)("h4",{id:"backend-1"},"Backend"),(0,o.kt)("p",null,"Build the Casdoor Go backend code into an executable and start it."),(0,o.kt)("p",null,"For Linux:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"go build\n./casdoor\n")),(0,o.kt)("p",null,"For Windows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"go build\ncasdoor.exe\n")),(0,o.kt)("h4",{id:"frontend-1"},"Frontend"),(0,o.kt)("p",null,"Build the Casdoor frontend code into static resources (.html, .js, .css files):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd web\nyarn install\nyarn build\n")),(0,o.kt)("p",null,"Visit ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,o.kt)("strong",{parentName:"a"},"http://localhost:8000"))," in your browser. Log into the Casdoor dashboard with the default global admin account: ",(0,o.kt)("inlineCode",{parentName:"p"},"built-in/admin"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"To use another port, please edit ",(0,o.kt)("inlineCode",{parentName:"p"},"conf/app.conf")," and modify ",(0,o.kt)("inlineCode",{parentName:"p"},"httpport"),", then restart the Go backend.")),(0,o.kt)("admonition",{title:"Casdoor Port Details",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"In the ",(0,o.kt)("strong",{parentName:"p"},"dev")," environment, the frontend is run by ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn run")," on port 7001, so if you want to go to the Casdoor login page, you need to set the Casdoor link as ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"http://localhost:7001"},"http://localhost:7001")),"."),(0,o.kt)("p",{parentName:"admonition"},"In the ",(0,o.kt)("strong",{parentName:"p"},"prod")," environment, the frontend files are first built by ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn build")," and served on port 8000, so if you want to go to the Casdoor login page, you need to set the Casdoor link as ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://your-casdoor-url.com:8000"},"https://your-casdoor-url.com:8000"))," (If you are using a reverse proxy, you need to set the link as ",(0,o.kt)("strong",{parentName:"p"},"your domain"),")."),(0,o.kt)("h4",{parentName:"admonition",id:"take-our-official-forum-casnode-as-an-example"},"Take Our Official Forum Casnode as an Example"),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("a",{parentName:"p",href:"https://casnode.org"},"Casnode")," uses Casdoor to handle authentication."),(0,o.kt)("p",{parentName:"admonition"},"When we are testing Casnode in the ",(0,o.kt)("strong",{parentName:"p"},"dev")," environment, we set the ",(0,o.kt)("inlineCode",{parentName:"p"},"serverUrl")," as ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:7001"},"http://localhost:7001"),", so when we test the signin and signup functionality using Casdoor, it will go to localhost 7001, which is the Casdoor port."),(0,o.kt)("p",{parentName:"admonition"},"And when we put Casnode into the ",(0,o.kt)("strong",{parentName:"p"},"prod")," environment, we set the ",(0,o.kt)("inlineCode",{parentName:"p"},"serverUrl")," as ",(0,o.kt)("a",{parentName:"p",href:"https://door.casdoor.com"},"https://door.casdoor.com"),", so users can sign in or sign up using Casdoor."),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("img",{alt:"Casnode Example",src:a(4621).Z,width:"1108",height:"281"}))))}m.isMDXComponent=!0},4621:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/casnodeexample-06892ab1a66c35c830aa85d51c8f75ed.png"}}]);