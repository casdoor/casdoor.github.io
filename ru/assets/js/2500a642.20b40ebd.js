"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[3711],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>m});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),d=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},c=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=d(r),m=n,h=p["".concat(l,".").concat(m)]||p[m]||u[m]||o;return r?a.createElement(h,s(s({ref:t},c),{},{components:r})):a.createElement(h,s({ref:t},c))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,s=new Array(o);s[0]=p;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var d=2;d<o;d++)s[d]=r[d];return a.createElement.apply(null,s)}return a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},74670:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var a=r(87462),n=(r(67294),r(3905));const o={title:"Order",description:"Track and manage product purchases with orders",keywords:["order","product","purchase","payment"],authors:["Copilot"]},s=void 0,i={unversionedId:"products/order",id:"products/order",title:"Order",description:"Track and manage product purchases with orders",source:"@site/i18n/ru/docusaurus-plugin-content-docs/current/products/order.md",sourceDirName:"products",slug:"/products/order",permalink:"/ru/docs/products/order",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/products/order.md",tags:[],version:"current",frontMatter:{title:"Order",description:"Track and manage product purchases with orders",keywords:["order","product","purchase","payment"],authors:["Copilot"]},sidebar:"tutorialSidebar",previous:{title:"\u041e\u043f\u043b\u0430\u0442\u0430",permalink:"/ru/docs/products/payment"},next:{title:"\u041f\u043b\u0430\u043d",permalink:"/ru/docs/pricing/plan"}},l={},d=[{value:"Order vs Payment",id:"order-vs-payment",level:2},{value:"Creating Orders",id:"creating-orders",level:2},{value:"Order Structure",id:"order-structure",level:2},{value:"Order States",id:"order-states",level:2},{value:"Viewing Orders",id:"viewing-orders",level:2},{value:"Managing Orders",id:"managing-orders",level:2}],c={toc:d};function u(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Orders track product purchases in Casdoor. When a user buys a product, an order is automatically created to record the purchase details and track its lifecycle."),(0,n.kt)("h2",{id:"order-vs-payment"},"Order vs Payment"),(0,n.kt)("p",null,"While closely related, orders and payments serve different purposes:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Order"),": Tracks what was purchased and its fulfillment state"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Payment"),": Tracks how the transaction was paid")),(0,n.kt)("p",null,"Both are created when purchasing a product, but subscriptions use a different flow (Pricing \u2192 Plan \u2192 Payment \u2192 Subscription) without orders."),(0,n.kt)("h2",{id:"creating-orders"},"Creating Orders"),(0,n.kt)("p",null,"When a user purchases a product, the system creates an order and displays immediate feedback. You'll see a success notification as soon as the order is created, before being redirected to the payment page. If order creation fails, an error message explains what went wrong so you can address the issue."),(0,n.kt)("h2",{id:"order-structure"},"Order Structure"),(0,n.kt)("p",null,"Each order contains:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Basic Information"),": Owner, name, creation time, and display name"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Product References"),": One or more products included in the order"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Product Info Snapshots"),": Stored details (name, display name, image, price) of products at purchase time"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"User & Payment"),": References to the buyer and associated payment"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"State Management"),": Current state and optional status message"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Duration"),": Optional start and end times for time-limited purchases (e.g., 1-year cloud instance)")),(0,n.kt)("p",null,"Orders can include multiple products, making it possible to purchase several items in a single transaction. When the order is created, the system captures a snapshot of each product's current information\u2014including its display name, image, detail, and price. This snapshot preserves what you actually bought, even if the product details change later in the system."),(0,n.kt)("p",null,"The total order price automatically sums up all individual product prices. For products priced in different currencies, all items in a single order must use the same currency to ensure accurate total calculation."),(0,n.kt)("h2",{id:"order-states"},"Order States"),(0,n.kt)("p",null,"Orders progress through these states based on payment status:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Created"),": Order initialized but payment not yet completed"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Paid"),": Payment successfully processed"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"PaymentFailed"),": Payment attempt failed with an error"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Canceled"),": Payment or order was cancelled"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Timeout"),": Payment timed out before completion"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Delivered"),": Product or service delivered to the user"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Completed"),": Order fully fulfilled"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Expired"),": Order expired (for time-limited products)")),(0,n.kt)("p",null,"When payment providers notify Casdoor about transaction results, the system updates order states automatically. This synchronization ensures that orders always reflect the current payment status, whether the payment succeeded, failed, was cancelled, or timed out."),(0,n.kt)("h2",{id:"viewing-orders"},"Viewing Orders"),(0,n.kt)("p",null,"Navigate to the Orders page to view all purchases. Regular users see only their own orders, while administrators can view all orders in their organization or across all organizations when the default organization is selected."),(0,n.kt)("p",null,"The order list includes a ",(0,n.kt)("strong",{parentName:"p"},"Products")," column showing all items in each order. For orders with multiple products, each product appears as a separate line with a link to its details. The ",(0,n.kt)("strong",{parentName:"p"},"Payment")," column links directly to the associated payment record for tracking transaction status."),(0,n.kt)("p",null,"You can search orders by payment name, product name, user, or other fields. Filtering by state and sorting by various columns helps locate specific transactions quickly."),(0,n.kt)("h2",{id:"managing-orders"},"Managing Orders"),(0,n.kt)("p",null,"Click on an order to view or edit its details. The order editor displays the products in a multi-select dropdown, allowing you to add or remove items from the order. When you modify the product list, the system automatically recalculates the total price based on the stored product information snapshots."),(0,n.kt)("p",null,"You can also update the order state, add messages, or modify duration settings. The product snapshots preserve historical pricing even if current product prices have changed."))}u.isMDXComponent=!0}}]);