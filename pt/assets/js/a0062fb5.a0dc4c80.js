"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[2889],{3905:(e,o,a)=>{a.d(o,{Zo:()=>c,kt:()=>u});var t=a(67294);function r(e,o,a){return o in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a,e}function n(e,o){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.push.apply(a,t)}return a}function i(e){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?n(Object(a),!0).forEach((function(o){r(e,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(a,o))}))}return e}function s(e,o){if(null==e)return{};var a,t,r=function(e,o){if(null==e)return{};var a,t,r={},n=Object.keys(e);for(t=0;t<n.length;t++)a=n[t],o.indexOf(a)>=0||(r[a]=e[a]);return r}(e,o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)a=n[t],o.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=t.createContext({}),d=function(e){var o=t.useContext(p),a=o;return e&&(a="function"==typeof e?e(o):i(i({},o),e)),a},c=function(e){var o=d(e.components);return t.createElement(p.Provider,{value:o},e.children)},m={inlineCode:"code",wrapper:function(e){var o=e.children;return t.createElement(t.Fragment,{},o)}},l=t.forwardRef((function(e,o){var a=e.components,r=e.mdxType,n=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),l=d(a),u=r,k=l["".concat(p,".").concat(u)]||l[u]||m[u]||n;return a?t.createElement(k,i(i({ref:o},c),{},{components:a})):t.createElement(k,i({ref:o},c))}));function u(e,o){var a=arguments,r=o&&o.mdxType;if("string"==typeof e||r){var n=a.length,i=new Array(n);i[0]=l;var s={};for(var p in o)hasOwnProperty.call(o,p)&&(s[p]=o[p]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var d=2;d<n;d++)i[d]=a[d];return t.createElement.apply(null,i)}return t.createElement.apply(null,a)}l.displayName="MDXCreateElement"},62965:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>n,metadata:()=>s,toc:()=>d});var t=a(87462),r=(a(67294),a(3905));const n={title:"(Opcional) Experimente com Docker",description:"Experimente o Casdoor com Docker",keywords:["Casdoor","Docker"],authors:["hsluoyz"]},i=void 0,s={unversionedId:"basic/try-with-docker",id:"basic/try-with-docker",title:"(Opcional) Experimente com Docker",description:"Experimente o Casdoor com Docker",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/basic/try-with-docker.md",sourceDirName:"basic",slug:"/basic/try-with-docker",permalink:"/pt/docs/basic/try-with-docker",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/basic/try-with-docker.md",tags:[],version:"current",frontMatter:{title:"(Opcional) Experimente com Docker",description:"Experimente o Casdoor com Docker",keywords:["Casdoor","Docker"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"Instala\xe7\xe3o do Servidor",permalink:"/pt/docs/basic/server-installation"},next:{title:"(Opcional) Experimente com K8s Helm",permalink:"/pt/docs/basic/try-with-helm"}},p={},d=[{value:"Requisitos",id:"requisitos",level:2},{value:"Hardware",id:"hardware",level:3},{value:"Sistema Operacional",id:"sistema-operacional",level:3},{value:"Docker",id:"docker",level:3},{value:"Obtenha a imagem",id:"obtenha-a-imagem",level:2},{value:"<strong>Op\xe7\xe3o-1</strong>: Use o banco de dados de brinquedo",id:"op\xe7\xe3o-1-use-o-banco-de-dados-de-brinquedo",level:3},{value:"<strong>Op\xe7\xe3o-2</strong>: Experimente diretamente com a imagem padr\xe3o",id:"op\xe7\xe3o-2-experimente-diretamente-com-a-imagem-padr\xe3o",level:3},{value:"<strong>Op\xe7\xe3o-3</strong>: Experimente com docker-compose",id:"op\xe7\xe3o-3-experimente-com-docker-compose",level:3}],c={toc:d};function m(e){let{components:o,...a}=e;return(0,r.kt)("wrapper",(0,t.Z)({},c,a,{components:o,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"requisitos"},"Requisitos"),(0,r.kt)("h3",{id:"hardware"},"Hardware"),(0,r.kt)("p",null,"Se voc\xea quiser construir a imagem Docker voc\xea mesmo, por favor, certifique-se de que sua m\xe1quina tem pelo menos ",(0,r.kt)("strong",{parentName:"p"},"2GB")," de mem\xf3ria. O frontend do Casdoor \xe9 um projeto NPM do React. Construir o frontend requer pelo menos ",(0,r.kt)("strong",{parentName:"p"},"2GB")," de mem\xf3ria. Ter menos de ",(0,r.kt)("strong",{parentName:"p"},"2GB")," de mem\xf3ria pode resultar em falha na constru\xe7\xe3o do frontend."),(0,r.kt)("p",null,"Se voc\xea s\xf3 precisa executar a imagem pr\xe9-constru\xedda, por favor, certifique-se de que sua m\xe1quina tem pelo menos ",(0,r.kt)("strong",{parentName:"p"},"100MB")," de mem\xf3ria."),(0,r.kt)("h3",{id:"sistema-operacional"},"Sistema Operacional"),(0,r.kt)("p",null,"Todos os sistemas operacionais (Linux, Windows e macOS) s\xe3o suportados."),(0,r.kt)("h3",{id:"docker"},"Docker"),(0,r.kt)("p",null,"Voc\xea pode usar ",(0,r.kt)("strong",{parentName:"p"},"Docker (vers\xe3o do docker-engine >= 17.05)")," no Linux ou ",(0,r.kt)("strong",{parentName:"p"},"Docker Desktop")," no Windows e macOS."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.docker.com/get-docker/"},"Docker"))),(0,r.kt)("p",null,"Independentemente do sistema operacional, os usu\xe1rios devem garantir que eles t\xeam ",(0,r.kt)("strong",{parentName:"p"},"vers\xe3o do docker-engine >= 17.05"),". Isso \xe9 porque utilizamos o recurso de constru\xe7\xe3o em m\xfaltiplos est\xe1gios no docker-compose.yml, que \xe9 suportado nas vers\xf5es 17.05 e superiores. Para mais informa\xe7\xf5es, veja ",(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/develop/develop-images/multistage-build/"},"https://docs.docker.com/develop/develop-images/multistage-build/"),"."),(0,r.kt)("p",null,"Se voc\xea tamb\xe9m est\xe1 usando docker-compose, por favor, certifique-se de que voc\xea tem ",(0,r.kt)("strong",{parentName:"p"},"vers\xe3o do docker-compose >= 2.2"),". Para usu\xe1rios Linux, voc\xea tamb\xe9m precisa se certificar de que o docker-compose est\xe1 instalado, pois \xe9 separado do docker-engine."),(0,r.kt)("h2",{id:"obtenha-a-imagem"},"Obtenha a imagem"),(0,r.kt)("p",null,"Fornecemos duas imagens do DockerHub:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Nome"),(0,r.kt)("th",{parentName:"tr",align:null},"Descri\xe7\xe3o"),(0,r.kt)("th",{parentName:"tr",align:null},"Sugest\xe3o"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://hub.docker.com/r/casbin/casdoor-all-in-one"},"casdoor-all-in-one")),(0,r.kt)("td",{parentName:"tr",align:null},"Tanto o Casdoor quanto um banco de dados MySQL est\xe3o inclu\xeddos na imagem"),(0,r.kt)("td",{parentName:"tr",align:null},"Esta imagem j\xe1 inclui um banco de dados de brinquedo e \xe9 apenas para fins de teste")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://hub.docker.com/r/casbin/casdoor"},"casdoor")),(0,r.kt)("td",{parentName:"tr",align:null},"Apenas o Casdoor est\xe1 inclu\xeddo na imagem"),(0,r.kt)("td",{parentName:"tr",align:null},"Esta imagem pode ser conectada ao seu pr\xf3prio banco de dados e usada em produ\xe7\xe3o")))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"casbin/casdoor-all-in-one: Esta imagem inclui o bin\xe1rio do casdoor, um banco de dados MySQL e todas as configura\xe7\xf5es necess\xe1rias. \xc9 projetada para novos usu\xe1rios que querem experimentar o Casdoor rapidamente. Com esta imagem, voc\xea pode iniciar o Casdoor imediatamente com apenas um ou dois comandos, sem nenhuma configura\xe7\xe3o complexa. No entanto, por favor, note que n\xf3s ",(0,r.kt)("strong",{parentName:"li"},"n\xe3o recomendamos")," o uso desta imagem em um ambiente de produ\xe7\xe3o.")),(0,r.kt)("h3",{id:"op\xe7\xe3o-1-use-o-banco-de-dados-de-brinquedo"},(0,r.kt)("strong",{parentName:"h3"},"Op\xe7\xe3o-1"),": Use o banco de dados de brinquedo"),(0,r.kt)("p",null,"Execute o cont\xeainer com a porta ",(0,r.kt)("inlineCode",{parentName:"p"},"8000")," exposta ao host. A imagem ser\xe1 automaticamente puxada se n\xe3o existir no host local."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker run -p 8000:8000 casbin/casdoor-all-in-one\n")),(0,r.kt)("p",null,"Visite ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:8000"))," no seu navegador. Fa\xe7a login no painel do Casdoor com a conta de admin global padr\xe3o: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("h3",{id:"op\xe7\xe3o-2-experimente-diretamente-com-a-imagem-padr\xe3o"},(0,r.kt)("strong",{parentName:"h3"},"Op\xe7\xe3o-2"),": Experimente diretamente com a imagem padr\xe3o"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Se n\xe3o for conveniente montar o arquivo de configura\xe7\xe3o em um cont\xeainer, usar vari\xe1veis de ambiente tamb\xe9m \xe9 uma solu\xe7\xe3o poss\xedvel."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="example"',title:'"example"'},"\ndocker run \\\n  -e driverName=mysql \\\n  -e dataSourceName='user:password@tcp(x.x.x.x:3306)/' \\\n  -p 8000:8000 \\\n  casbin/casdoor:latest\n\n"))),(0,r.kt)("p",null,"Crie ",(0,r.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),". Voc\xea pode copi\xe1-lo de ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},"conf/app.conf")," no Casdoor. Para mais detalhes sobre ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf"),", voc\xea pode ver ",(0,r.kt)("a",{parentName:"p",href:"/docs/basic/server-installation#via-ini-file"},"Via arquivo Ini"),"."),(0,r.kt)("p",null,"Ent\xe3o execute"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker run  -p 8000:8000 -v /folder/of/app.conf:/conf casbin/casdoor:latest\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"The default user of Casdoor has a uid and gid of 1000. When using volume mapping with SQLite (or any storage requiring file permissions), ensure that the path (e.g., ",(0,r.kt)("inlineCode",{parentName:"p"},"/folder/of/app.conf")," in the example above) is accessible to uid 1000. This avoids permission errors like ",(0,r.kt)("inlineCode",{parentName:"p"},"permission denied")," when Casdoor writes to mapped volumes.")),(0,r.kt)("p",null,"De qualquer forma, apenas ",(0,r.kt)("strong",{parentName:"p"},"monte o app.conf em /conf/app.conf")," e inicie o cont\xeainer."),(0,r.kt)("p",null,"Visite ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:8000"))," no seu navegador. Fa\xe7a login no painel do Casdoor com a conta de admin global padr\xe3o: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("h3",{id:"op\xe7\xe3o-3-experimente-com-docker-compose"},(0,r.kt)("strong",{parentName:"h3"},"Op\xe7\xe3o-3"),": Experimente com docker-compose"),(0,r.kt)("p",null,"Crie um diret\xf3rio ",(0,r.kt)("inlineCode",{parentName:"p"},"conf/app.conf")," no mesmo n\xedvel de diret\xf3rio que o arquivo ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml"),". Ent\xe3o, copie ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},"app.conf")," do Casdoor. Para mais detalhes sobre ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf"),", voc\xea pode ver ",(0,r.kt)("a",{parentName:"p",href:"/docs/basic/server-installation#via-ini-file"},"Via arquivo Ini"),"."),(0,r.kt)("p",null,"Crie um banco de dados separado usando docker-compose:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose up\n")),(0,r.kt)("p",null,"\xc9 isso! \ud83d\udee9\ufe0f"),(0,r.kt)("p",null,"Visite ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:8000"))," no seu navegador. Fa\xe7a login no painel do Casdoor com a conta de admin global padr\xe3o: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Se voc\xea aprofundar no arquivo docker-compose.yml, voc\xea pode ficar confuso com a vari\xe1vel de ambiente que criamos chamada \"RUNNING_IN_DOCKER\". Quando o banco de dados 'db' \xe9 criado via docker-compose, ele est\xe1 dispon\xedvel no localhost do seu PC, mas n\xe3o no localhost do cont\xeainer do Casdoor. Para evitar que voc\xea encontre problemas causados pela modifica\xe7\xe3o do app.conf, o que pode ser bastante dif\xedcil para um novo usu\xe1rio, fornecemos essa vari\xe1vel de ambiente e a pr\xe9-atribu\xedmos no docker-compose.yml. Quando essa vari\xe1vel de ambiente est\xe1 definida como verdadeira, localhost ser\xe1 substitu\xeddo por host.docker.internal para que o Casdoor possa acessar o banco de dados.")))}m.isMDXComponent=!0}}]);