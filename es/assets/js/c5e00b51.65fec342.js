"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[5174],{3905:(e,r,a)=>{a.d(r,{Zo:()=>p,kt:()=>m});var t=a(67294);function o(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function n(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function i(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?n(Object(a),!0).forEach((function(r){o(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}function s(e,r){if(null==e)return{};var a,t,o=function(e,r){if(null==e)return{};var a,t,o={},n=Object.keys(e);for(t=0;t<n.length;t++)a=n[t],r.indexOf(a)>=0||(o[a]=e[a]);return o}(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)a=n[t],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=t.createContext({}),c=function(e){var r=t.useContext(l),a=r;return e&&(a="function"==typeof e?e(r):i(i({},r),e)),a},p=function(e){var r=c(e.components);return t.createElement(l.Provider,{value:r},e.children)},d={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},g=t.forwardRef((function(e,r){var a=e.components,o=e.mdxType,n=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),g=c(a),m=o,u=g["".concat(l,".").concat(m)]||g[m]||d[m]||n;return a?t.createElement(u,i(i({ref:r},p),{},{components:a})):t.createElement(u,i({ref:r},p))}));function m(e,r){var a=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var n=a.length,i=new Array(n);i[0]=g;var s={};for(var l in r)hasOwnProperty.call(r,l)&&(s[l]=r[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var c=2;c<n;c++)i[c]=a[c];return t.createElement.apply(null,i)}return t.createElement.apply(null,a)}g.displayName="MDXCreateElement"},36404:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>n,metadata:()=>s,toc:()=>c});var t=a(87462),o=(a(67294),a(3905));const n={title:"Generando archivos Swagger",description:"Generando archivos Swagger",keywords:["bee","swagger"],authors:["ComradeProgrammer"]},i=void 0,s={unversionedId:"developer-guide/swagger",id:"developer-guide/swagger",title:"Generando archivos Swagger",description:"Generando archivos Swagger",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/developer-guide/swagger.md",sourceDirName:"developer-guide",slug:"/developer-guide/swagger",permalink:"/es/docs/developer-guide/swagger",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/developer-guide/swagger.md",tags:[],version:"current",frontMatter:{title:"Generando archivos Swagger",description:"Generando archivos Swagger",keywords:["bee","swagger"],authors:["ComradeProgrammer"]},sidebar:"tutorialSidebar",previous:{title:"Frontend",permalink:"/es/docs/developer-guide/frontend"},next:{title:"Organizations",permalink:"/es/docs/category/organizations"}},l={},c=[{value:"Visi\xf3n general",id:"visi\xf3n-general",level:2},{value:"C\xf3mo escribir el comentario",id:"c\xf3mo-escribir-el-comentario",level:2},{value:"C\xf3mo generar el archivo swagger",id:"c\xf3mo-generar-el-archivo-swagger",level:2}],p={toc:c};function d(e){let{components:r,...a}=e;return(0,o.kt)("wrapper",(0,t.Z)({},p,a,{components:r,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"visi\xf3n-general"},"Visi\xf3n general"),(0,o.kt)("p",null,'Como sabemos, el marco de trabajo beego proporciona soporte para generar archivos swagger para aclarar la API a trav\xe9s de la herramienta de l\xednea de comandos llamada "bee". Casdoor tambi\xe9n est\xe1 construido sobre beego. Sin embargo, descubrimos que los archivos swagger generados por bee no lograban categorizar las API con la etiqueta "@Tag". Por lo tanto, modificamos el bee original para implementar esta funci\xf3n.'),(0,o.kt)("h2",{id:"c\xf3mo-escribir-el-comentario"},"C\xf3mo escribir el comentario"),(0,o.kt)("p",null,'La mayor\xeda de las reglas son exactamente id\xe9nticas a los formatos de comentarios del bee original. La \xfanica discrepancia es que la API se dividir\xe1 en diferentes grupos de acuerdo con la etiqueta "@Tag". Por lo tanto, los desarrolladores est\xe1n obligados a asegurarse de que esta etiqueta se agregue correctamente. Aqu\xed hay un ejemplo:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'// @Title Login\n// @Tag Login API\n// @Description login\n// @Param   oAuthParams     query    string  true        "oAuth parameters"\n// @Param   body    body   RequestForm  true        "Login information"\n// @Success 200 {object} controllers.api_controller.Response The Response object\n// @router /login [post]\nfunc (c *ApiController) Login() {\n')),(0,o.kt)("p",null,'Las API con las mismas etiquetas "@Tag" se colocar\xe1n en el mismo grupo.'),(0,o.kt)("h2",{id:"c\xf3mo-generar-el-archivo-swagger"},"C\xf3mo generar el archivo swagger"),(0,o.kt)("ol",{start:0},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Escribe comentarios para la API en el formato correcto.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Obt\xe9n este repositorio: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casbin/bee"},"https://github.com/casbin/bee"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Construye el bee modificado. Por ejemplo, en el directorio ra\xedz de casbin/bee, ejecuta el siguiente comando:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"go build -o mybee .\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Copia mybee al directorio base de casdoor.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"En ese directorio, ejecuta el siguiente comando:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"mybee generate docs\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"(Opcional) Si quieres generar un documento swagger para etiquetas o apis espec\xedficas, aqu\xed hay algunos comandos de ejemplo:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'mybee generate docs --tags "Adapter API"\nmybee generate docs --tags "Adapter API,Login API"\nmybee generate docs --apis "add-adapter"\nmybee generate docs --apis "add-adapter,delete-adapter"\n')),(0,o.kt)("p",{parentName:"li"},"Notablemente: Solo aceptamos una coma ",(0,o.kt)("inlineCode",{parentName:"p"},",")," como separador cuando se proporcionan m\xfaltiples etiquetas/apis."))),(0,o.kt)("p",null,"Entonces encontrar\xe1s que se generan los nuevos archivos swagger."))}d.isMDXComponent=!0}}]);