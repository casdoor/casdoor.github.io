"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[696],{3905:(e,a,t)=>{t.d(a,{Zo:()=>c,kt:()=>u});var n=t(67294);function o(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){o(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,o=function(e,a){if(null==e)return{};var t,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(o[t]=e[t]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=n.createContext({}),d=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},c=function(e){var a=d(e.components);return n.createElement(s.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=d(t),u=o,k=m["".concat(s,".").concat(u)]||m[u]||p[u]||r;return t?n.createElement(k,i(i({ref:a},c),{},{components:t})):n.createElement(k,i({ref:a},c))}));function u(e,a){var t=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=m;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var d=2;d<r;d++)i[d]=t[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},77554:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var n=t(87462),o=(t(67294),t(3905));const r={title:"Instalaci\xf3n del Servidor",description:"Instalar y configurar el servidor Casdoor",keywords:["Servidor Casdoor","instalaci\xf3n","configuraci\xf3n"],authors:["hsluoyz"]},i=void 0,l={unversionedId:"basic/server-installation",id:"basic/server-installation",title:"Instalaci\xf3n del Servidor",description:"Instalar y configurar el servidor Casdoor",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/basic/server-installation.mdx",sourceDirName:"basic",slug:"/basic/server-installation",permalink:"/es/docs/basic/server-installation",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/basic/server-installation.mdx",tags:[],version:"current",frontMatter:{title:"Instalaci\xf3n del Servidor",description:"Instalar y configurar el servidor Casdoor",keywords:["Servidor Casdoor","instalaci\xf3n","configuraci\xf3n"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"Conceptos fundamentales",permalink:"/es/docs/basic/core-concepts"},next:{title:"(Opcional) Prueba con Docker",permalink:"/es/docs/basic/try-with-docker"}},s={},d=[{value:"Requisitos",id:"requisitos",level:2},{value:"Sistema Operativo",id:"sistema-operativo",level:3},{value:"Entorno",id:"entorno",level:3},{value:"Base de datos",id:"base-de-datos",level:3},{value:"Descargar",id:"descargar",level:2},{value:"Configuraci\xf3n",id:"configuraci\xf3n",level:2},{value:"Configurar Base de Datos",id:"configurar-base-de-datos",level:3},{value:"MySQL",id:"mysql",level:4},{value:"PostgreSQL",id:"postgresql",level:4},{value:"SQLite3",id:"sqlite3",level:4},{value:"A trav\xe9s de archivo Ini",id:"a-trav\xe9s-de-archivo-ini",level:3},{value:"A trav\xe9s de Variables de Entorno",id:"a-trav\xe9s-de-variables-de-entorno",level:3},{value:"Ejecutar",id:"ejecutar",level:2},{value:"Modo de Desarrollo",id:"modo-de-desarrollo",level:3},{value:"Backend",id:"backend",level:4},{value:"Frontend",id:"frontend",level:4},{value:"Modo Producci\xf3n",id:"modo-producci\xf3n",level:3},{value:"Backend",id:"backend-1",level:4},{value:"Frontend",id:"frontend-1",level:4}],c={toc:d};function p(e){let{components:a,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},c,r,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"requisitos"},"Requisitos"),(0,o.kt)("h3",{id:"sistema-operativo"},"Sistema Operativo"),(0,o.kt)("p",null,"Todos los principales sistemas operativos, incluyendo Windows, Linux y macOS, son compatibles."),(0,o.kt)("h3",{id:"entorno"},"Entorno"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://go.dev/dl/"},"Go 1.17+")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://nodejs.org"},"Node.js LTS (18)")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://classic.yarnpkg.com/en/docs/install"},"Yarn 1.x"))),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Sugerimos encarecidamente utilizar ",(0,o.kt)("a",{parentName:"p",href:"https://classic.yarnpkg.com/en/docs/install"},"Yarn 1.x")," para ejecutar y construir el frontend de Casdoor. Usar NPM podr\xeda causar problemas de estilo de la interfaz de usuario. Para m\xe1s detalles, ver: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/issues/294"},"casdoor#294"),".")),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Si tu red no logra sincronizar directamente los paquetes de dependencia de Go con \xe9xito, necesitas usar un proxy de Go configurando la variable de entorno GOPROXY. Recomendamos encarecidamente utilizar: ",(0,o.kt)("a",{parentName:"p",href:"https://goproxy.cn/"},"https://goproxy.cn/"))),(0,o.kt)("h3",{id:"base-de-datos"},"Base de datos"),(0,o.kt)("p",null,"Casdoor utiliza ",(0,o.kt)("a",{parentName:"p",href:"https://xorm.io/"},"XORM")," para comunicarse con la base de datos. Basado en ",(0,o.kt)("a",{parentName:"p",href:"https://gitea.com/xorm/xorm#drivers-support"},"Soporte de Drivers de Xorm"),", Casdoor actualmente proporciona soporte para las siguientes bases de datos:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"MySQL")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"MariaDB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"PostgreSQL")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"CockroachDB")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SQL Server")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Oracle")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SQLite 3")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"TiDB"))),(0,o.kt)("h2",{id:"descargar"},"Descargar"),(0,o.kt)("p",null,"El c\xf3digo fuente de Casdoor est\xe1 alojado en GitHub: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor"},"https://github.com/casdoor/casdoor"),". Tanto el c\xf3digo backend de Go como el c\xf3digo frontend de React est\xe1n contenidos en un solo repositorio."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Nombre"),(0,o.kt)("th",{parentName:"tr",align:null},"Descripci\xf3n"),(0,o.kt)("th",{parentName:"tr",align:null},"Idioma"),(0,o.kt)("th",{parentName:"tr",align:null},"C\xf3digo fuente"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Frontend"),(0,o.kt)("td",{parentName:"tr",align:null},"Interfaz de usuario frontend web para Casdoor"),(0,o.kt)("td",{parentName:"tr",align:null},"JavaScript + React"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor/tree/master/web"},"https://github.com/casdoor/casdoor/tree/master/web"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Backend"),(0,o.kt)("td",{parentName:"tr",align:null},"Backend API RESTful para Casdoor"),(0,o.kt)("td",{parentName:"tr",align:null},"Golang + Beego + XORM"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor"},"https://github.com/casdoor/casdoor"))))),(0,o.kt)("p",null,"Casdoor soporta ",(0,o.kt)("inlineCode",{parentName:"p"},"Go Modules"),". Para descargar el c\xf3digo, simplemente clona el c\xf3digo usando git:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd path/to/folder\ngit clone https://github.com/casdoor/casdoor\n")),(0,o.kt)("h2",{id:"configuraci\xf3n"},"Configuraci\xf3n"),(0,o.kt)("h3",{id:"configurar-base-de-datos"},"Configurar Base de Datos"),(0,o.kt)("p",null,"Casdoor soporta MySQL, MSSQL, SQLite3 y PostgreSQL. Por defecto, Casdoor utiliza MySQL."),(0,o.kt)("h4",{id:"mysql"},"MySQL"),(0,o.kt)("p",null,"Casdoor almacena informaci\xf3n de usuarios, nodos y temas en una base de datos MySQL llamada ",(0,o.kt)("inlineCode",{parentName:"p"},"casdoor"),". Si la base de datos no existe, debe ser creada manualmente. La cadena de conexi\xf3n de la DB se puede especificar en: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},"https://github.com/casdoor/casdoor/blob/master/conf/app.conf")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ini"},"driverName = mysql\ndataSourceName = root:123456@tcp(localhost:3306)/\ndbName = casdoor\n")),(0,o.kt)("h4",{id:"postgresql"},"PostgreSQL"),(0,o.kt)("p",null,"Antes de ejecutar Casdoor, necesitas preparar manualmente una base de datos para PostgreSQL, ya que Casdoor requiere seleccionar una base de datos al abrir Postgres con xorm."),(0,o.kt)("p",null,"Suponiendo que ya has preparado una base de datos llamada ",(0,o.kt)("inlineCode",{parentName:"p"},"casdoor"),", deber\xedas especificar ",(0,o.kt)("inlineCode",{parentName:"p"},"app.conf")," de esta manera:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ini"},'driverName = postgres\ndataSourceName = "user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor"\ndbName = casdoor\n')),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"Para PostgreSQL, aseg\xfarese de que ",(0,o.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dataSourceName")," tenga un ",(0,o.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dbName")," no vac\xedo y tambi\xe9n ",(0,o.kt)("a",{parentName:"mdxAdmonitionTitle",href:"https://github.com/casdoor/casdoor/issues/2127"},"duplique")," el nombre de la base de datos para el campo ",(0,o.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dbname")," como se muestra en el ejemplo anterior. :::"),(0,o.kt)("h4",{parentName:"admonition",id:"cockroachdb"},"CockroachDB"),(0,o.kt)("p",{parentName:"admonition"},"CockroachDB tambi\xe9n se puede utilizar con el controlador de PostgreSQL y tiene la misma configuraci\xf3n que PostgreSQL."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-ini"},'driverName = postgres\ndataSourceName = "user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor serial_normalization=virtual_sequence"\ndbName = casdoor\n'))),(0,o.kt)("h4",{id:"sqlite3"},"SQLite3"),(0,o.kt)("p",null,"Para configurar SQLite3, deber\xedas especificar ",(0,o.kt)("inlineCode",{parentName:"p"},"app.conf")," de esta manera:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ini"},'driverName = sqlite\ndataSourceName = "file:casdoor.db?cache=shared"\ndbName = casdoor\n')),(0,o.kt)("h3",{id:"a-trav\xe9s-de-archivo-ini"},"A trav\xe9s de archivo Ini"),(0,o.kt)("p",null,"Casdoor se puede configurar a trav\xe9s de un solo archivo: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},(0,o.kt)("strong",{parentName:"a"},"conf/app.conf")),", que por defecto contiene el siguiente contenido:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ini"},'appname = casdoor\nhttpport = 8000\nrunmode = dev\nSessionOn = true\ncopyrequestbody = true\ndriverName = mysql\ndataSourceName = root:123456@tcp(localhost:3306)/\ndbName = casdoor\ntableNamePrefix =\nshowSql = false\nredisEndpoint =\ndefaultStorageProvider =\nisCloudIntranet = false\nauthState = "casdoor"\nsocks5Proxy = "127.0.0.1:10808"\nverificationCodeTimeout = 10\ninitScore = 2000\nlogPostOnly = true\norigin = "https://door.casdoor.com"\nstaticBaseUrl = "https://cdn.casbin.org"\nenableGzip = true\ninactiveTimeoutMinutes =\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"appname")," es el nombre de la aplicaci\xf3n, que actualmente no tiene uso pr\xe1ctico."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"httpport")," es el puerto en el que tu aplicaci\xf3n backend est\xe1 escuchando."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"runmode")," se puede configurar a ",(0,o.kt)("inlineCode",{parentName:"li"},"dev")," o ",(0,o.kt)("inlineCode",{parentName:"li"},"prod"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"SessionOn")," determina si habilitar la sesi\xf3n y est\xe1 habilitado por defecto."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"driverName"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"dataSourceName")," y ",(0,o.kt)("inlineCode",{parentName:"li"},"dbName")," fueron introducidos anteriormente. Por favor, ver ",(0,o.kt)("a",{parentName:"li",href:"#configure-database"},"Configurar Base de Datos")," para m\xe1s detalles."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"verificationCodeTimeout")," establece el tiempo de expiraci\xf3n del c\xf3digo de verificaci\xf3n. Despu\xe9s de la expiraci\xf3n, el usuario necesita obtenerlo de nuevo.")),(0,o.kt)("p",null,"Como principiante, solo necesitas modificar dos elementos: ",(0,o.kt)("inlineCode",{parentName:"p"},"driverName")," y ",(0,o.kt)("inlineCode",{parentName:"p"},"dataSourceName")," basado en tu base de datos. Esta base de datos ser\xe1 utilizada por Casdoor para almacenar todos los datos, incluyendo usuarios, organizaciones y aplicaciones."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"tableNamePrefix")," es el prefijo de la tabla al usar un adaptador."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"showSql")," determina si mostrar las declaraciones SQL en el logger si el nivel de log es mayor que INFO."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"redisEndpoint")," es el punto final de Redis utilizado por el almacenamiento de sesi\xf3n de Beego. Si este par\xe1metro est\xe1 vac\xedo, los datos de la sesi\xf3n se almacenar\xe1n localmente como archivos en la carpeta ",(0,o.kt)("inlineCode",{parentName:"li"},"./tmp"),". Para usar Redis como almacenamiento de sesi\xf3n de Beego, el valor ser\xeda algo como: ",(0,o.kt)("inlineCode",{parentName:"li"},"redis.example.com:6379"),". Si Redis est\xe1 desplegado localmente, puedes usar ",(0,o.kt)("inlineCode",{parentName:"li"},"localhost:6379"),". Si la contrase\xf1a de Redis est\xe1 habilitada, usa ",(0,o.kt)("inlineCode",{parentName:"li"},"redis.example.com:6379,db,password"),". Ver m\xe1s detalles en: ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/beego/beedoc/blob/master/en-US/module/session.md#saving-provider-config"},"https://github.com/beego/beedoc/blob/master/en-US/module/session.md#saving-provider-config"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"defaultStorageProvider")," es el nombre del servicio de almacenamiento de archivos predeterminado. Si necesitas utilizar servicios de almacenamiento de archivos como la carga de avatares, necesitas configurar un proveedor de almacenamiento y aplicarlo en tu aplicaci\xf3n. Ver ",(0,o.kt)("a",{parentName:"li",href:"/docs/provider/storage/overview"},(0,o.kt)("strong",{parentName:"a"},"almacenamiento"))," para m\xe1s detalles."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"isCloudIntranet")," se utiliza para identificar si tu punto final del proveedor es un punto final de intranet."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"authState")," es el nombre de la aplicaci\xf3n de autorizaci\xf3n. Este par\xe1metro ser\xe1 verificado al iniciar sesi\xf3n."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"socks5Proxy")," es la direcci\xf3n IP del servidor proxy SOCKS. Establece el puerto del proxy porque tenemos servicios relacionados con Google o usamos ",(0,o.kt)("inlineCode",{parentName:"li"},"Google"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"GitHub"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"Facebook"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"LinkedIn")," o ",(0,o.kt)("inlineCode",{parentName:"li"},"Steam")," como Proveedores de OAuth, que pueden estar restringidos por la red en algunas \xe1reas."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"initScore")," es la puntuaci\xf3n inicial de cada usuario. Cada usuario tiene un atributo de puntuaci\xf3n. La puntuaci\xf3n es utilizada por ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/casbin/casnode"},(0,o.kt)("strong",{parentName:"a"},"Casnode"))," y no controla nada en Casdoor."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"logPostOnly")," se utiliza para determinar si solo se utiliza el m\xe9todo post para agregar un registro."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"origin")," es el nombre de dominio del backend de origen."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"staticBaseUrl")," es la direcci\xf3n de la imagen est\xe1tica utilizada cuando el sistema inicializa la base de datos."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"enableGzip")," aceptar\xe1 y responder\xe1 con codificaci\xf3n gzip si el encabezado de la solicitud incluye ",(0,o.kt)("inlineCode",{parentName:"li"},"Accept-Encoding=gzip"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"inactiveTimeoutMinutes")," sets the maximum number of minutes of inactivity. If the inactivity time reaches this value, then casdoor will log the user out. Empty value or value less than or equal to 0 means there is no limit on the user's inactivity time.")),(0,o.kt)("h3",{id:"a-trav\xe9s-de-variables-de-entorno"},"A trav\xe9s de Variables de Entorno"),(0,o.kt)("p",null,"Todos los elementos de configuraci\xf3n definidos por Casdoor en el archivo ini mencionado anteriormente se pueden configurar a trav\xe9s de variables de entorno, as\xed como algunos de los elementos de configuraci\xf3n de beego (httpport, appname)."),(0,o.kt)("p",null,"Por ejemplo, cuando intentas iniciar Casdoor, puedes usar algo como esto para pasar la configuraci\xf3n a trav\xe9s de variables de entorno:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"appname=casbin go run main.go\n")),(0,o.kt)("p",null,"Adem\xe1s, los derivados de ",(0,o.kt)("inlineCode",{parentName:"p"},"export")," tambi\xe9n son un m\xe9todo posible. Los nombres de las variables ambientales deben coincidir exactamente con los nombres que deseas utilizar en el archivo ini."),(0,o.kt)("p",null,"Nota: las configuraciones en variables ambientales pueden sobrescribir las configuraciones en el archivo ini."),(0,o.kt)("h2",{id:"ejecutar"},"Ejecutar"),(0,o.kt)("p",null,"Actualmente hay dos m\xe9todos para iniciar, y puedes elegir uno seg\xfan tu situaci\xf3n."),(0,o.kt)("h3",{id:"modo-de-desarrollo"},"Modo de Desarrollo"),(0,o.kt)("h4",{id:"backend"},"Backend"),(0,o.kt)("p",null,"El backend de Go de Casdoor se ejecuta en el puerto 8000 por defecto. Puedes iniciar el backend de Go con el siguiente comando:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"go run main.go\n")),(0,o.kt)("p",null,"Despu\xe9s de que el servidor est\xe9 funcionando con \xe9xito, puedes iniciar la parte frontend."),(0,o.kt)("h4",{id:"frontend"},"Frontend"),(0,o.kt)("p",null,"El frontend de Casdoor es un proyecto muy cl\xe1sico de ",(0,o.kt)("a",{parentName:"p",href:"https://create-react-app.dev/"},(0,o.kt)("strong",{parentName:"a"},"Create-React-App (CRA)")),". Se ejecuta en el puerto ",(0,o.kt)("inlineCode",{parentName:"p"},"7001")," por defecto. Usa los siguientes comandos para ejecutar el frontend:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd web\nyarn install\nyarn start\n")),(0,o.kt)("p",null,"Visita ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:7001"},(0,o.kt)("strong",{parentName:"a"},"http://localhost:7001"))," en tu navegador. Inicie sesi\xf3n en el panel de Casdoor con la cuenta de administrador global predeterminada: ",(0,o.kt)("inlineCode",{parentName:"p"},"built-in/admin"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,o.kt)("h3",{id:"modo-producci\xf3n"},"Modo Producci\xf3n"),(0,o.kt)("h4",{id:"backend-1"},"Backend"),(0,o.kt)("p",null,"Construya el c\xf3digo del backend de Casdoor Go en un ejecutable e in\xedcielo."),(0,o.kt)("p",null,"Para Linux:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"go build\n./casdoor\n")),(0,o.kt)("p",null,"Para Windows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"go build\ncasdoor.exe\n")),(0,o.kt)("h4",{id:"frontend-1"},"Frontend"),(0,o.kt)("p",null,"Construya el c\xf3digo del frontend de Casdoor en recursos est\xe1ticos (archivos .html, .js, .css):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd web\nyarn install\nyarn build\n")),(0,o.kt)("p",null,"Visite ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,o.kt)("strong",{parentName:"a"},"http://localhost:8000"))," en su navegador. Inicie sesi\xf3n en el panel de Casdoor con la cuenta de administrador global predeterminada: ",(0,o.kt)("inlineCode",{parentName:"p"},"built-in/admin"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Para usar otro puerto, por favor edite ",(0,o.kt)("inlineCode",{parentName:"p"},"conf/app.conf")," y modifique ",(0,o.kt)("inlineCode",{parentName:"p"},"httpport"),", luego reinicie el backend de Go.")),(0,o.kt)("admonition",{title:"Detalles del Puerto de Casdoor",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"En el entorno ",(0,o.kt)("strong",{parentName:"p"},"dev"),", el frontend se ejecuta por ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn run")," en el puerto 7001, as\xed que si quiere ir a la p\xe1gina de inicio de sesi\xf3n de Casdoor, necesita configurar el enlace de Casdoor como ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"http://localhost:7001"},"http://localhost:7001")),"."),(0,o.kt)("p",{parentName:"admonition"},"En el entorno ",(0,o.kt)("strong",{parentName:"p"},"prod"),", los archivos del frontend se construyen primero por ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn build")," y se sirven en el puerto 8000, as\xed que si quiere ir a la p\xe1gina de inicio de sesi\xf3n de Casdoor, necesita configurar el enlace de Casdoor como ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://your-casdoor-url.com:8000"},"https://your-casdoor-url.com:8000"))," (Si est\xe1 utilizando un proxy inverso, necesita configurar el enlace como ",(0,o.kt)("strong",{parentName:"p"},"su dominio"),")."),(0,o.kt)("h4",{parentName:"admonition",id:"tome-nuestro-foro-oficial-casnode-como-ejemplo"},"Tome Nuestro Foro Oficial Casnode como Ejemplo"),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("a",{parentName:"p",href:"https://casnode.org"},"Casnode")," utiliza Casdoor para manejar la autenticaci\xf3n."),(0,o.kt)("p",{parentName:"admonition"},"Cuando estamos probando Casnode en el entorno ",(0,o.kt)("strong",{parentName:"p"},"dev"),", configuramos el ",(0,o.kt)("inlineCode",{parentName:"p"},"serverUrl")," como ",(0,o.kt)("a",{parentName:"p",href:"http://localhost:7001"},"http://localhost:7001"),", as\xed que cuando probamos la funcionalidad de inicio de sesi\xf3n y registro usando Casdoor, ir\xe1 a localhost 7001, que es el puerto de Casdoor."),(0,o.kt)("p",{parentName:"admonition"},"Y cuando ponemos Casnode en el entorno ",(0,o.kt)("strong",{parentName:"p"},"prod"),", configuramos el ",(0,o.kt)("inlineCode",{parentName:"p"},"serverUrl")," como ",(0,o.kt)("a",{parentName:"p",href:"https://door.casdoor.com"},"https://door.casdoor.com"),", as\xed los usuarios pueden iniciar sesi\xf3n o registrarse usando Casdoor."),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("img",{alt:"Ejemplo de Casnode",src:t(4621).Z,width:"1108",height:"281"}))))}p.isMDXComponent=!0},4621:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/casnodeexample-06892ab1a66c35c830aa85d51c8f75ed.png"}}]);