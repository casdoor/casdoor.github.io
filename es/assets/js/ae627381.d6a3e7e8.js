"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[6139],{3905:(e,a,t)=>{t.d(a,{Zo:()=>d,kt:()=>c});var i=t(67294);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,i,n=function(e,a){if(null==e)return{};var t,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var s=i.createContext({}),p=function(e){var a=i.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},d=function(e){var a=p(e.components);return i.createElement(s.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return i.createElement(i.Fragment,{},a)}},m=i.forwardRef((function(e,a){var t=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=p(t),c=n,k=m["".concat(s,".").concat(c)]||m[c]||u[c]||r;return t?i.createElement(k,l(l({ref:a},d),{},{components:t})):i.createElement(k,l({ref:a},d))}));function c(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var r=t.length,l=new Array(r);l[0]=m;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var p=2;p<r;p++)l[p]=t[p];return i.createElement.apply(null,l)}return i.createElement.apply(null,t)}m.displayName="MDXCreateElement"},81563:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var i=t(87462),n=(t(67294),t(3905));const r={title:"Visi\xf3n general",description:"Gestionando Usuarios en Casdoor",keywords:["usuario","propiedades","importar"],authors:["sh1luo"]},l=void 0,o={unversionedId:"user/overview",id:"user/overview",title:"Visi\xf3n general",description:"Gestionando Usuarios en Casdoor",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/user/overview.md",sourceDirName:"user",slug:"/user/overview",permalink:"/es/docs/user/overview",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/user/overview.md",tags:[],version:"current",frontMatter:{title:"Visi\xf3n general",description:"Gestionando Usuarios en Casdoor",keywords:["usuario","propiedades","importar"],authors:["sh1luo"]},sidebar:"tutorialSidebar",previous:{title:"Users",permalink:"/es/docs/category/users"},next:{title:"MFA / 2FA",permalink:"/es/docs/user/multi-factor-authentication"}},s={},p=[{value:"Propiedades de Usuario",id:"propiedades-de-usuario",level:2},{value:"User Tags",id:"user-tags",level:2},{value:"Email Normalization",id:"email-normalization",level:2},{value:"Understanding Roles and Permissions Fields",id:"understanding-roles-and-permissions-fields",level:2},{value:"Using the Properties Field",id:"using-the-properties-field",level:2},{value:"Importando Usuarios desde Archivo XLSX",id:"importando-usuarios-desde-archivo-xlsx",level:2},{value:"Omitir cifrado de contrase\xf1a",id:"omitir-cifrado-de-contrase\xf1a",level:2}],d={toc:p};function u(e){let{components:a,...r}=e;return(0,n.kt)("wrapper",(0,i.Z)({},d,r,{components:a,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"propiedades-de-usuario"},"Propiedades de Usuario"),(0,n.kt)("p",null,"Como plataforma de autenticaci\xf3n, Casdoor es capaz de gestionar usuarios. Cada usuario tiene las siguientes propiedades:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Owner"),": La organizaci\xf3n que posee al usuario"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Name"),": El nombre de usuario \xfanico"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"CreatedTime")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"UpdatedTime")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Id"),": Identificador \xfanico para cada usuario"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Type")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Password")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"PasswordSalt")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"PasswordOptions"),": Opciones de complejidad de la contrase\xf1a"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"DisplayName"),": Se muestra en la interfaz de usuario"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"FirstName")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"LastName")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Avatar"),": Un enlace al avatar del usuario"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"PermanentAvatar")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Email")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Phone")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Location")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Address")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Afiliaci\xf3n")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"T\xedtulo")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"IdCardType")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"IdCard")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Homepage")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Bio")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Tag")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Regi\xf3n")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Idioma")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"G\xe9nero")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Cumplea\xf1os")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Educaci\xf3n")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Puntuaci\xf3n")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Karma")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Clasificaci\xf3n")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"IsDefaultAvatar")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"IsOnline")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"IsAdmin"),": Indica si el usuario es administrador de su organizaci\xf3n"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"IsGlobalAdmin"),": Indica si el usuario tiene permiso para gestionar Casdoor"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"IsForbidden")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"IsDeleted"),": When a user is soft-deleted (",(0,n.kt)("inlineCode",{parentName:"li"},"IsDeleted = true"),"), they cannot sign in through any authentication method, including OAuth providers. This prevents deleted users from re-registering via third-party login."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"SignupApplication")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Hash")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"PreHash")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"CreatedIp")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"LastSigninTime")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"LastSigninIp")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Roles"),": An array of the user's roles (extended field, read-only via User API)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Permissions"),": An array of the user's permissions (extended field, read-only via User API)")),(0,n.kt)("p",null,"Identificadores \xfanicos para inicios de sesi\xf3n en plataformas sociales:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Github")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Google")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"QQ")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"WeChat")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Facebook")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"DingTalk")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Weibo")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Gitee")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"LinkedIn")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Wecom")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Lark")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Gitlab")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Adfs")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Baidu")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Casdoor")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Infoflow")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Apple")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Azure AD")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Azure AD B2C")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Slack")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Steam")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Ldap"))),(0,n.kt)("h2",{id:"user-tags"},"User Tags"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Tag")," field allows you to categorize users for different purposes. Casdoor uses specific tag values for special user types:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"normal-user"),": Standard users with full authentication capabilities"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"guest-user"),": Temporary users created through ",(0,n.kt)("a",{parentName:"li",href:"/docs/how-to-connect/guest-auth"},"guest authentication")," without initial credentials",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Automatically upgrade to ",(0,n.kt)("inlineCode",{parentName:"li"},"normal-user")," when they set a proper username or password"),(0,n.kt)("li",{parentName:"ul"},"Cannot sign in directly until they upgrade their account")))),(0,n.kt)("p",null,"You can also define custom tags to restrict application access. See ",(0,n.kt)("a",{parentName:"p",href:"/docs/application/tags"},"Application Tags")," for more information."),(0,n.kt)("h2",{id:"email-normalization"},"Email Normalization"),(0,n.kt)("p",null,"Casdoor normalizes all email addresses to lowercase to ensure uniqueness and prevent duplicate accounts. This means that ",(0,n.kt)("inlineCode",{parentName:"p"},"user@example.com"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"User@Example.com"),", and ",(0,n.kt)("inlineCode",{parentName:"p"},"USER@EXAMPLE.COM")," are treated as the same email address, complying with RFC 5321 standards."),(0,n.kt)("p",null,"This normalization happens automatically during:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"User signup and account creation"),(0,n.kt)("li",{parentName:"ul"},"User login and authentication"),(0,n.kt)("li",{parentName:"ul"},"Email duplicate checking")),(0,n.kt)("h2",{id:"understanding-roles-and-permissions-fields"},"Understanding Roles and Permissions Fields"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Roles")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"Permissions")," fields in the User object are ",(0,n.kt)("strong",{parentName:"p"},"extended fields")," that are dynamically populated when retrieving user data. These fields are not stored directly in the User table but are collected from the Roles and Permissions resources through the ",(0,n.kt)("inlineCode",{parentName:"p"},"ExtendUserWithRolesAndPermissions()")," function."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Important:")," You cannot update roles and permissions through the ",(0,n.kt)("inlineCode",{parentName:"p"},"/api/update-user")," endpoint, even when using the ",(0,n.kt)("inlineCode",{parentName:"p"},"columns")," parameter. To manage user roles and permissions, you must use the dedicated APIs for Roles and Permissions resources."),(0,n.kt)("p",null,"To assign roles or permissions to users:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Roles"),": Use the Roles API endpoints to create and assign roles. Visit the Roles management page (e.g., ",(0,n.kt)("inlineCode",{parentName:"li"},"https://door.casdoor.com/roles"),") or use the ",(0,n.kt)("a",{parentName:"li",href:"/docs/user/roles#managing-roles-via-api"},"roles API"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Permissions"),": Use the Permissions API endpoints to create and assign permissions. Visit the Permissions management page (e.g., ",(0,n.kt)("inlineCode",{parentName:"li"},"https://door.casdoor.com/permissions"),") or use the ",(0,n.kt)("a",{parentName:"li",href:"/docs/user/permissions#managing-permissions-via-api"},"permissions API"),".")),(0,n.kt)("h2",{id:"using-the-properties-field"},"Using the Properties Field"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"Properties")," field is a flexible key-value map (",(0,n.kt)("inlineCode",{parentName:"p"},"map[string]string"),") that allows you to store custom attributes for users beyond the predefined fields in the User schema. This is particularly useful when you need to:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Store organization-specific user attributes"),(0,n.kt)("li",{parentName:"ul"},"Add custom metadata that doesn't fit into standard fields"),(0,n.kt)("li",{parentName:"ul"},"Extend user profiles without modifying the core schema")),(0,n.kt)("h2",{id:"importando-usuarios-desde-archivo-xlsx"},"Importando Usuarios desde Archivo XLSX"),(0,n.kt)("p",null,"Puedes a\xf1adir nuevos usuarios o actualizar usuarios de Casdoor existentes subiendo un archivo XLSX que contenga informaci\xf3n del usuario."),(0,n.kt)("p",null,"En la Consola de Administraci\xf3n, ve a Usuarios y haz clic en el bot\xf3n ",(0,n.kt)("strong",{parentName:"p"},"Subir (.xlsx)"),"."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Importando Usuarios",src:t(19501).Z,width:"2560",height:"1374"})),(0,n.kt)("p",null,"Selecciona tu archivo XLSX y haz clic en Abrir. Los usuarios ser\xe1n importados."),(0,n.kt)("p",null,"Proporcionamos un ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/xlsx/user_test.xlsx"},"archivo XLSX de plantilla")," llamado ",(0,n.kt)("inlineCode",{parentName:"p"},"user_test.xlsx")," en la carpeta ",(0,n.kt)("inlineCode",{parentName:"p"},"xlsx"),". La plantilla incluye 5 usuarios de prueba y encabezados para algunas propiedades de usuario requeridas."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Importaci\xf3n Exitosa",src:t(65667).Z,width:"2560",height:"1374"})),(0,n.kt)("h2",{id:"omitir-cifrado-de-contrase\xf1a"},"Omitir cifrado de contrase\xf1a"),(0,n.kt)("p",null,"Al migrar usuarios desde una base de datos externa a Casdoor, puede haber situaciones en las que quieras omitir o controlar el m\xe9todo de cifrado predeterminado proporcionado por el tipo de contrase\xf1a predeterminado de ",(0,n.kt)("inlineCode",{parentName:"p"},"organization"),"."),(0,n.kt)("p",null,"Esto se puede lograr utilizando el campo ",(0,n.kt)("inlineCode",{parentName:"p"},"passwordType")," durante la importaci\xf3n de usuarios."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"Usuario con contrase\xf1a Bycrypt"),(0,n.kt)("p",{parentName:"admonition"},"A continuaci\xf3n, se muestra un ejemplo de un cuerpo de solicitud POST para la ruta de la API ",(0,n.kt)("inlineCode",{parentName:"p"},"/api/add-user"),"."),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "owner": "organization",\n    "signupApplication": "first-app",\n    "email":"dev@dev.com",\n    "name": "dev",\n    "displayName": "developper",\n    "password": "$2a$10$.o/iVyDE9Xk8ioywHDnQRu72RviOi6FPa1ujhusbSCZeg7VOa6MY6",\n    "passwordType":"bcrypt",\n}\n')),(0,n.kt)("p",{parentName:"admonition"},"Aqu\xed, la contrase\xf1a del usuario ya est\xe1 cifrada usando el algoritmo bcrypt, por lo que especificamos el ",(0,n.kt)("inlineCode",{parentName:"p"},"passwordType"),' como "bcrypt" para informar a Casdoor que no la cifre de nuevo.')))}u.isMDXComponent=!0},65667:(e,a,t)=>{t.d(a,{Z:()=>i});const i=t.p+"assets/images/import_success-8be0db7efa60235af1149e529292948b.png"},19501:(e,a,t)=>{t.d(a,{Z:()=>i});const i=t.p+"assets/images/import_users-8ff88d9eb5619863117e1cf13cba96ff.png"}}]);