"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[8118],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>c});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),d=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=d(e.components);return a.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=d(t),c=r,k=m["".concat(s,".").concat(c)]||m[c]||u[c]||o;return t?a.createElement(k,i(i({ref:n},p),{},{components:t})):a.createElement(k,i({ref:n},p))}));function c(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var d=2;d<o;d++)i[d]=t[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},79929:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var a=t(87462),r=(t(67294),t(3905));const o={title:"Serverinstallation",description:"Casdoor-Server installieren und konfigurieren",keywords:["Casdoor-Server","Installation","Konfiguration"],authors:["hsluoyz"]},i=void 0,l={unversionedId:"basic/server-installation",id:"basic/server-installation",title:"Serverinstallation",description:"Casdoor-Server installieren und konfigurieren",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/basic/server-installation.mdx",sourceDirName:"basic",slug:"/basic/server-installation",permalink:"/de/docs/basic/server-installation",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/basic/server-installation.mdx",tags:[],version:"current",frontMatter:{title:"Serverinstallation",description:"Casdoor-Server installieren und konfigurieren",keywords:["Casdoor-Server","Installation","Konfiguration"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"Kernkonzepte",permalink:"/de/docs/basic/core-concepts"},next:{title:"Configuration File",permalink:"/de/docs/basic/configuration"}},s={},d=[{value:"Anforderungen",id:"anforderungen",level:2},{value:"Betriebssystem",id:"betriebssystem",level:3},{value:"Umgebung",id:"umgebung",level:3},{value:"Datenbank",id:"datenbank",level:3},{value:"Herunterladen",id:"herunterladen",level:2},{value:"Konfiguration",id:"konfiguration",level:2},{value:"Datenbank konfigurieren",id:"datenbank-konfigurieren",level:3},{value:"MySQL",id:"mysql",level:4},{value:"PostgreSQL",id:"postgresql",level:4},{value:"SQLite3",id:"sqlite3",level:4},{value:"Configuration Files",id:"configuration-files",level:3},{value:"Ausf\xfchren",id:"ausf\xfchren",level:2},{value:"Entwicklungsmodus",id:"entwicklungsmodus",level:3},{value:"Backend",id:"backend",level:4},{value:"Frontend",id:"frontend",level:4},{value:"Produktionsmodus",id:"produktionsmodus",level:3},{value:"Backend",id:"backend-1",level:4},{value:"Frontend",id:"frontend-1",level:4}],p={toc:d};function u(e){let{components:n,...o}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,o,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"anforderungen"},"Anforderungen"),(0,r.kt)("h3",{id:"betriebssystem"},"Betriebssystem"),(0,r.kt)("p",null,"All major operating systems are supported, including Windows, Linux, and macOS."),(0,r.kt)("h3",{id:"umgebung"},"Umgebung"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://go.dev/dl/"},"Go 1.21+")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org"},"Node.js LTS (20)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://classic.yarnpkg.com/en/docs/install"},"Yarn 1.x"))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"We strongly recommend using ",(0,r.kt)("a",{parentName:"p",href:"https://classic.yarnpkg.com/en/docs/install"},"Yarn 1.x")," to run and build the Casdoor frontend. Die Verwendung von NPM k\xf6nnte zu Problemen mit dem UI-Styling f\xfchren. Weitere Details finden Sie unter: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/issues/294"},"casdoor#294"),".")),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"If your network fails to directly sync Go dependency packages successfully, you need to use a Go proxy by configuring the GOPROXY environment variable. Wir empfehlen dringend die Verwendung von: ",(0,r.kt)("a",{parentName:"p",href:"https://goproxy.cn/"},"https://goproxy.cn/"))),(0,r.kt)("h3",{id:"datenbank"},"Datenbank"),(0,r.kt)("p",null,"Casdoor verwendet ",(0,r.kt)("a",{parentName:"p",href:"https://xorm.io/"},"XORM"),", um mit der Datenbank zu kommunizieren. Based on ",(0,r.kt)("a",{parentName:"p",href:"https://xorm.io/docs/chapter-01/readme/"},"Xorm Drivers Support"),", Casdoor currently provides support for the following databases:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MySQL")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MariaDB")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PostgreSQL")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CockroachDB")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SQL Server")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Oracle")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"SQLite 3")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TiDB"))),(0,r.kt)("h2",{id:"herunterladen"},"Herunterladen"),(0,r.kt)("p",null,"Der Quellcode von Casdoor ist auf GitHub gehostet: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor"},"https://github.com/casdoor/casdoor"),". Sowohl der Go-Backend-Code als auch der React-Frontend-Code befinden sich in einem einzigen Repository."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Beschreibung"),(0,r.kt)("th",{parentName:"tr",align:null},"Sprache"),(0,r.kt)("th",{parentName:"tr",align:null},"Quellcode"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Frontend"),(0,r.kt)("td",{parentName:"tr",align:null},"Web-Frontend-Benutzeroberfl\xe4che f\xfcr Casdoor"),(0,r.kt)("td",{parentName:"tr",align:null},"JavaScript + React"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor/tree/master/web"},"https://github.com/casdoor/casdoor/tree/master/web"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Backend"),(0,r.kt)("td",{parentName:"tr",align:null},"RESTful-API-Backend f\xfcr Casdoor"),(0,r.kt)("td",{parentName:"tr",align:null},"Golang + Beego + XORM"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://github.com/casdoor/casdoor"},"https://github.com/casdoor/casdoor"))))),(0,r.kt)("p",null,"Casdoor unterst\xfctzt ",(0,r.kt)("inlineCode",{parentName:"p"},"Go Modules"),". Um den Code herunterzuladen, klonen Sie einfach den Code mit git:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"cd path/to/folder\ngit clone https://github.com/casdoor/casdoor\n")),(0,r.kt)("h2",{id:"konfiguration"},"Konfiguration"),(0,r.kt)("h3",{id:"datenbank-konfigurieren"},"Datenbank konfigurieren"),(0,r.kt)("p",null,"Casdoor unterst\xfctzt MySQL, MSSQL, SQLite3 und PostgreSQL. Standardm\xe4\xdfig verwendet Casdoor MySQL."),(0,r.kt)("h4",{id:"mysql"},"MySQL"),(0,r.kt)("p",null,"Casdoor speichert Benutzer-, Knoten- und Themendaten in einer MySQL-Datenbank namens ",(0,r.kt)("inlineCode",{parentName:"p"},"casdoor"),". Wenn die Datenbank nicht existiert, muss sie manuell erstellt werden. Die DB-Verbindungszeichenfolge kann hier angegeben werden: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},"https://github.com/casdoor/casdoor/blob/master/conf/app.conf")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"driverName = mysql\ndataSourceName = root:123456@tcp(localhost:3306)/\ndbName = casdoor\n")),(0,r.kt)("h4",{id:"postgresql"},"PostgreSQL"),(0,r.kt)("p",null,"Before running Casdoor, you need to manually prepare a database for PostgreSQL, as Casdoor requires a database to be selected when opening Postgres with xorm."),(0,r.kt)("p",null,"Angenommen, Sie haben bereits eine Datenbank namens ",(0,r.kt)("inlineCode",{parentName:"p"},"casdoor")," vorbereitet, sollten Sie ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf")," so angeben:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"driverName = postgres\ndataSourceName = user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor\ndbName = casdoor\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"F\xfcr PostgreSQL stellen Sie sicher, dass ",(0,r.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dataSourceName")," einen nicht-leeren ",(0,r.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dbName")," hat und auch ",(0,r.kt)("a",{parentName:"mdxAdmonitionTitle",href:"https://github.com/casdoor/casdoor/issues/2127"},"duplizieren")," Sie den Datenbanknamen f\xfcr das Feld ",(0,r.kt)("inlineCode",{parentName:"mdxAdmonitionTitle"},"dbname")," wie im obigen Beispiel gezeigt. :::"),(0,r.kt)("h4",{parentName:"admonition",id:"cockroachdb"},"CockroachDB"),(0,r.kt)("p",{parentName:"admonition"},"CockroachDB kann auch mit dem PostgreSQL-Treiber verwendet werden und hat die gleiche Konfiguration wie PostgreSQL."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"driverName = postgres\ndataSourceName = user=postgres password=postgres host=localhost port=5432 sslmode=disable dbname=casdoor serial_normalization=virtual_sequence\ndbName = casdoor\n"))),(0,r.kt)("h4",{id:"sqlite3"},"SQLite3"),(0,r.kt)("p",null,"Um SQLite3 zu konfigurieren, sollten Sie ",(0,r.kt)("inlineCode",{parentName:"p"},"app.conf")," so angeben:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"driverName = sqlite\ndataSourceName = file:casdoor.db?cache=shared\ndbName = casdoor\n")),(0,r.kt)("h3",{id:"configuration-files"},"Configuration Files"),(0,r.kt)("p",null,"Casdoor can be configured via configuration files for both the backend and frontend. For a complete reference of all configuration options, see the ",(0,r.kt)("a",{parentName:"p",href:"/docs/basic/configuration"},"Configuration File")," documentation."),(0,r.kt)("p",null,"For basic setup, you typically only need to modify ",(0,r.kt)("inlineCode",{parentName:"p"},"driverName")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"dataSourceName")," in the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/conf/app.conf"},(0,r.kt)("strong",{parentName:"a"},"conf/app.conf"))," file based on your database (see ",(0,r.kt)("a",{parentName:"p",href:"#configure-database"},"Configure Database"),")."),(0,r.kt)("h2",{id:"ausf\xfchren"},"Ausf\xfchren"),(0,r.kt)("p",null,"Derzeit gibt es zwei Methoden zum Starten, und Sie k\xf6nnen je nach Ihrer Situation eine ausw\xe4hlen."),(0,r.kt)("h3",{id:"entwicklungsmodus"},"Entwicklungsmodus"),(0,r.kt)("h4",{id:"backend"},"Backend"),(0,r.kt)("p",null,"Das Go-Backend von Casdoor l\xe4uft standardm\xe4\xdfig auf Port 8000. Sie k\xf6nnen das Go-Backend mit dem folgenden Befehl starten:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"go run main.go\n")),(0,r.kt)("p",null,"Nachdem der Server erfolgreich l\xe4uft, k\xf6nnen Sie den Frontend-Teil starten."),(0,r.kt)("h4",{id:"frontend"},"Frontend"),(0,r.kt)("p",null,"Das Frontend von Casdoor ist ein sehr klassisches ",(0,r.kt)("a",{parentName:"p",href:"https://create-react-app.dev/"},(0,r.kt)("strong",{parentName:"a"},"Create-React-App (CRA)")),"-Projekt. Es l\xe4uft standardm\xe4\xdfig auf Port ",(0,r.kt)("inlineCode",{parentName:"p"},"7001"),". Verwenden Sie die folgenden Befehle, um das Frontend auszuf\xfchren:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd web\nyarn install\nyarn start\n")),(0,r.kt)("p",null,"Besuchen Sie ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:7001"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:7001"))," in Ihrem Browser. Melden Sie sich mit dem standardm\xe4\xdfigen globalen Admin-Konto im Casdoor-Dashboard an: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("h3",{id:"produktionsmodus"},"Produktionsmodus"),(0,r.kt)("h4",{id:"backend-1"},"Backend"),(0,r.kt)("p",null,"Bauen Sie den Casdoor Go Backend-Code in eine ausf\xfchrbares Programm um und starten Sie es."),(0,r.kt)("p",null,"F\xfcr Linux:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"go build\n./casdoor\n")),(0,r.kt)("p",null,"F\xfcr Windows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"go build\ncasdoor.exe\n")),(0,r.kt)("h4",{id:"frontend-1"},"Frontend"),(0,r.kt)("p",null,"Bauen Sie den Casdoor Frontend-Code in statische Ressourcen (.html, .js, .css Dateien):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cd web\nyarn install\nyarn build\n")),(0,r.kt)("p",null,"Besuchen Sie ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:8000"},(0,r.kt)("strong",{parentName:"a"},"http://localhost:8000"))," in Ihrem Browser. Melden Sie sich mit dem standardm\xe4\xdfigen globalen Admin-Konto im Casdoor-Dashboard an: ",(0,r.kt)("inlineCode",{parentName:"p"},"built-in/admin"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"admin\n123\n")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Um einen anderen Port zu verwenden, bearbeiten Sie bitte ",(0,r.kt)("inlineCode",{parentName:"p"},"conf/app.conf")," und \xe4ndern Sie ",(0,r.kt)("inlineCode",{parentName:"p"},"httpport"),", dann starten Sie das Go Backend neu.")),(0,r.kt)("admonition",{title:"Casdoor Port-Details",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"In der ",(0,r.kt)("strong",{parentName:"p"},"dev"),"-Umgebung wird das Frontend von ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn run")," auf Port 7001 ausgef\xfchrt, also wenn Sie zur Casdoor-Anmeldeseite gehen m\xf6chten, m\xfcssen Sie den Casdoor-Link als ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"http://localhost:7001"},"http://localhost:7001"))," einstellen."),(0,r.kt)("p",{parentName:"admonition"},"In der ",(0,r.kt)("strong",{parentName:"p"},"prod"),"-Umgebung werden die Frontend-Dateien zuerst von ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn build")," erstellt und auf Port 8000 bereitgestellt, also wenn Sie zur Casdoor-Anmeldeseite gehen m\xf6chten, m\xfcssen Sie den Casdoor-Link als ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://your-casdoor-url.com:8000"},"https://your-casdoor-url.com:8000"))," einstellen (Wenn Sie einen Reverse-Proxy verwenden, m\xfcssen Sie den Link als ",(0,r.kt)("strong",{parentName:"p"},"Ihre Domain")," einstellen)."),(0,r.kt)("h4",{parentName:"admonition",id:"nehmen-sie-unser-offizielles-forum-casnode-als-beispiel"},"Nehmen Sie unser offizielles Forum Casnode als Beispiel"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{parentName:"p",href:"https://casnode.org"},"Casnode")," verwendet Casdoor zur Authentifizierung."),(0,r.kt)("p",{parentName:"admonition"},"Wenn wir Casnode in der ",(0,r.kt)("strong",{parentName:"p"},"dev"),"-Umgebung testen, setzen wir die ",(0,r.kt)("inlineCode",{parentName:"p"},"serverUrl")," als ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:7001"},"http://localhost:7001"),", also wenn wir die Anmelde- und Registrierungsfunktion mit Casdoor testen, wird es zu localhost 7001 gehen, welches der Casdoor-Port ist."),(0,r.kt)("p",{parentName:"admonition"},"Und wenn wir Casnode in die ",(0,r.kt)("strong",{parentName:"p"},"prod"),"-Umgebung bringen, setzen wir die ",(0,r.kt)("inlineCode",{parentName:"p"},"serverUrl")," als ",(0,r.kt)("a",{parentName:"p",href:"https://door.casdoor.com"},"https://door.casdoor.com"),", so dass Benutzer sich mit Casdoor anmelden oder registrieren k\xf6nnen."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("img",{alt:"Casnode-Beispiel",src:t(4621).Z,width:"1108",height:"281"}))))}u.isMDXComponent=!0},4621:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/casnodeexample-06892ab1a66c35c830aa85d51c8f75ed.png"}}]);