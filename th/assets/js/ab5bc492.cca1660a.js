"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[9809],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),m=p(n),d=a,g=m["".concat(s,".").concat(d)]||m[d]||u[d]||o;return n?r.createElement(g,l(l({ref:t},c),{},{components:n})):r.createElement(g,l({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var p=2;p<o;p++)l[p]=n[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6464:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const o={title:"WeCom",description:"Using WeCom Syncer to synchronize users from WeCom",keywords:["syncer","wecom","wechat work"],authors:["UsherFall"]},l=void 0,i={unversionedId:"syncer/WeCom",id:"syncer/WeCom",title:"WeCom",description:"Using WeCom Syncer to synchronize users from WeCom",source:"@site/i18n/th/docusaurus-plugin-content-docs/current/syncer/WeCom.md",sourceDirName:"syncer",slug:"/syncer/WeCom",permalink:"/th/docs/syncer/WeCom",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/syncer/WeCom.md",tags:[],version:"current",frontMatter:{title:"WeCom",description:"Using WeCom Syncer to synchronize users from WeCom",keywords:["syncer","wecom","wechat work"],authors:["UsherFall"]},sidebar:"tutorialSidebar",previous:{title:"Keycloak",permalink:"/th/docs/syncer/Keycloak"},next:{title:"DingTalk",permalink:"/th/docs/syncer/DingTalk"}},s={},p=[{value:"Configuration",id:"configuration",level:2},{value:"Setup Steps",id:"setup-steps",level:2},{value:"Step 1: Obtain WeCom Credentials",id:"step-1-obtain-wecom-credentials",level:3},{value:"Step 2: Configure the Syncer in Casdoor",id:"step-2-configure-the-syncer-in-casdoor",level:3},{value:"Field Mappings",id:"field-mappings",level:2},{value:"Running the Syncer",id:"running-the-syncer",level:2}],c={toc:p};function u(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,r.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"WeCom Syncer allows you to automatically import users from your WeCom (\u4f01\u4e1a\u5fae\u4fe1) organization into Casdoor. The syncer fetches user information from all departments in your WeCom organization through the WeCom API and keeps the user data synchronized."),(0,a.kt)("h2",{id:"configuration"},"Configuration"),(0,a.kt)("p",null,"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e43\u0e19\u0e1f\u0e34\u0e25\u0e14\u0e4c\u0e15\u0e48\u0e2d\u0e44\u0e1b\u0e19\u0e35\u0e49:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Organization"),": The Casdoor organization where users will be imported"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Name"),": A unique name for this syncer"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Type"),': Select "WeCom"'),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Corp ID"),": Your WeCom organization's Corp ID"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Corp Secret"),": The secret for your WeCom application")),(0,a.kt)("h2",{id:"setup-steps"},"Setup Steps"),(0,a.kt)("h3",{id:"step-1-obtain-wecom-credentials"},"Step 1: Obtain WeCom Credentials"),(0,a.kt)("p",null,"In your WeCom management platform, navigate to ",(0,a.kt)("strong",{parentName:"p"},"My Company"),", get ",(0,a.kt)("strong",{parentName:"p"},"Corp ID")," in ",(0,a.kt)("strong",{parentName:"p"},"Company Information"),"."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"wecom_corpid",src:n(95415).Z,width:"1023",height:"814"})),(0,a.kt)("p",null,"In your Self-build App, get ",(0,a.kt)("strong",{parentName:"p"},"App secret")," (Corp Secret)."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"wecom_app",src:n(49091).Z,width:"923",height:"351"})),(0,a.kt)("p",null,"Optionally, in Sync of Contacts Management Tool, you can get ",(0,a.kt)("strong",{parentName:"p"},"Sync of Contacts secret")," for advanced configurations."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"wecom_contact",src:n(70236).Z,width:"920",height:"641"})),(0,a.kt)("h3",{id:"step-2-configure-the-syncer-in-casdoor"},"Step 2: Configure the Syncer in Casdoor"),(0,a.kt)("p",null,"Go to Syncers tab, select ",(0,a.kt)("strong",{parentName:"p"},"WeCom")," type and fill in the required information:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Enter your WeCom ",(0,a.kt)("strong",{parentName:"li"},"Corp ID")," in the Corp ID field"),(0,a.kt)("li",{parentName:"ul"},"Enter your application ",(0,a.kt)("strong",{parentName:"li"},"Secret")," (App secret) in the Corp Secret field")),(0,a.kt)("p",null,"Then save the changes."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"wecom_provider",src:n(16096).Z,width:"1341",height:"790"})),(0,a.kt)("p",null,"Click ",(0,a.kt)("strong",{parentName:"p"},"Test Connection")," to verify your credentials before enabling the syncer."),(0,a.kt)("h2",{id:"field-mappings"},"Field Mappings"),(0,a.kt)("p",null,"The syncer automatically maps WeCom user fields to Casdoor user fields:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"WeCom Field"),(0,a.kt)("th",{parentName:"tr",align:null},"Casdoor Field"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"userid"),(0,a.kt)("td",{parentName:"tr",align:null},"Id"),(0,a.kt)("td",{parentName:"tr",align:null},"User's unique identifier")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"name"),(0,a.kt)("td",{parentName:"tr",align:null},"DisplayName"),(0,a.kt)("td",{parentName:"tr",align:null},"User's display name")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"email"),(0,a.kt)("td",{parentName:"tr",align:null},"Email"),(0,a.kt)("td",{parentName:"tr",align:null},"Email address")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"mobile"),(0,a.kt)("td",{parentName:"tr",align:null},"Phone"),(0,a.kt)("td",{parentName:"tr",align:null},"Phone number")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"avatar"),(0,a.kt)("td",{parentName:"tr",align:null},"Avatar"),(0,a.kt)("td",{parentName:"tr",align:null},"Profile picture URL")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"position"),(0,a.kt)("td",{parentName:"tr",align:null},"Title"),(0,a.kt)("td",{parentName:"tr",align:null},"Job title")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"gender"),(0,a.kt)("td",{parentName:"tr",align:null},"Gender"),(0,a.kt)("td",{parentName:"tr",align:null},"Gender (1=Male, 2=Female)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"status/enable"),(0,a.kt)("td",{parentName:"tr",align:null},"IsForbidden"),(0,a.kt)("td",{parentName:"tr",align:null},"Account status")))),(0,a.kt)("p",null,"The syncer automatically handles user account status based on WeCom's status and enable fields:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Activated users")," (status=1, enable=1): Normal Casdoor users"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Disabled, not activated, or quit users")," (status=2/4/5 or enable=0): Marked as forbidden in Casdoor")),(0,a.kt)("h2",{id:"running-the-syncer"},"Running the Syncer"),(0,a.kt)("p",null,"After configuration, you can:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Enable ",(0,a.kt)("strong",{parentName:"li"},"Is enabled")," to allow automatic synchronization on schedule"),(0,a.kt)("li",{parentName:"ul"},"Use the ",(0,a.kt)("strong",{parentName:"li"},"Sync")," button to manually trigger a synchronization"),(0,a.kt)("li",{parentName:"ul"},"The syncer will fetch users from all departments and deduplicate them automatically")))}u.isMDXComponent=!0},49091:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/syncer_wecom_app-be2553fb10366cdbc7ca41586d24f93b.png"},70236:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/syncer_wecom_contact-29bbf8379e491eb084355bbd99e7b3d9.png"},95415:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/syncer_wecom_corpid-dc98a68915f2d816fd41134e5ec92e30.png"},16096:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/syncer_wecom_provider-65dfa796333daf106408093ab47df1e4.png"}}]);