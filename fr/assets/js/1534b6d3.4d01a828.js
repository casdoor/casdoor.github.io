"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[5392],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>f});var o=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=o.createContext({}),p=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},s=function(e){var n=p(e.components);return o.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=p(t),f=r,m=d["".concat(c,".").concat(f)]||d[f]||u[f]||a;return t?o.createElement(m,i(i({ref:n},s),{},{components:t})):o.createElement(m,i({ref:n},s))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=d;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<a;p++)i[p]=t[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4061:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var o=t(87462),r=(t(67294),t(3905));const a={title:"Connexion des applications avec le protocole OIDC - Confluence",description:"Apprenez \xe0 utiliser le protocole OIDC comme IDP pour connecter Confluence et d'autres applications.",keywords:["OIDC","Confluence","IDP"],authors:["jakiuncle"]},i=void 0,l={unversionedId:"integration/java/Confluence",id:"integration/java/Confluence",title:"Connexion des applications avec le protocole OIDC - Confluence",description:"Apprenez \xe0 utiliser le protocole OIDC comme IDP pour connecter Confluence et d'autres applications.",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/integration/java/Confluence.md",sourceDirName:"integration/java",slug:"/integration/java/Confluence",permalink:"/fr/docs/integration/java/Confluence",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/integration/java/Confluence.md",tags:[],version:"current",frontMatter:{title:"Connexion des applications avec le protocole OIDC - Confluence",description:"Apprenez \xe0 utiliser le protocole OIDC comme IDP pour connecter Confluence et d'autres applications.",keywords:["OIDC","Confluence","IDP"],authors:["jakiuncle"]},sidebar:"tutorialSidebar",previous:{title:"Utilisation du plugin miniOrange",permalink:"/fr/docs/integration/java/jira"},next:{title:"RuoYi",permalink:"/fr/docs/integration/java/RuoYi"}},c={},p=[{value:"\xc9tape 1 : D\xe9ployer Casdoor et Confluence",id:"\xe9tape-1--d\xe9ployer-casdoor-et-confluence",level:2},{value:"\xc9tape 2 : Configurer l&#39;application Casdoor",id:"\xe9tape-2--configurer-lapplication-casdoor",level:2},{value:"\xc9tape 3 : Configurer Confluence",id:"\xe9tape-3--configurer-confluence",level:2}],s={toc:p};function u(e){let{components:n,...a}=e;return(0,r.kt)("wrapper",(0,o.Z)({},s,a,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"/docs/basic/server-installation"},"Casdoor")," peut utiliser le protocole OIDC comme un IDP pour connecter diverses applications. Dans ce guide, nous utiliserons ",(0,r.kt)("a",{parentName:"p",href:"https://www.atlassian.com/software/confluence"},"Confluence")," comme exemple pour d\xe9montrer comment utiliser OIDC pour connecter vos applications."),(0,r.kt)("p",null,"Pour commencer, assurez-vous d'avoir d\xe9ploy\xe9 Casdoor et Confluence avec succ\xe8s. Voici quelques noms de configuration dont vous devez vous souvenir :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"CASDOOR_HOSTNAME")," : Nom de domaine ou IP o\xf9 le serveur Casdoor est d\xe9ploy\xe9."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Confluence_HOSTNAME")," : Nom de domaine ou IP o\xf9 Confluence est d\xe9ploy\xe9.")),(0,r.kt)("h2",{id:"\xe9tape-1--d\xe9ployer-casdoor-et-confluence"},"\xc9tape 1 : D\xe9ployer Casdoor et Confluence"),(0,r.kt)("p",null,"Tout d'abord, d\xe9ployez ",(0,r.kt)("a",{parentName:"p",href:"/docs/basic/server-installation"},"Casdoor")," et ",(0,r.kt)("a",{parentName:"p",href:"https://www.atlassian.com/software/confluence"},"Confluence"),"."),(0,r.kt)("p",null,"Apr\xe8s un d\xe9ploiement r\xe9ussi, assurez-vous des points suivants :"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"D\xe9finissez l'URL de Confluence \xe0 ",(0,r.kt)("inlineCode",{parentName:"li"},"Confluence_HOSTNAME"),". ",(0,r.kt)("img",{alt:"URL de Confluence",src:t(95419).Z,width:"1279",height:"586"})),(0,r.kt)("li",{parentName:"ol"},"Casdoor peut \xeatre connect\xe9 et utilis\xe9 normalement."),(0,r.kt)("li",{parentName:"ol"},"Vous pouvez d\xe9finir ",(0,r.kt)("inlineCode",{parentName:"li"},"CASDOOR_HOSTNAME")," \xe0 ",(0,r.kt)("inlineCode",{parentName:"li"},"http://localhost:8000")," si vous d\xe9ployez Casdoor en mode ",(0,r.kt)("inlineCode",{parentName:"li"},"prod"),". R\xe9f\xe9rez-vous au ",(0,r.kt)("a",{parentName:"li",href:"https://casdoor.org/docs/basic/server-installation#production-mode"},"mode production")," pour plus de d\xe9tails.")),(0,r.kt)("h2",{id:"\xe9tape-2--configurer-lapplication-casdoor"},"\xc9tape 2 : Configurer l'application Casdoor"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Cr\xe9ez une nouvelle application Casdoor ou utilisez-en une existante."),(0,r.kt)("li",{parentName:"ol"},"Trouvez une URL de redirection :",(0,r.kt)("img",{alt:"Callback de Confluence",src:t(21869).Z,width:"795",height:"114"})),(0,r.kt)("li",{parentName:"ol"},"Ajoutez l'URL de redirection \xe0 l'application :",(0,r.kt)("img",{alt:"Application Confluence",src:t(43893).Z,width:"1116",height:"300"})),(0,r.kt)("li",{parentName:"ol"},"Ajoutez le fournisseur souhait\xe9 et configurez les autres param\xe8tres en cons\xe9quence.")),(0,r.kt)("p",null,"Sur la page de param\xe8tres de l'application, vous trouverez deux valeurs : ",(0,r.kt)("inlineCode",{parentName:"p"},"Client ID")," et ",(0,r.kt)("inlineCode",{parentName:"p"},"Client Secret"),". Nous aurons besoin de ces valeurs \xe0 l'\xe9tape suivante."),(0,r.kt)("p",null,"Ouvrez votre navigateur pr\xe9f\xe9r\xe9 et visitez : ",(0,r.kt)("strong",{parentName:"p"},"http://",(0,r.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/.well-known/openid-configuration")," pour voir la configuration OIDC de Casdoor."),(0,r.kt)("h2",{id:"\xe9tape-3--configurer-confluence"},"\xc9tape 3 : Configurer Confluence"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Installez l'application ",(0,r.kt)("a",{parentName:"li",href:"https://www.miniorange.com"},"miniOrange")," pour prendre en charge OAuth. Vous pouvez trouver cette application dans : ",(0,r.kt)("img",{alt:"App Confluence",src:t(34945).Z,width:"1282",height:"670"})),(0,r.kt)("li",{parentName:"ol"},"Configurez l'application :",(0,r.kt)("img",{alt:"Configuration de Confluence",src:t(93654).Z,width:"703",height:"337"})),(0,r.kt)("li",{parentName:"ol"},"D\xe9finissez ",(0,r.kt)("inlineCode",{parentName:"li"},"Selected Application")," sur Custom OpenID."),(0,r.kt)("li",{parentName:"ol"},"R\xe9cup\xe9rez le Client ID et le Client Secret depuis la page de l'application Casdoor.")),(0,r.kt)("p",null,"Configurez les param\xe8tres suivants pour Confluence :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Token server URL"),": ",(0,r.kt)("strong",{parentName:"li"},"http://",(0,r.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/api/login/oauth/access_token")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Authorization server URL"),": ",(0,r.kt)("strong",{parentName:"li"},"http://",(0,r.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/login/oauth/authorize")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"UserInfo server URL"),": ",(0,r.kt)("strong",{parentName:"li"},"http://",(0,r.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/api/get-account")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Scopes"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"address phone openid profile offline_access email"))),(0,r.kt)("p",null,"Vous pourrez configurer des param\xe8tres d'autorisation plus avanc\xe9s plus tard. Pour l'instant, v\xe9rifiez si OpenID fonctionne r\xe9ellement."),(0,r.kt)("p",null,"D\xe9connectez-vous de Confluence et testez le SSO :",(0,r.kt)("img",{alt:"Connexion \xe0 Confluence",src:t(63099).Z,width:"800",height:"450"})))}u.isMDXComponent=!0},34945:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/Confluence_App-83e6fc00938881794ae55311e9de9c19.png"},21869:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/Confluence_CallbackURL-ddd4a77ae33da503b506605cc7fd0b97.png"},43893:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/Confluence_Config-7a612b9f834d6cce4e2e5413ab85a390.png"},93654:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/Confluence_Config2-cc140163ba5238e3f9db820d7e0b6913.png"},95419:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/Confluence_HOSTNAME-70e479920cebd0bcb441b6c3908dad69.png"},63099:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/confluence-f0c0c9c756f07dc826c1d75dc3128e13.gif"}}]);