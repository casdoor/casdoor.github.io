(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[2373],{14405:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return c},default:function(){return d}});var n=a(74034),r=a(79973),i=(a(67294),a(3905)),l=["components"],o={sidebar_position:2,title:"Users Manipulation"},s=void 0,u={unversionedId:"user/manipulation",id:"user/manipulation",isDocsHomePage:!1,title:"Users Manipulation",description:"As an authentication platform, Casdoor can easily manipulate users stored in databases.",source:"@site/i18n/ru/docusaurus-plugin-content-docs/current/user/manipulation.md",sourceDirName:"user",slug:"/user/manipulation",permalink:"/ru/docs/user/manipulation",editUrl:"https://github.com/casdoor/casdoor-website/tree/master/docs/user/manipulation.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Users Manipulation"},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/ru/docs/user/overview"},next:{title:"Overview",permalink:"/ru/docs/token/overview"}},c=[{value:"Database Syncer",id:"database-syncer",children:[],level:2},{value:"Keycloak Syncer",id:"keycloak-syncer",children:[],level:2}],p={toc:c};function d(e){var t=e.components,o=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"As an authentication platform, Casdoor can easily manipulate users stored in databases."),(0,i.kt)("p",null,"We can think Casdoor stores users as a user table. And there is also a user table in external database. Every 60 seconds, Casdoor would calculate the hash value of each user in the table, which is generated using users' information, such as password or mobile phone number. If the calculated hash value of a user with a specific ",(0,i.kt)("inlineCode",{parentName:"p"},"Id")," changed compared with the original value, Casdoor would affirm which user table has been updated. Then the database stores old information would update, realize the ",(0,i.kt)("strong",{parentName:"p"},"bilateral synchronization")," between Casdoor user table and external user table."),(0,i.kt)("h2",{id:"database-syncer"},"Database Syncer"),(0,i.kt)("p",null,"The users table we created as a demo are imported from the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor/blob/master/xlsx/user_test.xlsx"},"template XLSX file"),"."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(2201).Z})),(0,i.kt)("p",null,"Click the ",(0,i.kt)("strong",{parentName:"p"},"Syncers")," tab and create a new syncer. Fill in all the required information as below and save."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(30718).Z})),(0,i.kt)("p",null,"The following are the required information."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Organization"),": the organization that the user will import"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Name"),": the syncer name"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Type"),": select database"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Host"),": the original database host"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Port"),": the original database port"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"User"),": the original database username"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Password"),": the original database password"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Database type"),": MySQL, PostgreSQL, SQL Server, Oracle, Sqlite 3 available"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Database"),": the original database name"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Table"),": the original user table name"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Table columns"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Column name"),": the original user column name"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Column type"),": the original user column type"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Casdoor")," column: the casdoor user column name"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"Is hashed"),": whether to calculate hash value")))),(0,i.kt)("p",null,"Then you can turn on the ",(0,i.kt)("strong",{parentName:"p"},"Is enable")," button and save, the syncer will start to work."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(82921).Z})),(0,i.kt)("h2",{id:"keycloak-syncer"},"Keycloak Syncer"),(0,i.kt)("p",null,"The Keycloak syncer is basically the same as the ",(0,i.kt)("a",{parentName:"p",href:"#database-syncer"},"database syncer"),", except that the ",(0,i.kt)("inlineCode",{parentName:"p"},"Table")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Table columns")," can be configured automatically for Keycloak."),(0,i.kt)("p",null,"In addition, the Keycloak syncer will query ",(0,i.kt)("inlineCode",{parentName:"p"},"credential")," table, ",(0,i.kt)("inlineCode",{parentName:"p"},"keycloak_group")," table and ",(0,i.kt)("inlineCode",{parentName:"p"},"user_group_membership")," table because the user information in Keycloak are stored in multiple tables."),(0,i.kt)("p",null,(0,i.kt)("img",{src:a(76225).Z})))}d.isMDXComponent=!0},3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return c},kt:function(){return m}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=u(a),m=r,b=d["".concat(s,".").concat(m)]||d[m]||p[m]||i;return a?n.createElement(b,l(l({ref:t},c),{},{components:a})):n.createElement(b,l({ref:t},c))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var u=2;u<i;u++)l[u]=a[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},30718:function(e,t,a){"use strict";t.Z=a.p+"assets/images/syncer_database_edit-b46caaf615a9defd0ab0762c2920a45c.png"},2201:function(e,t,a){"use strict";t.Z=a.p+"assets/images/syncer_database_table-b7ed36d236791d6de4e3a0e5b7c5e75e.png"},82921:function(e,t,a){"use strict";t.Z=a.p+"assets/images/syncer_database_users-19370b78630c5b08b183ad8c1ddba615.png"},76225:function(e,t,a){"use strict";t.Z=a.p+"assets/images/syncer_keycloak_edit-1c742f45dd5b384d9c086cda272428c8.png"}}]);