"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[6723],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>s});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var h=a.createContext({}),o=function(e){var t=a.useContext(h),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=o(e.components);return a.createElement(h.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,h=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),u=o(n),s=r,m=u["".concat(h,".").concat(s)]||u[s]||c[s]||i;return n?a.createElement(m,l(l({ref:t},d),{},{components:n})):a.createElement(m,l({ref:t},d))}));function s(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=u;var p={};for(var h in t)hasOwnProperty.call(t,h)&&(p[h]=t[h]);p.originalType=e,p.mdxType="string"==typeof e?e:r,l[1]=p;for(var o=2;o<i;o++)l[o]=n[o];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9810:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>p,toc:()=>o});var a=n(87462),r=(n(67294),n(3905));const i={title:"WeChat Pay",description:"F\xfcgen Sie Ihrem Anwendung einen WeChat Pay Zahlungsanbieter hinzu",keywords:["WeChat Pay","Zahlung"],authors:["Wrapping-2000","Chinoholo0807"]},l=void 0,p={unversionedId:"provider/payment/WeChatPay",id:"provider/payment/WeChatPay",title:"WeChat Pay",description:"F\xfcgen Sie Ihrem Anwendung einen WeChat Pay Zahlungsanbieter hinzu",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/provider/payment/WeChatPay.md",sourceDirName:"provider/payment",slug:"/provider/payment/WeChatPay",permalink:"/de/docs/provider/payment/WeChatPay",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/provider/payment/WeChatPay.md",tags:[],version:"current",frontMatter:{title:"WeChat Pay",description:"F\xfcgen Sie Ihrem Anwendung einen WeChat Pay Zahlungsanbieter hinzu",keywords:["WeChat Pay","Zahlung"],authors:["Wrapping-2000","Chinoholo0807"]},sidebar:"tutorialSidebar",previous:{title:"Alipay",permalink:"/de/docs/provider/payment/Alipay"},next:{title:"Captcha",permalink:"/de/docs/category/captcha"}},h={},o=[{value:"Schritt 1. Vorbereitung",id:"schritt-1-vorbereitung",level:2},{value:"1.1 API-Schl\xfcssel v3 erhalten",id:"11-api-schl\xfcssel-v3-erhalten",level:3},{value:"1.2 H\xe4ndlerzertifikat erhalten",id:"12-h\xe4ndlerzertifikat-erhalten",level:3},{value:"1.3 H\xe4ndler-ID und App-ID erhalten",id:"13-h\xe4ndler-id-und-app-id-erhalten",level:3},{value:"Schritt 2.  Einen WeChat Pay Zahlungsanbieter erstellen",id:"schritt-2--einen-wechat-pay-zahlungsanbieter-erstellen",level:2},{value:"Schritt 3. Den WeChat Pay Zahlungsanbieter f\xfcr Ihr Produkt hinzuf\xfcgen",id:"schritt-3-den-wechat-pay-zahlungsanbieter-f\xfcr-ihr-produkt-hinzuf\xfcgen",level:2},{value:"Unterst\xfctzung f\xfcr JSAPI-Zahlung",id:"unterst\xfctzung-f\xfcr-jsapi-zahlung",level:2}],d={toc:o};function c(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"schritt-1-vorbereitung"},"Schritt 1. Vorbereitung"),(0,r.kt)("p",null,"Zuerst m\xfcssen Sie ein H\xe4ndlerkonto auf der ",(0,r.kt)("a",{parentName:"p",href:"https://pay.weixin.qq.com/index.php/public/wechatpay_en"},"WeChat Merchant Platform")," haben."),(0,r.kt)("p",null,"Bevor Sie auf WeChat Pay zugreifen, gibt es einige Vorbereitungen, die getroffen werden m\xfcssen."),(0,r.kt)("p",null,"Sie k\xf6nnen sich auf die Dokumentation ",(0,r.kt)("a",{parentName:"p",href:"https://pay.weixin.qq.com/docs/merchant/products/native-payment/preparation.html"},"Vorbereitung vor dem Zugriff")," f\xfcr weitere Informationen beziehen."),(0,r.kt)("h3",{id:"11-api-schl\xfcssel-v3-erhalten"},"1.1 API-Schl\xfcssel v3 erhalten"),(0,r.kt)("p",null,"Melden Sie sich bei der WeChat Merchant Platform an, w\xe4hlen Sie ",(0,r.kt)("inlineCode",{parentName:"p"},"Account Settings > API Security >Set APIv3 Secret")," und klicken Sie auf ",(0,r.kt)("inlineCode",{parentName:"p"},"Set APIv3 secret"),", um den ",(0,r.kt)("inlineCode",{parentName:"p"},"API Key v3")," zu erhalten."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"wechat api key v3",src:n(84888).Z,width:"2400",height:"1430"})),(0,r.kt)("p",null,"Wie man ",(0,r.kt)("inlineCode",{parentName:"p"},"API Key v3")," erh\xe4lt: ",(0,r.kt)("a",{parentName:"p",href:"https://kf.qq.com/faq/180830E36vyQ180830AZFZvu.html"},"APIv3 Key Einstellungen")),(0,r.kt)("h3",{id:"12-h\xe4ndlerzertifikat-erhalten"},"1.2 H\xe4ndlerzertifikat erhalten"),(0,r.kt)("p",null,"Sie k\xf6nnen sich bei der WeChat Merchant Platform anmelden und ",(0,r.kt)("inlineCode",{parentName:"p"},"Account Settings > API Security > API Certificate")," ausw\xe4hlen, um das Zertifikat herunterzuladen."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"wechat merchant certificate",src:n(22923).Z,width:"2426",height:"1506"})),(0,r.kt)("p",null,"Nach dem Herunterladen des Zertifikats erhalten Sie die ",(0,r.kt)("inlineCode",{parentName:"p"},"Certificate Serial Number")," gem\xe4\xdf ",(0,r.kt)("a",{parentName:"p",href:"https://pay.weixin.qq.com/wiki/doc/apiv3/wechatpay/wechatpay7_0.shtml#part-5"},"Wie man die Zertifikatsseriennummer ansieht")," und den ",(0,r.kt)("inlineCode",{parentName:"p"},"Private Key")," gem\xe4\xdf ",(0,r.kt)("a",{parentName:"p",href:"https://pay.weixin.qq.com/wiki/doc/apiv3/wechatpay/wechatpay3_1.shtml"},"Wie man den privaten Schl\xfcssel des Zertifikats erh\xe4lt"),"."),(0,r.kt)("p",null,"Erstellen Sie dann ein ",(0,r.kt)("inlineCode",{parentName:"p"},"Cert")," bei Casdoor und f\xfcllen Sie die notwendigen Informationen aus."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"wechat_cert",src:n(28673).Z,width:"3301",height:"1631"})),(0,r.kt)("h3",{id:"13-h\xe4ndler-id-und-app-id-erhalten"},"1.3 H\xe4ndler-ID und App-ID erhalten"),(0,r.kt)("p",null,"Wie man ",(0,r.kt)("inlineCode",{parentName:"p"},"Merchant ID")," erh\xe4lt: ",(0,r.kt)("a",{parentName:"p",href:"https://kf.qq.com/faq/200729EZ7fEj200729aumYR7.html"},"WeChat Pay H\xe4ndler-ID Abfrageanleitung")),(0,r.kt)("p",null,"Wie man ",(0,r.kt)("inlineCode",{parentName:"p"},"App ID")," erh\xe4lt: ",(0,r.kt)("a",{parentName:"p",href:"https://pay.weixin.qq.com/static/pay_setting/appid_protocol.shtml"},"WeChat Pay APPID Abfrageanleitung")),(0,r.kt)("h2",{id:"schritt-2--einen-wechat-pay-zahlungsanbieter-erstellen"},"Schritt 2.  Einen WeChat Pay Zahlungsanbieter erstellen"),(0,r.kt)("p",null,"Erstellen Sie als N\xe4chstes einen WeChat Pay Zahlungsanbieter in Casdoor, indem Sie die notwendigen Informationen ausf\xfcllen."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Name in WeChat Pay"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Category"),(0,r.kt)("td",{parentName:"tr",align:null},"w\xe4hlen Sie ",(0,r.kt)("inlineCode",{parentName:"td"},"Payment"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Type"),(0,r.kt)("td",{parentName:"tr",align:null},"w\xe4hlen Sie ",(0,r.kt)("inlineCode",{parentName:"td"},"WeChat Pay"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Client ID"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Merchant ID")," erhalten von Schritt 1.3")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Client secret"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"API Key v3")," erhalten von Schritt 1.1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"App ID"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"App ID")," erhalten von Schritt 1.3")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Cert"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Cert")," konfiguriert bei Schritt 1.2")))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"wechat pay provider",src:n(55713).Z,width:"1513",height:"1032"})),(0,r.kt)("h2",{id:"schritt-3-den-wechat-pay-zahlungsanbieter-f\xfcr-ihr-produkt-hinzuf\xfcgen"},"Schritt 3. Den WeChat Pay Zahlungsanbieter f\xfcr Ihr Produkt hinzuf\xfcgen"),(0,r.kt)("p",null,"F\xfcgen Sie schlie\xdflich den WeChat Pay Zahlungsanbieter f\xfcr Ihr Produkt hinzu, damit Benutzer das Produkt mit WeChat Pay kaufen k\xf6nnen."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"wechat pay zahlungsanbieter f\xfcr produkt hinzuf\xfcgen",src:n(83255).Z,width:"3377",height:"1534"})),(0,r.kt)("video",{src:"/video/provider/payment/use_wechatpay_buy_product.mp4",controls:"controls",width:"100%"}),(0,r.kt)("h2",{id:"unterst\xfctzung-f\xfcr-jsapi-zahlung"},"Unterst\xfctzung f\xfcr JSAPI-Zahlung"),(0,r.kt)("p",null,"Derzeit unterst\xfctzt Casdoor ",(0,r.kt)("a",{parentName:"p",href:"https://pay.weixin.qq.com/docs/merchant/products/jsapi-payment/introduction.html"},"JSAPI-Zahlung")," und ",(0,r.kt)("a",{parentName:"p",href:"https://pay.weixin.qq.com/docs/merchant/products/native-payment/introduction.html"},"Native Zahlung")," in WeChat Pay."),(0,r.kt)("p",null,"Um JSAPI-Zahlung zu unterst\xfctzen, sollten Sie einen ",(0,r.kt)("a",{parentName:"p",href:"/docs/provider/oauth/Wechat"},"WeChat OAuth Provider")," konfigurieren, der ",(0,r.kt)("inlineCode",{parentName:"p"},"WeChat Media Platform")," unterst\xfctzt. Die ",(0,r.kt)("inlineCode",{parentName:"p"},"Client ID 2")," des WeChat OAuth Providers und die ",(0,r.kt)("inlineCode",{parentName:"p"},"App ID")," des WeChat Pay Zahlungsanbieters m\xfcssen gleich sein."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Beziehung zwischen WeChat Pay Zahlungsanbieter und WeChat OAuth Provider",src:n(63691).Z,width:"1975",height:"1158"})),(0,r.kt)("p",null,"Nach dem Einloggen \xfcber WeChat (im mobilen Szenario: z.B. der eingebaute WeChat-Browser in der WeChat-Mobil-App) k\xf6nnen Benutzer Produkte mit WeChat Pay basierend auf JSAPI-Zahlung kaufen."),(0,r.kt)("video",{src:"/video/provider/payment/use_wechatpay_via_jsapi.mp4",controls:"controls",width:"100%",align:"center"}))}c.isMDXComponent=!0},84888:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/wechat_apikey_v3-c95a86dcc7ab4dd7bbca9df233f0167f.png"},28673:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/wechat_cert-a4e0caadc44c30564ff97d9bc60d2499.png"},63691:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/wechat_jsapi_conf-18697c593f4bcdc7200d613cad1e1cb8.png"},22923:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/wechat_mch_cert-84e41b42ce7a3931f69bf07bb5376a9f.png"},55713:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/wechat_payment_provider-a0467c48adc3d33665c6ad4013ad9184.png"},83255:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/wechat_product-01ff65aff94711e2e1b53fa2e9593c8b.png"}}]);