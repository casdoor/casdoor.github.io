"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[5233],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),u=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=u(e.components);return a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(t),m=o,g=d["".concat(s,".").concat(m)]||d[m]||p[m]||r;return t?a.createElement(g,i(i({ref:n},c),{},{components:t})):a.createElement(g,i({ref:n},c))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var u=2;u<r;u++)i[u]=t[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},83700:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var a=t(87462),o=(t(67294),t(3905));const r={title:"Casdoor CLI",description:"Using Casdoor's official command-line interface for managing users, groups, and permissions",keywords:["CLI","command-line","terminal","bash","shell","user management","groups","permissions","OAuth2"],authors:["hsluoyz"]},i=void 0,l={unversionedId:"how-to-connect/cli",id:"how-to-connect/cli",title:"Casdoor CLI",description:"Using Casdoor's official command-line interface for managing users, groups, and permissions",source:"@site/i18n/th/docusaurus-plugin-content-docs/current/how-to-connect/cli.md",sourceDirName:"how-to-connect",slug:"/how-to-connect/cli",permalink:"/th/docs/how-to-connect/cli",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/how-to-connect/cli.md",tags:[],version:"current",frontMatter:{title:"Casdoor CLI",description:"Using Casdoor's official command-line interface for managing users, groups, and permissions",keywords:["CLI","command-line","terminal","bash","shell","user management","groups","permissions","OAuth2"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"\u0e41\u0e2d\u0e1b React Native",permalink:"/th/docs/how-to-connect/mobile-sdks/react-native-app"},next:{title:"\u0e1b\u0e25\u0e31\u0e4a\u0e01\u0e2d\u0e34\u0e19 Casdoor",permalink:"/th/docs/how-to-connect/plugin"}},s={},u=[{value:"Features",id:"features",level:2},{value:"OAuth2 Browser-Based Authentication",id:"oauth2-browser-based-authentication",level:3},{value:"Secure Token Storage",id:"secure-token-storage",level:3},{value:"User Management",id:"user-management",level:3},{value:"Permission Management",id:"permission-management",level:3},{value:"Group Management",id:"group-management",level:3},{value:"Installation",id:"installation",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"macOS",id:"macos",level:3},{value:"Linux",id:"linux",level:3},{value:"Configure Your Shell",id:"configure-your-shell",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Casdoor Server Setup",id:"casdoor-server-setup",level:3},{value:"CLI Configuration",id:"cli-configuration",level:3},{value:"Usage",id:"usage",level:2},{value:"Available Commands",id:"available-commands",level:3},{value:"Login",id:"login",level:3},{value:"Managing Users",id:"managing-users",level:3},{value:"Managing Groups",id:"managing-groups",level:3},{value:"Logout",id:"logout",level:3},{value:"Development",id:"development",level:2},{value:"Local Development Environment",id:"local-development-environment",level:3},{value:"Development Configuration",id:"development-configuration",level:3},{value:"Testing the CLI",id:"testing-the-cli",level:3}],c={toc:u};function p(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,a.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Casdoor CLI")," is the official command-line interface for ",(0,o.kt)("a",{parentName:"p",href:"https://casdoor.org"},"Casdoor"),", providing a powerful and intuitive way to manage your Casdoor identity and access management system directly from the terminal."),(0,o.kt)("p",null,"GitHub repository: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/casdoor/casdoor-cli"},"https://github.com/casdoor/casdoor-cli")),(0,o.kt)("h2",{id:"features"},"Features"),(0,o.kt)("h3",{id:"oauth2-browser-based-authentication"},"OAuth2 Browser-Based Authentication"),(0,o.kt)("p",null,"The CLI uses a secure browser-based OAuth2 flow for authentication, ensuring your credentials are protected through Casdoor's standard authentication mechanism."),(0,o.kt)("h3",{id:"secure-token-storage"},"Secure Token Storage"),(0,o.kt)("p",null,"Credentials are safely stored using your system's keyring interface (GNOME Keyring on Linux, Keychain on macOS), ensuring tokens never touch disk in plaintext."),(0,o.kt)("h3",{id:"user-management"},"User Management"),(0,o.kt)("p",null,"Create, update, and delete users with ease directly from the command line."),(0,o.kt)("h3",{id:"permission-management"},"Permission Management"),(0,o.kt)("p",null,"Control user permissions through Casdoor's group feature with built-in roles:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"lector"),": Read-only access"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"editor"),": Can create users, with limited modification rights"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"administrator"),": Full control over user creation, modification, and deletion")),(0,o.kt)("h3",{id:"group-management"},"Group Management"),(0,o.kt)("p",null,"Create, modify, and delete user groups to organize users and manage permissions efficiently."),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Go 1.22.0 or higher"),(0,o.kt)("li",{parentName:"ul"},"macOS or Linux operating system"),(0,o.kt)("li",{parentName:"ul"},"GNOME Keyring (Linux) or Keychain (macOS) for secure credential storage")),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("strong",{parentName:"p"},"Platform Support"),": Currently supports macOS and Linux (tested on Debian 12 and macOS Sonoma). Windows support via WSL is not available as the CLI requires GNOME's Secret Service DBus interface (GNOME Keyring) for secure credential storage.")),(0,o.kt)("h3",{id:"macos"},"macOS"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"make build TARGET_OS=darwin && make install TARGET_OS=darwin\n")),(0,o.kt)("h3",{id:"linux"},"Linux"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"make build TARGET_OS=linux && make install TARGET_OS=linux\n")),(0,o.kt)("h3",{id:"configure-your-shell"},"Configure Your Shell"),(0,o.kt)("p",null,"After installation, add ",(0,o.kt)("inlineCode",{parentName:"p"},"casdoor-cli")," to your ",(0,o.kt)("inlineCode",{parentName:"p"},"PATH"),":"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"For Bash users:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"echo 'export PATH=\"/usr/local/bin:$PATH\"' >> ~/.bashrc\nsource ~/.bashrc\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"For Zsh users:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"echo 'export PATH=\"/usr/local/bin:$PATH\"' >> ~/.zshrc\nsource ~/.zshrc\n")),(0,o.kt)("p",null,"Verify the installation:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"casdoor --help\n")),(0,o.kt)("h2",{id:"configuration"},"Configuration"),(0,o.kt)("h3",{id:"casdoor-server-setup"},"Casdoor Server Setup"),(0,o.kt)("p",null,"To use the CLI, you need a configured Casdoor application. You have two options:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Using the provided bootstrap data"),": An ",(0,o.kt)("inlineCode",{parentName:"p"},"init_data.json")," file is included in the repository to quickly bootstrap Casdoor's configuration. Refer to the ",(0,o.kt)("a",{parentName:"p",href:"/docs/deployment/data-initialization"},"Data Initialization documentation")," for initialization instructions.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Manual configuration"),": Create an application directly in your Casdoor admin panel and configure it according to your requirements."))),(0,o.kt)("h3",{id:"cli-configuration"},"CLI Configuration"),(0,o.kt)("p",null,"On first launch, ",(0,o.kt)("inlineCode",{parentName:"p"},"casdoor-cli")," will prompt you to provide a ",(0,o.kt)("inlineCode",{parentName:"p"},"config.yaml")," file containing your Casdoor connection details. See the included ",(0,o.kt)("inlineCode",{parentName:"p"},"config.yaml.example")," file in the repository for reference."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Required configuration fields:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"application_name: your-app-name\ncasdoor_endpoint: https://your-casdoor-instance.com\ncertificate: |\n  -----BEGIN CERTIFICATE-----\n  Your certificate content here\n  -----END CERTIFICATE-----\nclient_id: your-client-id\nclient_secret: your-client-secret\norganization_name: your-organization\nredirect_uri: http://localhost:9000/callback\n")),(0,o.kt)("p",null,"Your configuration will be securely stored in ",(0,o.kt)("inlineCode",{parentName:"p"},"~/.casdoor-cli/config.yaml")," (base64 encoded) for subsequent use."),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)("h3",{id:"available-commands"},"Available Commands"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"Usage:\n  casdoor [command]\n\nAvailable Commands:\n  completion  Generate the autocompletion script for the specified shell\n  groups      Manage Casdoor permissions\n  help        Help about any command\n  login       Login to your Casdoor account\n  logout      Logout from your Casdoor account\n  users       Manage Casdoor users\n\nFlags:\n  -d, --debug   verbose logging\n  -h, --help    help for casdoor\n")),(0,o.kt)("h3",{id:"login"},"Login"),(0,o.kt)("p",null,"To authenticate with your Casdoor instance:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"casdoor login\n")),(0,o.kt)("p",null,"This will open your default browser for OAuth2 authentication."),(0,o.kt)("h3",{id:"managing-users"},"Managing Users"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# List users\ncasdoor users list\n\n# Create a user\ncasdoor users create\n\n# Update a user\ncasdoor users update\n\n# Delete a user\ncasdoor users delete\n")),(0,o.kt)("h3",{id:"managing-groups"},"Managing Groups"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# List groups\ncasdoor groups list\n\n# Create a group\ncasdoor groups create\n\n# Update a group\ncasdoor groups update\n\n# Delete a group\ncasdoor groups delete\n")),(0,o.kt)("h3",{id:"logout"},"Logout"),(0,o.kt)("p",null,"To logout from your Casdoor account:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"casdoor logout\n")),(0,o.kt)("h2",{id:"development"},"Development"),(0,o.kt)("h3",{id:"local-development-environment"},"Local Development Environment"),(0,o.kt)("p",null,"A Docker Compose environment is provided in the repository for local testing and development:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker compose up -d\n")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Allow a few moments for the Casdoor container to fully initialize. The container will restart multiple times as it sets up the database.")),(0,o.kt)("h3",{id:"development-configuration"},"Development Configuration"),(0,o.kt)("p",null,"Create a ",(0,o.kt)("inlineCode",{parentName:"p"},"config.yaml")," file from the provided ",(0,o.kt)("inlineCode",{parentName:"p"},"config.yaml.example")," template at the repository root with your local development settings."),(0,o.kt)("h3",{id:"testing-the-cli"},"Testing the CLI"),(0,o.kt)("p",null,"Test the login functionality with the default development credentials provided in the repository documentation."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Run directly with Go:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"go run main.go login\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Or build and install first:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"make build TARGET_OS=darwin && make install TARGET_OS=darwin  # For macOS\n# OR\nmake build TARGET_OS=linux && make install TARGET_OS=linux    # For Linux\n\ncasdoor login\n")))}p.isMDXComponent=!0}}]);