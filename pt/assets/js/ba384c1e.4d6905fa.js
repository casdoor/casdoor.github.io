"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[1859],{3905:(e,o,a)=>{a.d(o,{Zo:()=>p,kt:()=>m});var n=a(67294);function t(e,o,a){return o in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a,e}function r(e,o){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?r(Object(a),!0).forEach((function(o){t(e,o,a[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(a,o))}))}return e}function l(e,o){if(null==e)return{};var a,n,t=function(e,o){if(null==e)return{};var a,n,t={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],o.indexOf(a)>=0||(t[a]=e[a]);return t}(e,o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],o.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var c=n.createContext({}),s=function(e){var o=n.useContext(c),a=o;return e&&(a="function"==typeof e?e(o):i(i({},o),e)),a},p=function(e){var o=s(e.components);return n.createElement(c.Provider,{value:o},e.children)},u={inlineCode:"code",wrapper:function(e){var o=e.children;return n.createElement(n.Fragment,{},o)}},d=n.forwardRef((function(e,o){var a=e.components,t=e.mdxType,r=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(a),m=t,f=d["".concat(c,".").concat(m)]||d[m]||u[m]||r;return a?n.createElement(f,i(i({ref:o},p),{},{components:a})):n.createElement(f,i({ref:o},p))}));function m(e,o){var a=arguments,t=o&&o.mdxType;if("string"==typeof e||t){var r=a.length,i=new Array(r);i[0]=d;var l={};for(var c in o)hasOwnProperty.call(o,c)&&(l[c]=o[c]);l.originalType=e,l.mdxType="string"==typeof e?e:t,i[1]=l;for(var s=2;s<r;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},12432:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var n=a(87462),t=(a(67294),a(3905));const r={title:"Conectando Aplica\xe7\xf5es com o Protocolo OIDC - Confluence",description:"Aprenda a usar o protocolo OIDC como IDP para conectar o Confluence e outras aplica\xe7\xf5es.",keywords:["OIDC","Confluence","IDP"],authors:["jakiuncle"]},i=void 0,l={unversionedId:"integration/java/Confluence",id:"integration/java/Confluence",title:"Conectando Aplica\xe7\xf5es com o Protocolo OIDC - Confluence",description:"Aprenda a usar o protocolo OIDC como IDP para conectar o Confluence e outras aplica\xe7\xf5es.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/integration/java/Confluence.md",sourceDirName:"integration/java",slug:"/integration/java/Confluence",permalink:"/pt/docs/integration/java/Confluence",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/integration/java/Confluence.md",tags:[],version:"current",frontMatter:{title:"Conectando Aplica\xe7\xf5es com o Protocolo OIDC - Confluence",description:"Aprenda a usar o protocolo OIDC como IDP para conectar o Confluence e outras aplica\xe7\xf5es.",keywords:["OIDC","Confluence","IDP"],authors:["jakiuncle"]},sidebar:"tutorialSidebar",previous:{title:"Usando o Plugin miniOrange",permalink:"/pt/docs/integration/java/jira"},next:{title:"RuoYi",permalink:"/pt/docs/integration/java/RuoYi"}},c={},s=[{value:"Passo 1: Implantar Casdoor e Confluence",id:"passo-1-implantar-casdoor-e-confluence",level:2},{value:"Passo 2: Configurar aplicativo Casdoor",id:"passo-2-configurar-aplicativo-casdoor",level:2},{value:"Passo 3: Configurar Confluence",id:"passo-3-configurar-confluence",level:2}],p={toc:s};function u(e){let{components:o,...r}=e;return(0,t.kt)("wrapper",(0,n.Z)({},p,r,{components:o,mdxType:"MDXLayout"}),(0,t.kt)("p",null,(0,t.kt)("a",{parentName:"p",href:"/docs/basic/server-installation"},"Casdoor")," pode usar o protocolo OIDC como um IDP para conectar v\xe1rias aplica\xe7\xf5es. Neste guia, usaremos o ",(0,t.kt)("a",{parentName:"p",href:"https://www.atlassian.com/software/confluence"},"Confluence")," como exemplo para demonstrar como usar o OIDC para conectar suas aplica\xe7\xf5es."),(0,t.kt)("p",null,"Para come\xe7ar, certifique-se de que voc\xea implantou o Casdoor e o Confluence com sucesso. Aqui est\xe3o alguns nomes de configura\xe7\xe3o que voc\xea precisa lembrar:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"CASDOOR_HOSTNAME"),": Nome de dom\xednio ou IP onde o servidor Casdoor est\xe1 implantado."),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"Confluence_HOSTNAME"),": Nome de dom\xednio ou IP onde o Confluence est\xe1 implantado.")),(0,t.kt)("h2",{id:"passo-1-implantar-casdoor-e-confluence"},"Passo 1: Implantar Casdoor e Confluence"),(0,t.kt)("p",null,"Primeiro, implante ",(0,t.kt)("a",{parentName:"p",href:"/docs/basic/server-installation"},"Casdoor")," e ",(0,t.kt)("a",{parentName:"p",href:"https://www.atlassian.com/software/confluence"},"Confluence"),"."),(0,t.kt)("p",null,"Ap\xf3s a implanta\xe7\xe3o bem-sucedida, certifique-se do seguinte:"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"Defina a URL do Confluence para ",(0,t.kt)("inlineCode",{parentName:"li"},"Confluence_HOSTNAME"),". ",(0,t.kt)("img",{alt:"URL do Confluence",src:a(95419).Z,width:"1279",height:"586"})),(0,t.kt)("li",{parentName:"ol"},"Casdoor pode ser acessado e usado normalmente."),(0,t.kt)("li",{parentName:"ol"},"Voc\xea pode definir ",(0,t.kt)("inlineCode",{parentName:"li"},"CASDOOR_HOSTNAME")," para ",(0,t.kt)("inlineCode",{parentName:"li"},"http://localhost:8000")," se voc\xea implantar o Casdoor em modo ",(0,t.kt)("inlineCode",{parentName:"li"},"prod"),". Consulte o ",(0,t.kt)("a",{parentName:"li",href:"https://casdoor.org/docs/basic/server-installation#production-mode"},"modo de produ\xe7\xe3o")," para mais detalhes.")),(0,t.kt)("h2",{id:"passo-2-configurar-aplicativo-casdoor"},"Passo 2: Configurar aplicativo Casdoor"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"Crie um novo aplicativo Casdoor ou use um existente."),(0,t.kt)("li",{parentName:"ol"},"Encontre uma URL de redirecionamento:",(0,t.kt)("img",{alt:"Callback do Confluence",src:a(21869).Z,width:"795",height:"114"})),(0,t.kt)("li",{parentName:"ol"},"Adicione a URL de redirecionamento ao aplicativo:",(0,t.kt)("img",{alt:"Aplicativo Confluence",src:a(43893).Z,width:"1116",height:"300"})),(0,t.kt)("li",{parentName:"ol"},"Adicione o provedor desejado e configure outras configura\xe7\xf5es de acordo.")),(0,t.kt)("p",null,"Na p\xe1gina de configura\xe7\xf5es do aplicativo, voc\xea encontrar\xe1 dois valores: ",(0,t.kt)("inlineCode",{parentName:"p"},"Client ID")," e ",(0,t.kt)("inlineCode",{parentName:"p"},"Client Secret"),". Vamos precisar destes no pr\xf3ximo passo."),(0,t.kt)("p",null,"Abra seu navegador favorito e visite: ",(0,t.kt)("strong",{parentName:"p"},"http://",(0,t.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/.well-known/openid-configuration")," para ver a configura\xe7\xe3o OIDC do Casdoor."),(0,t.kt)("h2",{id:"passo-3-configurar-confluence"},"Passo 3: Configurar Confluence"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"Instale o aplicativo ",(0,t.kt)("a",{parentName:"li",href:"https://www.miniorange.com"},"miniOrange")," para suportar OAuth. Voc\xea pode encontrar este aplicativo em: ",(0,t.kt)("img",{alt:"App Confluence",src:a(34945).Z,width:"1282",height:"670"})),(0,t.kt)("li",{parentName:"ol"},"Configure o aplicativo:",(0,t.kt)("img",{alt:"Configura\xe7\xe3o do Confluence",src:a(93654).Z,width:"703",height:"337"})),(0,t.kt)("li",{parentName:"ol"},"Defina ",(0,t.kt)("inlineCode",{parentName:"li"},"Selected Application")," para Custom OpenID."),(0,t.kt)("li",{parentName:"ol"},"Recupere o Client ID e o Client Secret da p\xe1gina do aplicativo Casdoor.")),(0,t.kt)("p",null,"Configure as seguintes configura\xe7\xf5es para o Confluence:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"Token server URL"),": ",(0,t.kt)("strong",{parentName:"li"},"http://",(0,t.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/api/login/oauth/access_token")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"Authorization server URL"),": ",(0,t.kt)("strong",{parentName:"li"},"http://",(0,t.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/login/oauth/authorize")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"UserInfo server URL"),": ",(0,t.kt)("strong",{parentName:"li"},"http://",(0,t.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/api/get-account")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"Scopes"),": ",(0,t.kt)("inlineCode",{parentName:"li"},"address phone openid profile offline_access email"))),(0,t.kt)("p",null,"Voc\xea pode configurar configura\xe7\xf5es de autoriza\xe7\xe3o mais avan\xe7adas mais tarde. Por agora, verifique se o OpenID realmente funciona."),(0,t.kt)("p",null,"Desconecte-se do Confluence e teste o SSO:",(0,t.kt)("img",{alt:"Login do Confluence",src:a(63099).Z,width:"800",height:"450"})))}u.isMDXComponent=!0},34945:(e,o,a)=>{a.d(o,{Z:()=>n});const n=a.p+"assets/images/Confluence_App-83e6fc00938881794ae55311e9de9c19.png"},21869:(e,o,a)=>{a.d(o,{Z:()=>n});const n=a.p+"assets/images/Confluence_CallbackURL-ddd4a77ae33da503b506605cc7fd0b97.png"},43893:(e,o,a)=>{a.d(o,{Z:()=>n});const n=a.p+"assets/images/Confluence_Config-7a612b9f834d6cce4e2e5413ab85a390.png"},93654:(e,o,a)=>{a.d(o,{Z:()=>n});const n=a.p+"assets/images/Confluence_Config2-cc140163ba5238e3f9db820d7e0b6913.png"},95419:(e,o,a)=>{a.d(o,{Z:()=>n});const n=a.p+"assets/images/Confluence_HOSTNAME-70e479920cebd0bcb441b6c3908dad69.png"},63099:(e,o,a)=>{a.d(o,{Z:()=>n});const n=a.p+"assets/images/confluence-f0c0c9c756f07dc826c1d75dc3128e13.gif"}}]);