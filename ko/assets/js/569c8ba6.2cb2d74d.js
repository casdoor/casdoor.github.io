"use strict";(self.webpackChunkcasdoor_website=self.webpackChunkcasdoor_website||[]).push([[3389],{3905:(t,e,a)=>{a.d(e,{Zo:()=>s,kt:()=>k});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var p=n.createContext({}),d=function(t){var e=n.useContext(p),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},s=function(t){var e=d(t.components);return n.createElement(p.Provider,{value:e},t.children)},c={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},u=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,p=t.parentName,s=i(t,["components","mdxType","originalType","parentName"]),u=d(a),k=r,m=u["".concat(p,".").concat(k)]||u[k]||c[k]||l;return a?n.createElement(m,o(o({ref:e},s),{},{components:a})):n.createElement(m,o({ref:e},s))}));function k(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,o=new Array(l);o[0]=u;var i={};for(var p in e)hasOwnProperty.call(e,p)&&(i[p]=e[p]);i.originalType=t,i.mdxType="string"==typeof t?t:r,o[1]=i;for(var d=2;d<l;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},58672:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var n=a(87462),r=(a(67294),a(3905));const l={title:"APISIX",description:"APISIX\uc5d0\uc11c Casdoor \uc0ac\uc6a9\ud558\uae30",keywords:["APISIX"],authors:["Steve0x2a"]},o=void 0,i={unversionedId:"integration/lua/apisix",id:"integration/lua/apisix",title:"APISIX",description:"APISIX\uc5d0\uc11c Casdoor \uc0ac\uc6a9\ud558\uae30",source:"@site/i18n/ko/docusaurus-plugin-content-docs/current/integration/lua/apisix.md",sourceDirName:"integration/lua",slug:"/integration/lua/apisix",permalink:"/ko/docs/integration/lua/apisix",draft:!1,editUrl:"https://github.com/casdoor/casdoor-website/edit/master/docs/integration/lua/apisix.md",tags:[],version:"current",frontMatter:{title:"APISIX",description:"APISIX\uc5d0\uc11c Casdoor \uc0ac\uc6a9\ud558\uae30",keywords:["APISIX"],authors:["Steve0x2a"]},sidebar:"tutorialSidebar",previous:{title:"Lua",permalink:"/ko/docs/category/lua"},next:{title:"PHP",permalink:"/ko/docs/category/php"}},p={},d=[{value:"APISIX\uc758 Casdoor \ud50c\ub7ec\uadf8\uc778\uc744 \ud1b5\ud574 Casdoor\uc5d0 \uc5f0\uacb0",id:"apisix\uc758-casdoor-\ud50c\ub7ec\uadf8\uc778\uc744-\ud1b5\ud574-casdoor\uc5d0-\uc5f0\uacb0",level:2},{value:"\uc774 \uae30\ub2a5\uc744 \ud65c\uc131\ud654\ud558\ub294 \ubc29\ubc95",id:"\uc774-\uae30\ub2a5\uc744-\ud65c\uc131\ud654\ud558\ub294-\ubc29\ubc95",level:3},{value:"\uc18d\uc131",id:"\uc18d\uc131",level:3},{value:"\uc5b4\ub5bb\uac8c \uc791\ub3d9\ud558\ub098\uc694?",id:"\uc5b4\ub5bb\uac8c-\uc791\ub3d9\ud558\ub098\uc694",level:3},{value:"APISIX\uc758 OIDC \ud50c\ub7ec\uadf8\uc778\uc744 \ud1b5\ud574 Casdoor\uc5d0 \uc5f0\uacb0",id:"apisix\uc758-oidc-\ud50c\ub7ec\uadf8\uc778\uc744-\ud1b5\ud574-casdoor\uc5d0-\uc5f0\uacb0",level:2},{value:"\ub2e8\uacc4 1: Casdoor \ubc0f APISIX \ubc30\ud3ec",id:"\ub2e8\uacc4-1-casdoor-\ubc0f-apisix-\ubc30\ud3ec",level:3},{value:"\ub2e8\uacc4 2: Casdoor \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uad6c\uc131",id:"\ub2e8\uacc4-2-casdoor-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\uad6c\uc131",level:3},{value:"\ub2e8\uacc4 3: APISIX \uad6c\uc131",id:"\ub2e8\uacc4-3-apisix-\uad6c\uc131",level:3}],s={toc:d};function c(t){let{components:e,...l}=t;return(0,r.kt)("wrapper",(0,n.Z)({},s,l,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\ud604\uc7ac APISIX \ud50c\ub7ec\uadf8\uc778\uc744 \ud1b5\ud574 Casdoor\ub97c APISIX\uc5d0 \uc5f0\uacb0\ud558\uace0 APISIX \ub4a4\uc758 API\ub97c \ubcf4\ud638\ud558\ub294 \ub450 \uac00\uc9c0 \ubc29\ubc95\uc774 \uc788\uc2b5\ub2c8\ub2e4: APISIX\uc758 Casdoor \ud50c\ub7ec\uadf8\uc778\uc744 \uc0ac\uc6a9\ud558\uac70\ub098 APISIX\uc758 OIDC \ud50c\ub7ec\uadf8\uc778\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,r.kt)("h2",{id:"apisix\uc758-casdoor-\ud50c\ub7ec\uadf8\uc778\uc744-\ud1b5\ud574-casdoor\uc5d0-\uc5f0\uacb0"},"APISIX\uc758 Casdoor \ud50c\ub7ec\uadf8\uc778\uc744 \ud1b5\ud574 Casdoor\uc5d0 \uc5f0\uacb0"),(0,r.kt)("p",null,"\uc774 \ud50c\ub7ec\uadf8\uc778, ",(0,r.kt)("inlineCode",{parentName:"p"},"authz-casdoor"),",\ub294 API \ucf54\ub4dc\ub97c \uc218\uc815\ud558\uc9c0 \uc54a\uace0\ub3c4 APISIX \ub4a4\uc758 API\ub97c \ubcf4\ud638\ud558\uace0 \ubaa8\ub4e0 \uc694\uccad\uc774 \uc778\uc99d\uc744 \ubc1b\ub3c4\ub85d \uac15\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("h3",{id:"\uc774-\uae30\ub2a5\uc744-\ud65c\uc131\ud654\ud558\ub294-\ubc29\ubc95"},"\uc774 \uae30\ub2a5\uc744 \ud65c\uc131\ud654\ud558\ub294 \ubc29\ubc95"),(0,r.kt)("p",null,"\ub77c\uc6b0\ud2b8\ub97c \uc0dd\uc131\ud560 \ub54c \uc774 \ud50c\ub7ec\uadf8\uc778\uc744 \uc9c0\uc815\ud558\uace0 \ud544\uc694\ud55c \ubaa8\ub4e0 \ud544\ub4dc\ub97c \uc81c\uacf5\ud574\uc57c \ud569\ub2c8\ub2e4. \uc5ec\uae30\uc5d0 \uc608\uc2dc\uac00 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'curl "http://127.0.0.1:9180/apisix/admin/routes/1" -H "X-API-KEY: edd1c9f034335f136f87ad84b625c8f1" -X PUT -d \'\n{\n  "methods": ["GET"],\n  "uri": "/anything/*",\n  "plugins": {\n    "authz-casdoor": {\n        "endpoint_addr":"http://localhost:8000",\n        "callback_url":"http://localhost:9080/anything/callback",\n        "client_id":"7ceb9b7fda4a9061ec1c",\n        "client_secret":"3416238e1edf915eac08b8fe345b2b95cdba7e04"\n    }\n  },\n  "upstream": {\n    "type": "roundrobin",\n    "nodes": {\n      "httpbin.org:80": 1\n    }\n  }\n}\'\n')),(0,r.kt)("p",null,'\uc774 \uc608\uc5d0\uc11c\ub294 APISIX\uc758 \uad00\ub9ac API\ub97c \uc0ac\uc6a9\ud558\uc5ec "httpbin.org:80"\uc744 \uac00\ub9ac\ud0a4\ub294 \ub77c\uc6b0\ud2b8 "/anything/*"\ub97c \uc0dd\uc131\ud558\uace0 "authz-casdoor" \ud50c\ub7ec\uadf8\uc778\uc744 \ud65c\uc131\ud654\ud588\uc2b5\ub2c8\ub2e4. \uc774 \ub77c\uc6b0\ud2b8\ub294 \uc774\uc81c Casdoor\uc758 \uc778\uc99d \ubcf4\ud638 \uc544\ub798\uc5d0 \uc788\uc2b5\ub2c8\ub2e4.'),(0,r.kt)("h3",{id:"\uc18d\uc131"},"\uc18d\uc131"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\uc774\ub984"),(0,r.kt)("th",{parentName:"tr",align:null},"\uc720\ud615"),(0,r.kt)("th",{parentName:"tr",align:null},"\uc694\uad6c\uc0ac\ud56d"),(0,r.kt)("th",{parentName:"tr",align:null},"\uae30\ubcf8\uac12"),(0,r.kt)("th",{parentName:"tr",align:null},"\uc720\ud6a8"),(0,r.kt)("th",{parentName:"tr",align:null},"\uc124\uba85"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"endpoint_addr"),(0,r.kt)("td",{parentName:"tr",align:null},"\ubb38\uc790\uc5f4"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud544\uc218"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Casdoor\uc758 URL.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"client_id"),(0,r.kt)("td",{parentName:"tr",align:null},"\ubb38\uc790\uc5f4"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud544\uc218"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Casdoor\uc758 \ud074\ub77c\uc774\uc5b8\ud2b8 ID.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"client_secret"),(0,r.kt)("td",{parentName:"tr",align:null},"\ubb38\uc790\uc5f4"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud544\uc218"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Casdoor\uc758 \ud074\ub77c\uc774\uc5b8\ud2b8 \ube44\ubc00\ubc88\ud638.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"callback_url"),(0,r.kt)("td",{parentName:"tr",align:null},"\ubb38\uc790\uc5f4"),(0,r.kt)("td",{parentName:"tr",align:null},"\ud544\uc218"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"\uc0c1\ud0dc\uc640 \ucf54\ub4dc\ub97c \ubc1b\ub294 \ub370 \uc0ac\uc6a9\ub418\ub294 \ucf5c\ubc31 URL.")))),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"endpoint_addr \ubc0f callback_url\uc740 '/'\ub85c \ub05d\ub098\uc9c0 \uc54a\uc544\uc57c \ud569\ub2c8\ub2e4")),(0,r.kt)("p",null,'"authz-casdoor" \ud50c\ub7ec\uadf8\uc778\uc758 \uc124\uc815\uc5d0\uc11c \ub124 \uac00\uc9c0 \ub9e4\uac1c\ubcc0\uc218\ub97c \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.'),(0,r.kt)("p",null,'\uccab \ubc88\uc9f8\ub294 "callback_url"\uc785\ub2c8\ub2e4. \uc774\uac83\uc740 OAuth2\uc758 \ucf5c\ubc31 URL\uc785\ub2c8\ub2e4. \uc774 \ucf5c\ubc31 URL\uc740 ',(0,r.kt)("strong",{parentName:"p"},'\ub77c\uc6b0\ud2b8\uc5d0 \uc9c0\uc815\ud55c "uri"\uc5d0 \uc18d\ud574\uc57c \ud55c\ub2e4\ub294')," \uc810\uc744 \uac15\uc870\ud574\uc57c \ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \uc774 \uc608\uc5d0\uc11c\ub294 ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:9080/anything/callback"},"http://localhost:9080/anything/callback"),'\uc774 \ubd84\uba85\ud788 "/anything/*"\uc5d0 \uc18d\ud569\ub2c8\ub2e4. \uc774 \ubc29\ubc95\ub9cc\uc73c\ub85c, \ucf5c\ubc31_url\ub85c\uc758 \ubc29\ubb38\uc774 \ud50c\ub7ec\uadf8\uc778\uc5d0 \uc758\ud574 \uac00\ub85c\ucc44\uace0 \ud65c\uc6a9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4(\ub530\ub77c\uc11c \ud50c\ub7ec\uadf8\uc778\uc740 OAuth2\uc758 \ucf54\ub4dc\uc640 \uc0c1\ud0dc\ub97c \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4). \ucf5c\ubc31_url\uc758 \ub85c\uc9c1\uc740 \ud50c\ub7ec\uadf8\uc778\uc5d0 \uc758\ud574 \uc644\uc804\ud788 \uad6c\ud604\ub418\ubbc0\ub85c, \uc774 \ucf5c\ubc31\uc744 \uad6c\ud604\ud558\uae30 \uc704\ud574 \uc11c\ubc84\ub97c \uc218\uc815\ud560 \ud544\uc694\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.'),(0,r.kt)("p",null,'\ub450 \ubc88\uc9f8 \ub9e4\uac1c\ubcc0\uc218 "endpoint_addr"\ub294 \ubd84\uba85\ud788 Casdoor\uc758 URL\uc785\ub2c8\ub2e4. \uc138 \ubc88\uc9f8\uc640 \ub124 \ubc88\uc9f8 \ub9e4\uac1c\ubcc0\uc218\ub294 "client_id"\uc640 "client_secret"\uc774\uba70, \uc774\ub294 \uc571\uc744 \ub4f1\ub85d\ud560 \ub54c Casdoor\uc5d0\uc11c \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.'),(0,r.kt)("h3",{id:"\uc5b4\ub5bb\uac8c-\uc791\ub3d9\ud558\ub098\uc694"},"\uc5b4\ub5bb\uac8c \uc791\ub3d9\ud558\ub098\uc694?"),(0,r.kt)("p",null,"\uc774 \ub77c\uc6b0\ud2b8\ub97c \uc774\uc804\uc5d0 \ubc29\ubb38\ud55c \uc801\uc774 \uc5c6\ub294 \uc0c8\ub85c\uc6b4 \uc0ac\uc6a9\uc790\uac00 \ubc29\ubb38\ud558\ub824\uace0 \ud55c\ub2e4\uace0 \uac00\uc815\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4 (",(0,r.kt)("a",{parentName:"p",href:"http://localhost:9080/anything/d?param1=foo&param2=bar"},"http://localhost:9080/anything/d?param1=foo","\xb6","m2=bar"),'). "authz-casdoor"\uac00 \ud65c\uc131\ud654\ub418\uc5b4 \uc788\uc73c\ubbc0\ub85c, \uc774 \ubc29\ubb38\uc740 \uba3c\uc800 "authz-casdoor" \ud50c\ub7ec\uadf8\uc778\uc5d0 \uc758\ud574 \ucc98\ub9ac\ub429\ub2c8\ub2e4. \uc138\uc158\uc744 \ud655\uc778\ud558\uace0 \uc774 \uc0ac\uc6a9\uc790\uac00 \uc544\uc9c1 \uc778\uc99d\ubc1b\uc9c0 \uc54a\uc558\ub2e4\ub294 \uac83\uc744 \ud655\uc778\ud55c \ud6c4, \ubc29\ubb38\uc774 \uc911\ub2e8\ub429\ub2c8\ub2e4. \uc0ac\uc6a9\uc790\uac00 \ubc29\ubb38\ud558\ub824\ub294 \uc6d0\ub798 URL\uc744 \uc720\uc9c0\ud558\uba74\uc11c, \uadf8\ub4e4\uc740 Casdoor\uc758 \ub85c\uadf8\uc778 \ud398\uc774\uc9c0\ub85c \ub9ac\ub514\ub809\uc158\ub429\ub2c8\ub2e4.'),(0,r.kt)("p",null,'\uc0ac\uc6a9\uc790 \uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638(\ub610\ub294 \uadf8\ub4e4\uc774 \uc0ac\uc6a9\ud558\ub294 \uc5b4\ub5a4 \ubc29\ubc95\uc774\ub4e0)\ub85c \uc131\uacf5\uc801\uc73c\ub85c \ub85c\uadf8\uc778\ud55c \ud6c4, Casdoor\ub294 \uc774 \uc0ac\uc6a9\uc790\ub97c "code"\uc640 "state"\uac00 \uc9c0\uc815\ub41c GET \ub9e4\uac1c\ubcc0\uc218\uc640 \ud568\uaed8 "callback_url"\ub85c \ub9ac\ub514\ub809\uc158\ud569\ub2c8\ub2e4. "callback_url"\uc774 \ud50c\ub7ec\uadf8\uc778\uc5d0 \uc758\ud574 \uc54c\ub824\uc838 \uc788\uae30 \ub54c\ubb38\uc5d0, \uc774\ubc88\uc5d0 "callback_url"\ub85c\uc758 \ubc29\ubb38\uc774 \uac00\ub85c\ucc44\uc9c8 \ub54c, OAuth2\uc758 "Authorization code Grant Flow"\uc758 \ub85c\uc9c1\uc774 \ud2b8\ub9ac\uac70\ub429\ub2c8\ub2e4. \uc774\ub294 \ud50c\ub7ec\uadf8\uc778\uc774 \uc561\uc138\uc2a4 \ud1a0\ud070\uc744 \uc694\uccad\ud558\uc5ec \uc774 \uc0ac\uc6a9\uc790\uac00 \uc815\ub9d0\ub85c \ub85c\uadf8\uc778\ud588\ub294\uc9c0 \ud655\uc778\ud55c\ub2e4\ub294 \uac83\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4. \uc774 \ud655\uc778 \ud6c4, \ud50c\ub7ec\uadf8\uc778\uc740 \uc774 \uc0ac\uc6a9\uc790\ub97c \uc774\uc804\uc5d0 \uc6b0\ub9ac\uac00 \uc720\uc9c0\ud588\ub358 \uadf8\ub4e4\uc774 \ubc29\ubb38\ud558\uace0 \uc2f6\uc5b4\ud558\ub294 \uc6d0\ub798 URL\ub85c \ub9ac\ub514\ub809\uc158\ud569\ub2c8\ub2e4. \ub85c\uadf8\uc778 \uc0c1\ud0dc\ub3c4 \uc138\uc158\uc5d0 \uc720\uc9c0\ub429\ub2c8\ub2e4.'),(0,r.kt)("p",null,"\uc774 \uc0ac\uc6a9\uc790\uac00 \ub2e4\uc74c\uc5d0 \uc774 \ub77c\uc6b0\ud2b8 \ub4a4\uc758 URL\uc744 \ubc29\ubb38\ud558\ub824\uace0 \ud560 \ub54c (\uc608\ub97c \ub4e4\uc5b4, ",(0,r.kt)("a",{parentName:"p",href:"http://localhost:9080/anything/d"},"http://localhost:9080/anything/d"),"), \uc774 \uc0ac\uc6a9\uc790\uac00 \uc774\uc804\uc5d0 \uc778\uc99d\ub418\uc5c8\ub2e4\ub294 \uac83\uc744 \ubc1c\uacac\ud55c \ud6c4, \uc774 \ud50c\ub7ec\uadf8\uc778\uc740 \ub354 \uc774\uc0c1 \uc774 \uc0ac\uc6a9\uc790\ub97c \ub9ac\ub514\ub809\uc158\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc774\ub807\uac8c \ud558\uba74, \uc0ac\uc6a9\uc790\ub294 \uc774 \ub77c\uc6b0\ud2b8 \uc544\ub798\uc5d0\uc11c \uc6d0\ud558\ub294 \uac83\uc744 \ubc29\ubb38\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("h2",{id:"apisix\uc758-oidc-\ud50c\ub7ec\uadf8\uc778\uc744-\ud1b5\ud574-casdoor\uc5d0-\uc5f0\uacb0"},"APISIX\uc758 OIDC \ud50c\ub7ec\uadf8\uc778\uc744 \ud1b5\ud574 Casdoor\uc5d0 \uc5f0\uacb0"),(0,r.kt)("p",null,"Casdoor\ub294 OIDC \ud504\ub85c\ud1a0\ucf5c\uc744 \uc0ac\uc6a9\ud558\uc5ec APISIX\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc788\uc73c\uba70, \uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 \uadf8 \ubc29\ubc95\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4."),(0,r.kt)("p",null,"\ub2e4\uc74c\uc740 \uad6c\uc131\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uc77c\ubd80 \uc774\ub984\uc785\ub2c8\ub2e4:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"CASDOOR_HOSTNAME"),": Casdoor \uc11c\ubc84\uac00 \ubc30\ud3ec\ub41c \ub3c4\uba54\uc778 \uc774\ub984 \ub610\ub294 IP."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"APISIX_HOSTNAME"),": APISIX\uac00 \ubc30\ud3ec\ub41c \ub3c4\uba54\uc778 \uc774\ub984 \ub610\ub294 IP."),(0,r.kt)("h3",{id:"\ub2e8\uacc4-1-casdoor-\ubc0f-apisix-\ubc30\ud3ec"},"\ub2e8\uacc4 1: Casdoor \ubc0f APISIX \ubc30\ud3ec"),(0,r.kt)("p",null,"\uba3c\uc800, ",(0,r.kt)("a",{parentName:"p",href:"/docs/basic/server-installation"},"Casdoor"),"\uc640 ",(0,r.kt)("a",{parentName:"p",href:"https://apisix.apache.org/docs/apisix/installation-guide/"},"APISIX"),"\ub97c \ubc30\ud3ec\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc131\uacf5\uc801\uc778 \ubc30\ud3ec \ud6c4, \ub2e4\uc74c\uc744 \ud655\uc778\ud574\uc57c \ud569\ub2c8\ub2e4:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Casdoor\ub294 \ub85c\uadf8\uc778\ud558\uace0 \uc815\uc0c1\uc801\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("li",{parentName:"ol"},"Casdoor\uc758 ",(0,r.kt)("inlineCode",{parentName:"li"},"origin")," \uac12 (conf/app.conf)\uc744 ",(0,r.kt)("inlineCode",{parentName:"li"},"CASDOOR_HOSTNAME"),"\uc73c\ub85c \uc124\uc815\ud558\uc138\uc694. ",(0,r.kt)("img",{alt:"Casdoor conf",src:a(66496).Z,width:"1013",height:"448"}))),(0,r.kt)("h3",{id:"\ub2e8\uacc4-2-casdoor-\uc560\ud50c\ub9ac\ucf00\uc774\uc158-\uad6c\uc131"},"\ub2e8\uacc4 2: Casdoor \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uad6c\uc131"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\uc0c8\ub85c\uc6b4 Casdoor \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \ub9cc\ub4e4\uac70\ub098 \uae30\uc874\uc758 \uac83\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,r.kt)("li",{parentName:"ol"},"\ub9ac\ub514\ub809\ud2b8 URL\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4: ",(0,r.kt)("inlineCode",{parentName:"li"},"http://APISIX_HOSTNAME/REDIRECTWHATYOUWANT"),", \uadf8\ub9ac\uace0 ",(0,r.kt)("inlineCode",{parentName:"li"},"REDIRECTWHATYOUWANT"),"\uc744 \uc6d0\ud558\ub294 \ub9ac\ub514\ub809\ud2b8 URL\ub85c \ub300\uccb4\ud569\ub2c8\ub2e4."),(0,r.kt)("li",{parentName:"ol"},'\ud1a0\ud070 \ud615\uc2dd \uc635\uc158\uc5d0 \ub300\ud574 "JWT-Empty"\ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4.'),(0,r.kt)("li",{parentName:"ol"},"\uc6d0\ud558\ub294 \uc81c\uacf5\uc790\ub97c \ucd94\uac00\ud558\uace0 \ub2e4\ub978 \uc124\uc815\uc744 \uad6c\uc131\ud569\ub2c8\ub2e4.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\uc751\uc6a9 \ud504\ub85c\uadf8\ub7a8 \uc124\uc815",src:a(19654).Z,width:"2103",height:"538"})," \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc124\uc815 \ud398\uc774\uc9c0\uc5d0\uc11c \uc704\uc758 \uadf8\ub9bc\uacfc \uac19\uc774 ",(0,r.kt)("inlineCode",{parentName:"p"},"Client ID"),"\uc640 ",(0,r.kt)("inlineCode",{parentName:"p"},"Client Secret")," \uac12\uc744 \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c \ub2e8\uacc4\uc5d0\uc11c \uc774\ub4e4\uc744 \uc0ac\uc6a9\ud560 \uac83\uc785\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc120\ud638\ud558\ub294 \ube0c\ub77c\uc6b0\uc800\ub97c \uc5f4\uace0 ",(0,r.kt)("strong",{parentName:"p"},"http://",(0,r.kt)("inlineCode",{parentName:"strong"},"CASDOOR_HOSTNAME"),"/.well-known/openid-configuration"),"\uc744 \ubc29\ubb38\ud558\uba74, Casdoor\uc758 OIDC \uad6c\uc131\uc744 \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("h3",{id:"\ub2e8\uacc4-3-apisix-\uad6c\uc131"},"\ub2e8\uacc4 3: APISIX \uad6c\uc131"),(0,r.kt)("p",null,"APISIX\ub294 \uacf5\uc2dd\uc801\uc73c\ub85c ",(0,r.kt)("a",{parentName:"p",href:"https://apisix.apache.org/docs/apisix/plugins/openid-connect/"},"OIDC"),"\ub97c \uc9c0\uc6d0\ud558\uba70, \uc774\ub294 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/zmartzone/lua-resty-openidc"},"lua-resty-openidc"),"\ub97c \uc0ac\uc6a9\ud558\uc5ec \uad6c\ud604\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"APISIX OIDC \ubb38\uc11c\uc5d0 \ub530\ub77c \uc124\uc815\uc744 \uc0ac\uc6a9\uc790 \uc815\uc758\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c \ub77c\uc6b0\ud305 \uc124\uc815\uc774 \uc0ac\uc6a9\ub420 \uac83\uc785\ub2c8\ub2e4:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'# Use your own X-Api-Key\n$ curl -X POST APISIX_HOSTNAME/apisix/admin/routes -H "X-Api-Key: edd1c9f034335f136f87ad84b625c8f1" -d \'{\n  "uri": "/get",\n  "name": "apisix_casdoor_test",\n  "plugins": {\n    "openid-connect": {\n      "client_id": "Client ID",\n      "client_secret": "Client Secret",\n      "discovery": "http://CASDOOR_HOSTNAME/.well-known/openid-configuration",\n      "introspection_endpoint_auth_method": "client_secret_basic",\n      "logout_path": "/logout",\n      "realm": "master",\n      "redirect_uri": "http://APISIX_HOSTNAME/REDIRECTWHATYOUWANT",\n      "bearer_only": false,\n      "set_id_token_header": false,\n      "access_token_in_authorization_header": true,\n      "set_access_token_header": true,\n      "set_userinfo_header": false,\n      "realm": "master"\n    }\n  },\n  "upstream": {\n    "type": "roundrobin",\n    "nodes": {\n      "httpbin.org:80": 1\n    }\n  }\n}\'\n')),(0,r.kt)("p",null,"\uc774\uc81c, ",(0,r.kt)("inlineCode",{parentName:"p"},"http://APISIX_HOSTNAME/get"),"\uc744 \ubc29\ubb38\ud558\uba74, \ube0c\ub77c\uc6b0\uc800\ub294 \ub2f9\uc2e0\uc744 Casdoor \ub85c\uadf8\uc778 \ud398\uc774\uc9c0\ub85c \ub9ac\ub514\ub809\ud2b8\ud560 \uac83\uc785\ub2c8\ub2e4. \uc131\uacf5\uc801\uc73c\ub85c \ub85c\uadf8\uc778\ud55c \ud6c4, \uc544\ub798 \uc2a4\ud06c\ub9b0\uc0f7\uc5d0 \ud45c\uc2dc\ub41c \uac83\ucc98\ub7fc httpbin.org\ub85c \uc694\uccad\uc774 \uc804\uc1a1\ub418\uc5c8\uc74c\uc744 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4. ",(0,r.kt)("img",{alt:"APISIX_Result",src:a(37695).Z,width:"2209",height:"1648"})))}c.isMDXComponent=!0},66496:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/casdoor_origin-8f5d9e44f6b58828ce69e6e6d896e122.png"},37695:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/apisix_result-3475043d31a06fd90894e80e8b4ca9f3.png"},19654:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/casdoor_jwtempty-68f57615f6dc135f498b45e6b2d7bf57.png"}}]);